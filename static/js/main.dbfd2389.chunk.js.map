{"version":3,"sources":["services/message.ts","utils/timer.ts","configs/c2Mods.ts","utils/arr.ts","utils/regs.ts","components/dumb/general.module.css","services/concent.ts","components/GeneralTable/model/state.ts","components/GeneralTable/model/computed.ts","components/GeneralTable/model/reducer.ts","components/GeneralTable/model/lifecycle.ts","components/GeneralTable/model/meta.ts","components/GeneralTable/model/index.ts","components/GeneralTable/index.tsx","services/staff.ts","components/dumb/general.tsx","layout/styles/App.module.css","utils/common.ts","pages/Home/model/state.ts","pages/Home/model/computed.ts","pages/Home/model/reducer.ts","utils/num.ts","pages/Home/model/lifecycle.ts","pages/Home/model/index.ts","configs/constant/sys.ts","configs/constant/routerPath.ts","configs/constant/index.ts","components/AuthView/index.tsx","components/Charts/Bar/index.tsx","pages/Home/index.tsx","configs/menus.ts","configs/derived/menus.ts","services/color.ts","models/global/state.ts","services/appPath.ts","models/global/reducer.ts","models/global/computed.ts","models/global/lifecycle.ts","models/global/watch.ts","models/global/index.ts","models/counter/computed.ts","models/counter/reducer.ts","models/counter/lifecycle.ts","models/counter/index.ts","models/counter/state.ts","models/todolist/state.ts","models/todolist/computed.ts","utils/url.ts","services/http.ts","services/domain/todo.ts","models/todolist/reducer.ts","models/todolist/lifecycle.ts","models/todolist/index.ts","models/_demo/reducer.ts","models/_demo/computed.ts","models/_demo/lifecycle.ts","models/_demo/index.ts","models/_demo/state.ts","models/singleFile.ts","models/index.ts","configs/runConcent.ts","layout/components/Logo.tsx","layout/components/common/BaseIcon.tsx","layout/components/SettingIcon.tsx","layout/components/LogoutIcon.tsx","layout/components/SiteColorIcon.tsx","layout/components/Header.tsx","layout/components/QuickNavBar.tsx","layout/TopContent.tsx","components/dumb/Error403.tsx","components/dumb/Error404.tsx","layout/components/SkeletonScreen.tsx","layout/components/Routes.tsx","layout/MainContent.tsx","components/dumb/SiderSwitchIcon/index.tsx","layout/components/Sider.tsx","layout/LeftContent.tsx","layout/Footer.tsx","layout/components/SettingDrawer.tsx","layout/components/Login.tsx","layout/components/WaterMark.tsx","layout/index.tsx","serviceWorker.ts","index.tsx","utils/obj.ts"],"names":["key2tipTimer","validMethods","_callMessageMethod","method","cb","content","displayDuration","noDupDuration","includes","console","error","message","key","setTimeout","Promise","resolve","success","warn","delay","ms","r","modName","name","COUNTER","HOME","removeDupStrItem","oriList","toRemoveList","newList","forEach","item","push","lastItem","arr","length","merge","tmpList","listArgs","list","concat","set","Set","Array","from","regs","module","exports","priBuildCallParams","moduleName","connect","options","targetOptions","setup","tag","extra","staticExtra","cuDesc","passCuDesc","props","ccClassKey","regOpt","callTarget","callerParams","ac","errHandler","a","ret","isArray","Function","prototype","apply","call","dispatch","fnName","payload","renderKey","useC2Mod","useConcent","useC2DefaultMod","cst","MODULE_DEFAULT","useSetup","mergedOptions","settings","useSetupCtx","typeCtxM","ctx","reducer","getGlobalState","getGst","getGlobalComputed","getComputed","MODULE_GLOBAL","ctxOn","on","getInitMetaData","hasMoreMode","pageSize","lockId","hasMore","current","total","loading","getInitialState","meta","doubleCount","newState","getTableMeta","tableId","obj","modTableMeta","moduleState","toMod","tableMeta","parseInt","handlePageCurrentChange","_","fetchFn","Date","now","fetchTableData","handleNextPage","handlePageSizeChange","clearTable","m","oldList","res","pageList","page_list","start","v","idx","__seq","targetList","mounted","willUnmount","modelDesc","state","computed","lifecycle","model","useModelWithSetup","makeUseModelWithSetup","makeUseModelWithSetupCuf","makeUseModel","configure","tid","fetchAfterMounted","propsFetchFn","pageSizeOptions","ccUniqueKey","_fetchFn","mr","effect","handelPageSizeChange","page","React","memo","columns","rowKey","scroll","x","disableBtnWhenNoMore","size","dataSource","pagination","style","height","width","disabled","onClick","onShowSizeChange","onChange","showSizeChanger","getStaffList","window","initData","searchUsers","toMatchStr","slice","pattern","RegExp","filter","rtxname","test","debounce","ButtonBase","children","AsyncButton","className","styles","asyncButton","Blank","type","mergedStyle","display","VerticalBlank","EmptyView","isLocalMode","location","port","value","bigValue","barData","forCopy","log","setState","incrementBigValue","increment","decrement","incrementByAmount","amount","incrementAsync","foo","ranBarData","p","fill","map","i","time","seed","Math","floor","random","getItem","clear","TopHeaderTypes","TopNavBarTypes","SiderViewTypes","SiteColorTypes","LoginStatus","siderWidth","siderWidthPx","buttomBgColor","contentBgColor","siteThemeColor","waterMarkLabel","imgLong","notCollapsedLogoImg","notCollapsedLogoImgOfDark","notCollapsedLogoLabel","img2","collapsedLogoImg","collapsedLogoImgOfDark","collapsedLogoLabel","img404","img403","LS_C2PRO_SETTINGS","LS_C2PRO_SETTINGS_VER","DEMO","DEMO_USE_SETUP","SIMPLE_LIST","STEP_FORM","routerPath","routerPathCst","sys","sysCst","globalState","authIds","authId","chartInfo","useRef","ins","useEffect","changeData","data","chart","Chart","container","autoFit","scale","alias","nice","axis","tickLine","tooltip","showMarkers","interaction","interval","position","val","fillOpacity","lineWidth","stroke","lineDash","render","getChart","destroy","id","layoutOptions","label","c","mods","gr","t","setInterval","clearInterval","changeTopViewType","e","layout","target","argMap","1","COLLAPSED","HIDDEN","FIXED","2","NOT_COLLAPSED","3","siderViewType","topHeaderType","topNavBarType","addAuthId","delAuthId","indexOf","splice","homeState","homeMr","se","paddingTop","marginLeft","href","GithubOutlined","fontSize","title","QuestionCircleOutlined","Group","history","span","hoverable","cover","alt","src","Meta","description","Bar","showUnderLocalMode","menus","Icon","FormOutlined","path","Component","HomePage","isHomePage","OrderedListOutlined","lazy","showInSider","PlusCircleOutlined","setContentLayout","RightCircleOutlined","path2menuItem","path2menuGroup","showingMenus","allMenus","homePageFullPath","groupItem","rest","showingMenuGroup","allMenuGroup","childItem","exact","fillDefaultValChildItem","menuItem","fillDefaultValMenuItem","calcMenus","flattedMenus","flatted","pushToFlatted","flatMenus","privSetColor","document","documentElement","setProperty","hex2rgbString","hexColor","rgb","Color","object","hex2rgb","g","b","getThemeColorLight","lighten","themeColorLight","hex","changeFontAlpha","alpha","themeColor","themeColorRGB","colorServ","defaultState","activeRoutePaths","curActiveRoutePath","siteColorType","NORMAL","allowWaterMark","curActiveRouteFullPath","isTabPaneHeavyBg","fontAlpha","siderViewToCollapsedTime","siderViewTypeBackup","settingDrawerVisible","siderTheme","headerTheme","isUsingDefaultThemeColor","custThemeColor","someInfo","loginStatus","LOGGING","loginBtnLoading","isAppReady","userName","userIcon","isAdmin","isInnerMock","commonUtil","excludedMockApis","isKeyVerEqual","localStorage","setItem","needCachedSettings","cachedSettings","safeParse","final","validActiveRoutePaths","err","inEnum","cachedAppName","getBasename","hostname","pathname","getRelativeRootPath","hash","basename","targetPathname","startsWith","extractPathAndSearch","substr","startIdx","getSearchPath","search","pathMayIncludeSearch","firstQuestionIdx","stringMyStartsWithQuestion","substring","ensureNoStartQuestion","fakeLoginData","token","isLogin","toggleCollapsedBtn","changeIsUsingDefaultTheme","checked","changeThemeColor","addActiveRoutePath","newFullPath","toSet","find","delActiveRoutePath","targetRoutePath","findIndex","toDelPath","firstPath","toggleSiderVisible","changeSiderViewType","setCustThemeColor","changeIsTabPaneHeavyBg","switchSiderTheme","switchHeaderTheme","changeIsInnerMock","loginByCookie","loginDeadline","loginData","LOGIN_SUCCESS","LOGIN_FAILED","loginByPassword","pwd","msgServ","String","logout","th","tn","viewType2LeftValue","logoKey2ImgUrlList","paddingTopMap","FLOWED","headerStyleMap","zIndex","left","right","marginTop","navBarStyleMap","top","isHeaderAboveNavBar","n","contentLayoutStyle","minHeight","overflowX","headerStyle","toReturn","backgroundColor","color","quickNavBarStyle","boxSizing","paddingLeft","siderStyle","iconCtrl","showInHeader","showInBar","showInBody","logoCtrl","showLabel","imgUrl","setShowLabel","themeValue","imgUrlList","siderInfo","iconDes","isUnfold","showSider","siderThemeSwitchChecked","headerThemeSwitchChecked","navBarItemCls","loaded","rd","staffServ","settingsKeyChange","defWatch","o","f","isFirstCall","str","JSON","stringify","immediate","watchDarkSiteChange","newFilter","DARK","GREY","htmlDom","querySelector","watch","incrementOne","decrementOne","toInc","incBy","keyword","formattedInput","purify","url","split","cute","setConfig","retryCount","timeout","generalOptions","headers","withCredentials","mockData","seperateOptions","returnLogicData","defaultValue","check","alertErrorMsg","failStrategy","const","KEEP_ALL_BEEN_EXECUTED","bizServiceName","cuteOptions","logicOptions","checkCode","axiosReply","checkOptions","statusCode","httpResponse","Error","status","response","code","msg","errMsg","attachPrefixAndData","pureUrl","replace","prefixedUrl","objUtil","dataQueryStr","qs","handleError","messageService","sendRequest","mergedOpt","c2Serv","getRealReply","reply","mockImpl","timerUtil","fakeHttp","hasMockedFn","urlUtil","mockResult","body","sendXForm","xFormOptions","_data","urls","_urls","multiGet","replyList","items","multiPost","finalUrl","formData","FormData","Object","keys","hasOwnProperty","File","append","appendVal","instance","axios","create","post","downloadFile","form","createElement","action","appendChild","input","submit","remove","get","put","xFormPost","xFormPut","postFormData","getTodoList","http","fetchList","todoServ","addBig","aNormalMethod","actionCtx","changeDesc","desc","currentTarget","nodeName","todos","revesedDesc","reverse","join","num","defineModule","add","toAdd","undefined","asyncAdd","double","Home","HomeModel","plugins","reduxDevToolPlugin","run","models","errorHandler","msgService","alwaysRenderCaller","isStrict","globalComputed","backgroundImage","logoLabelWrap","logoWrap","iconClsMap","bar","header","settingInHeader","settingInBody","uiEmpty","mode","gcu","iconCls","icon","openThemeSettingsDrawer","setGlobalState","passProps","SettingOutlined","Modal","confirm","onOk","LogoutOutlined","colorTypeOptions","initState","visible","insState","handleVisibleChange","changeSiteColorType","SkinOutlined","uiContent","optionType","buttonStyle","placement","trigger","onVisibleChange","gst","Header","headerRightAreaWrap","userIconWarp","TabPane","Tabs","stItemIcon","marginRight","curActiveRoutePathMayIncludeSearch","onEdit","getNavMenus","navMenus","unshift","menuGroup","changeDarkMode","darkSite","activeKey","hideAdd","arrUtil","uiIcon","QuestionOutlined","navLen","pathWithSearch","uiTab","tab","headerSettingWrapInBar","verticalAlign","checkedChildren","unCheckedChildren","Fragment","stBg","backgroundRepeat","backgroundPosition","margin","Error403","Error404","SkeletonScreen","padding","avatar","paragraph","rows","textAlign","Content","Layout","RouterGuard","Comp","routerProps","Routes","errOccurred","cachedUi","uiRoutes","uiHomeRoute","uiNotFound","cachedUiCompWrapContent","renderCrashTip","renderChildren","inputSetContentLayout","decideVal","renderChildrenWithContentWrap","uiReplaceRouteComp","executed","beforeComponentMount","uiCompWrapContent","ui","layoutStyle","uiTargetComp","renderChildrenWithNoContentWrap","makeCompWrap","buildRouteUi","homeMenuItem","CompWrap","component","CompNotFoundWrap","uiNotFoundRoute","this","getUrlChangedEvName","param","contentWrap","fallback","register","stDrawerIcon","SiderSwitchIcon","des","LeftCircleOutlined","SubMenu","Menu","MenuItem","Item","firstCallGetOpenKeys","iState","openKeys","selectedKeys","prevPathName","prevSearch","emit","setActiveRoutePath","getOpenKeys","changeSelectedKeys","openMenus","renderMenuItem","to","toggleCollapsed","SiderMenus","borderRight","theme","siderMenusWrap","onOpenChange","onSelect","inlineCollapsed","uiGroupItemIon","siderWrap","border","DoubleLeftOutlined","DoubleRightOutlined","globalReducer","Sider","footerWrap","MySwatchesPicker","styled","SwatchesPicker","stLoveIcon","transform","pickerMode","closeThemeSettingsDrawer","changePickerMode","changeTopHeaderType","changeTopNavBarType","onWebsiteColorChange","colorResult","onSiderThemeChange","onHeaderThemeChange","changeAllowWaterMark","onInnerMockChange","copyColor","copy","onClose","CopyOutlined","onChangeComplete","gutter","xs","sm","md","lg","min","max","HeartOutlined","labelCol","wrapperCol","tailLayout","offset","bgThemes","uiLoginAreaTitle","themeIdx","onFinish","values","username","password","changeLoginBg","nextThemeIdx","bg","loginCardWrap","initialValues","remember","onFinishFailed","errorInfo","rules","required","placeholder","Password","valuePropName","htmlType","footerFixedWrap","MarkGrid","wmGrid","waterMarkWrap","App","locale","zhCN","RootRouter","HashRouter","BrowserRouter","callUrlChangedOnInit","Boolean","match","ReactDOM","node","getElementById","getHostNode","navigator","serviceWorker","ready","then","registration","unregister","catch","okeys","isValidVal","isObject","allowArr","safeGet","safeAssign","jsonStr","parse","isNull","nullDef","nullValues","checkObjValues","emptyObjIsNull","emptyArrIsNull","inNullValues","keyLen","allIsNull","subValue","isDepthLargeThan","toCompare","depthRecorder","tryDetectObjDepth","curDepth","newDepth","getObjDepth","firstVal","secondVal","enumObj"],"mappings":"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","file":"static/js/main.dbfd2389.chunk.js","sourcesContent":["/**\n * -----------------------------------------------------------------------------------------\n * 对接antd message模块，防止频繁调用时出现相同内容的提示\n * -----------------------------------------------------------------------------------------\n */\nimport { message } from 'antd';\n\n/**\n * key: ${method}_${content}\n * 缓存对应方法的提示回调\n */\nconst key2tipTimer = {} as Record<string, any>;\nconst validMethods = ['info', 'error', 'success', 'warn', 'warning'] as const;\nconst NO_DUP_DURATION = 1200;\n\ntype MsgType = import('antd/lib/message').MessageType | 'ignored';\ntype Methods = typeof validMethods[number];\n/** 单位：s，提示展现多少s后消失 */\ntype DisplayDuration = number;\n/** 单位：ms, 该指定毫秒时间内出现的重复提示会被忽略掉，小于0时无该规则 */\ntype NoDupDuration = number;\n\nfunction _callMessageMethod(method: Methods, cb: (arg: any) => void, content: React.ReactNode, displayDuration: DisplayDuration, noDupDuration: NoDupDuration) {\n  if (!validMethods.includes(method)) {\n    console.error(`messageService call invalid method[${method}]`);\n    return cb('ignored');\n  }\n\n  // 直接提示，无重复校验规则\n  if (noDupDuration < 0) {\n    return cb(message[method](content, displayDuration));\n  }\n\n  const key = `${method}_${content}`;\n  const tipTimer = key2tipTimer[key];\n  if (tipTimer) {\n    // 忽略本次提示\n    return cb('ignored');\n  }\n\n  key2tipTimer[key] = setTimeout(() => {\n    delete key2tipTimer[key];\n  }, noDupDuration);\n\n  cb(message[method](content, displayDuration));\n}\n\n/**\n * 通用的提示方式，动态传参决定提示类型\n */\nexport function call(method: Methods, content: React.ReactNode, displayDuration: DisplayDuration = 3,\n  noDupDuration: NoDupDuration = NO_DUP_DURATION\n) {\n  return new Promise((resolve) => {\n    _callMessageMethod(method, resolve, content, displayDuration, noDupDuration);\n  }) as Promise<MsgType>;\n}\n\n/**\n * 普通提示\n */\nexport function info(content: React.ReactNode, displayDuration: DisplayDuration = 3, noDupDuration: NoDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('info', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 错误提示\n */\nexport function error(content: React.ReactNode, displayDuration: DisplayDuration = 3, noDupDuration: NoDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('error', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 成功提示\n */\nexport function success(content: React.ReactNode, displayDuration: DisplayDuration = 3, noDupDuration: NoDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('success', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 警告提示\n */\nexport function warn(content: React.ReactNode, displayDuration: DisplayDuration = 3, noDupDuration: NoDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('warn', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 警告提示\n */\nexport function warning(content: React.ReactNode, displayDuration: DisplayDuration = 3, noDupDuration: NoDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('warning', resolve, content, displayDuration, noDupDuration);\n  });\n}\n","\nexport function delay(ms = 1000) {\n  return new Promise(r => setTimeout(r, ms));\n}\n","\n/**\n * delare module names in this file\n */\n\n// 用于处理分微前端场景，在动态加载新模块时，防止不同的子应用模块重复\n// 推荐起一个和当前子应用同名的名字\n// 如不需要前缀，这里写为 '' 即可\\\nexport const MOD_PREFIX = '' as const;\n\nconst modName = <T extends string>(name: T) => `${MOD_PREFIX}${name}` as `${typeof MOD_PREFIX}${T}`;\n\nexport const DEMO = 'Demo' as const;\nexport type T_DEMO = typeof DEMO;\n\nexport const DEMO_TODO_LIST = modName('DemoTodoList');\nexport type T_DEMO_TODO_LIST = typeof DEMO_TODO_LIST;\n\nexport const DEMO_CLONED = modName('DemoCloned');\nexport type T_DEMO_CLONED = typeof DEMO_CLONED;\n\nexport const COUNTER = modName('Counter');\nexport type T_COUNTER = typeof COUNTER;\n\nexport const HOME = modName('Home');\nexport type T_HOME = typeof HOME;\n\n// 接入申请页面\nexport const APPLY_CONFIG = modName('ApplyConfig');\nexport type T_APPLY_CONFIG = typeof APPLY_CONFIG;\n\n// 接入列表页面\nexport const APPLY_LIST = modName('ApplyList');\nexport type T_APPLY_LIST = typeof APPLY_LIST;\n","\n\n/**\n * 将list转为map\n * @param list\n * @param keyNameOrFn 选择哪个key的值作为map的key，也可以是一个动态生成key的函数\n * @param getValue\n*/\nexport function toMap<T, V extends any = T>(list: T[], keyNameOrFn: keyof T | ((value: T) => string), getValue?: (value: T) => any): Record<string, V> {\n  const map = {} as Record<string, V>;\n  if (!list) return map;\n  list.forEach(v => {\n    const anyV = v as any;\n    let mapKey;\n    if (typeof keyNameOrFn === 'function') mapKey = keyNameOrFn(v);\n    else mapKey = anyV[keyNameOrFn];\n\n    if (getValue) map[mapKey] = getValue(v);\n    else map[mapKey] = anyV;\n  });\n  return map;\n}\n\n\nexport function removeDupStrItem(oriList: string[], toRemoveList: string[]) {\n  const newList: string[] = [];\n  oriList.forEach(item => !toRemoveList.includes(item) && newList.push(item));\n  return newList;\n}\n\nexport function removeTargetItem<T extends any>(oriList: T[], findCb: (item: T) => boolean) {\n  const idx = oriList.findIndex(findCb);\n  const copyList = oriList.slice();\n  copyList.splice(idx, 1);\n  return copyList;\n}\n\n\nexport function lastItem<T>(arr: T[]): T {\n  return arr[arr.length - 1];\n}\n\nexport function nodupStrPush(oriList: string[], toPush: string) {\n  if (!oriList.includes(toPush)) oriList.push(toPush);\n};\n\ntype PrimitiveItem = number | string;\n/**\n * merge([1,2,3], [4,5,6])\n * @param listArgs - 多个list参数\n */\nexport function merge<T extends PrimitiveItem>(...listArgs: T[][]) {\n  let tmpList: T[] = [];\n  listArgs.forEach(list => tmpList = tmpList.concat(list));\n  const set = new Set(tmpList);\n  tmpList = Array.from(set);\n  // listArgs.forEach(list => list.forEach(item => nodupPush(tmpList, item)));\n  return tmpList;\n}\n\n/**\n * 区别于 merge， 类型上支持 混合类型的数组一起 merge\n * merge([1,2,3], ['5','6'], [8,1,2])\n * @param listArgs - 多个list参数\n */\nexport function mergeMix(...listArgs: PrimitiveItem[][]) {\n  return merge(...listArgs);\n}\n","/**\n * 采取getter模式，让外界来每次获取的都是新的正则表达式\n * 避免同一个表达式反复使用出现bug\n */\n\nconst regs = {\n  get num1to9() {\n    return /^[1-9]+[0-9]*$/;\n  }\n}\n\nexport default regs;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"general_button__enkDX\",\"textbox\":\"general_textbox__36LfG\",\"asyncButton\":\"general_asyncButton__1glvj general_button__enkDX\",\"normalButton\":\"general_normalButton__29Hta general_button__enkDX\"};","/**\n * concent 相关的一些公共封装函数\n */\nimport {\n  useConcent, reducer, getState as getSt, getGlobalState as getGst, emit, getComputed,\n  IActionCtxBase, cst, MODULE_DEFAULT, MODULE_GLOBAL,\n  ICtxBase, IAnyObj, SettingsType, ComputedValType, SetupFn, MultiComputed, CallTargetParams,\n} from 'concent';\nimport { noop } from 'utils/fn';\nimport { CtxM, CtxMConn, CtxConn, Modules, RootRd, RootState, RootCu } from 'types/store';\nimport { EvMap } from 'types/eventMap';\n\nfunction priBuildCallParams(moduleName: Modules, connect: Array<Modules>, options?: Options<any, any, any, any, any, any>) {\n  const targetOptions = options || {};\n  const { setup, tag, extra, staticExtra, cuDesc, passCuDesc = true, props = {}, ccClassKey } = targetOptions;\n  const regOpt = { module: moduleName, connect, setup, props, tag, extra, staticExtra, cuDesc: null as any };\n  if (passCuDesc) regOpt.cuDesc = cuDesc;\n  return { regOpt, ccClassKey };\n}\n\n/**\n * 调用目标函数，用于对接 reducer里的 ghost函数\n * @param callerParams\n * @param ac\n */\nexport async function callTarget<T extends any = any>(callerParams: CallTargetParams, ac: IActionCtxBase, errHandler?: (err: Error) => void): Promise<T> {\n  let ret: T = {} as any;\n  try {\n    // 支持 reducer文件里内部调用 ac.dispatch(loading, fnPayload(targetFn, payload))\n    if (Array.isArray(callerParams)) {\n      ret = await Function.prototype.apply.call(ac.dispatch, ac, callerParams);\n    } else {\n      const { fnName, payload, renderKey, delay } = callerParams;\n      ret = await ac.dispatch(fnName, payload, renderKey, delay) as unknown as any;\n    }\n  } catch (err) {\n    if (errHandler) errHandler(err);\n    throw err;\n  }\n  return ret;\n}\n\nexport interface ValidSetup {\n  (ctx: ICtxBase): IAnyObj | void;\n}\nexport interface ValidMapProps {\n  (ctx: ICtxBase): IAnyObj;\n}\nexport interface OptionsBase<\n  P extends IAnyObj,\n  CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj,\n  StaticExtra extends any,\n  Mp extends ValidMapProps\n  > {\n  props?: P;\n  tag?: string;\n  ccClassKey?: string;\n  extra?: Extra;\n  staticExtra?: StaticExtra;\n  /**\n   * 一个遗留的参数，对接useConcent的mapProps，每一轮渲染都会调用，返回结果可通过 ctx.mapped拿到\n   */\n  mapProps?: Mp;\n  cuDesc?: CuDesc;\n  /**\n   * 是否透传 cuSpec 给 useConcent函数，默认为true，\n   * 表示需要透传，此时用户不需要再setup函数体内调用 ctx.computed(cuSpec)\n   * 如果用户设置passCuSpec为false，表示传入 cuSpec 仅为了方便推导出refComputed类型，但不透传 cuSpec 给 useConcent函数\n   * 注意此时用户需要在 setup函数体内调用 ctx.computed(cuSpec) 来完成示例计算函数的定义，\n   * 否则 refComputed 里拿不到真正的计算结果\n   */\n  passCuDesc?: boolean;\n}\nexport interface Options<\n  P extends IAnyObj,\n  Setup extends ValidSetup,\n  CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj,\n  StaticExtra extends any,\n  Mp extends ValidMapProps\n  > extends OptionsBase<P, CuDesc, Extra, StaticExtra, Mp> {\n  setup?: Setup;\n}\n\n/**\n * 属于某个模块\n * use the target model context you want by passing a module name\n * 如需要全局任意地方可通过 useC2Mod('xx') 导出xx模块上下文来使用，\n * 需要在 src/models/index.js 显式的导出该模块\n *\n * -----------------------[Export example]-----------------------\n * ```js\n * import somePageModel from 'pages/SomePage/model';\n * import someCompModel from 'components/SomeComp/model';\n * const allModels = {...somePageModel,  ...someCompModel};\n * ```\n * ---------------------------------------------------------------\n *\n * 各种调用示例：\n * 需自己跳转到 components/_demosOfHook/useC2Mod 文件里查看\n * @see {useC2ModDemos.Example} - 简单示例\n * @see {useC2ModDemos.ExampleCallMr} - 调用moduleReducer\n * @see {useC2ModDemos.ExampleReadMcu} - 读取模块计算结果\n * @see {useC2ModDemos.ExampleSetup} - 配置setup\n * @see {useC2ModDemos.ExampleRefCu} - 定义实例计算\n * @param moduleName\n * @param options {Options} - 可选参数，见 Options定义\n */\nexport function useC2Mod<\n  M extends Modules, Setup extends ValidSetup, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n  >(moduleName: M, options?: Options<P, Setup, CuDesc, Extra, StaticExtra, Mp>) {\n  const { regOpt, ccClassKey } = priBuildCallParams(moduleName, [], options);\n  type Ctx = CtxM<P, M, SettingsType<Setup>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n  return useConcent<{}, Ctx>(regOpt, ccClassKey);\n}\n\n/**\n * 使用默认模块（在没有重写$$default模块的情况下，默认模块是一个空模块）\n * @param options\n * @returns\n */\nexport function useC2DefaultMod<\n  Setup extends ValidSetup, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n  >(options?: Options<P, Setup, CuDesc, Extra, StaticExtra, Mp>) {\n  const { regOpt, ccClassKey } = priBuildCallParams(cst.MODULE_DEFAULT, [], options);\n  type Ctx = CtxM<P, MODULE_DEFAULT, SettingsType<Setup>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n  return useConcent<{}, Ctx>(regOpt, ccClassKey);\n}\n\n/**\n * 属于某个模块，连接多个模块\n */\nexport function useC2ModConn<\n  M extends Modules, Conn extends Array<Modules>, Setup extends ValidSetup, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n  >(moduleName: M, connect: Conn, options?: Options<P, Setup, CuDesc, Extra, StaticExtra, Mp>) {\n  const { regOpt, ccClassKey } = priBuildCallParams(moduleName, connect, options);\n  type Ctx = CtxMConn<P, M, Conn[number], SettingsType<Setup>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n  return useConcent<{}, Ctx>(regOpt, ccClassKey);\n}\n\n/**\n * 连接多个模块\n * ```js\n *  const { connectedState, cr } = useC2Conn(['mod1', 'mod2']);\n *  // connectedState.mod1.stateXxx\n *  // cr.mod1.methodXxx\n *\n * ```\n */\nexport function useC2Conn<\n  Conn extends Array<Modules>, Setup extends ValidSetup, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n  >(connect: Conn, options?: Options<P, Setup, CuDesc, Extra, StaticExtra, Mp>) {\n  const { regOpt, ccClassKey } = priBuildCallParams(cst.MODULE_DEFAULT, connect, options);\n  type Ctx = CtxConn<P, Conn[number], SettingsType<Setup>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n  return useConcent<{}, Ctx>(regOpt, ccClassKey);\n}\n\n/**\n * 适用于不属于任何模块，只是设置setup函数的场景\n * @param setup\n * @param options - see OptionsBase\n */\nexport function useSetup<\n  T extends SetupFn, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n  >(setup: T, options?: OptionsBase<P, CuDesc, Extra, StaticExtra, Mp>) {\n  const mergedOptions = { setup, ...options };\n  const { regOpt, ccClassKey } = priBuildCallParams(cst.MODULE_DEFAULT, [], mergedOptions);\n  type Ctx = CtxM<P, MODULE_DEFAULT, SettingsType<T>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n  const { settings } = useConcent<{}, Ctx>(regOpt, ccClassKey);\n  return settings;\n}\n\n/**\n * useSetupCtx 会返回整个ctx对象，区别于 useSetup 只返回 settings\n * @param setup\n * @param options - see OptionsBase\n */\nexport function useSetupCtx<\n  T extends SetupFn, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n  >(setup: T, options?: OptionsBase<P, CuDesc, Extra, StaticExtra, Mp>) {\n  const mergedOptions = { setup, ...options };\n  const { regOpt, ccClassKey } = priBuildCallParams(cst.MODULE_DEFAULT, [], mergedOptions);\n  type Ctx = CtxM<P, MODULE_DEFAULT, SettingsType<T>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n  const ctx = useConcent<{}, Ctx>(regOpt, ccClassKey);\n  return ctx;\n}\n\n\n/**\n * 为属于某个模块的 ctx 标记类型, 通常使用在class成员变量上 和 setup函数体内\n * 在class组件成员变量使用时不需要传递第三位参数ctx，组件实例化时会由concent注入并替换\n * 在setup函数里使用时，可直接传入已经创建好的ctx\n */\nexport function typeCtxM<\n  M extends Modules, Setup extends ValidSetup, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n  Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n  >(moduleName: M, options?: Options<P, Setup, CuDesc, Extra, StaticExtra, Mp>, ctx?: any) {\n  noop(moduleName, options);\n  type Ctx = CtxM<P, M, SettingsType<Setup>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n  return (ctx || {}) as Ctx;\n}\n\n/**\n * useC2Mod的工厂函数，返回钩子函数的同时，也提供了帮助推导setup函数的ctx参数类型的辅助函数\n * 注意! 此工厂函数仅适用于 setup函数ctx参数不需要感知 props, extra 类型时，方可使用\n * @param moduleName\n * @param options\n * -----------------------[Code example]-----------------------\n * ```js\n *  const ret = makeUseC2Mod(\"Counter\");\n *   function setupA1(c: any) {\n *    const ctx = ret.typeCtx(c);\n *     const cu = ctx.computed({countX6: (n) => n.value * 6 });\n *     return { cu };\n *   }\n *   export function UseC2ModByFactory() {\n *     const ctx = ret.useC2Mod({ setup: setupA1 });\n *     return <h1>{ctx.state.bigValue} {ctx.settings.cu.countX6}</h1>\n *   }\n * ```\n * --------------------------------------------------------------\n */\nexport function makeUseC2Mod<M extends Modules>(moduleName: M) {\n  return {\n    /**\n     * 需要传入的 setup 函数\n     */\n    useC2Mod: <Setup extends ValidSetup, P extends IAnyObj, CuDesc extends MultiComputed<any>,\n      Extra extends IAnyObj, StaticExtra extends any, Mp extends ValidMapProps,\n      >(options?: Options<P, Setup, CuDesc, Extra, StaticExtra, Mp>) => {\n      const { regOpt, ccClassKey } = priBuildCallParams(moduleName, [], options);\n      type Ctx = CtxM<P, M, SettingsType<Setup>, ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>;\n      return useConcent<P, Ctx>(regOpt, ccClassKey);\n    },\n    /**\n     * 推导setup函数的ctx参数类型\n     */\n    typeCtx: (ctx: ICtxBase) => {\n      return ctx as CtxM<{}, M>;\n    },\n  };\n}\n\nexport const ccReducer = (reducer as unknown) as RootRd;\n\n/**\n * 获取 global模块的状态\n * 在已拥有 concent model 上下文、action 上下文的地方，\n * 推荐直接获取，代替调用此函数，因为直接获取数据时组件并不会订阅数据变化\n */\nexport function getGlobalState() {\n  const globalState = getGst<RootState>();\n  return globalState;\n}\n\n/**\n * 获取整个根状态\n * 注意直接获取数据时组件并不会订阅数据变化\n */\nexport function getRootState() {\n  const rootState = getSt<RootState>();\n  return rootState;\n}\n\n/**\n * 获取目标模块状态\n * 注意直接获取数据时组件并不会订阅数据变化\n */\nexport function getModelState<T extends Modules>(modelName: T) {\n  if (modelName) {\n    const modelState = getSt<RootState, T>(modelName);\n    return modelState;\n  }\n  throw new Error('miss modelName');\n}\n\n/**\n * 获取目标模块状态\n */\nexport function getModelComputed<T extends Modules>(modelName: T) {\n  if (modelName) {\n    const modelComputed = getComputed<RootCu, T>(modelName);\n    return modelComputed;\n  }\n  throw new Error('miss modelName');\n}\n\n/**\n * 获取 global模块的状态\n * 在已拥有 concent model 上下文、action 上下文的地方，\n * 推荐直接获取，代替调用此函数，因为直接获取数据时组件并不会订阅数据变化\n */\nexport function getGlobalComputed() {\n  const globalComputed = getComputed<RootCu, MODULE_GLOBAL>(cst.MODULE_GLOBAL);\n  return globalComputed;\n}\n\ntype EvKeys = keyof EvMap;\n/**\n * 发射事件\n * @param eventName - 事件名\n * @param args\n */\nexport function ccEmit<E extends EvKeys, T extends EvMap[E]>(eventName: E, ...args: T) {\n  emit(eventName, ...args);\n}\n\n/**\n * 携带id的发射事件\n * @param eventDesc - [eventName, id]\n * @param args\n */\nexport function ccEmitId<E extends EvKeys, T extends EvMap[E]>(eventDesc: [E, string], ...args: T) {\n  emit(eventDesc, ...args);\n}\n\ntype OnFn = <E extends EvKeys>(eventName: E, cb: (...args: EvMap[E]) => void) => void;\n/**\n * 配合EvMap，为ctx.on装配类型\n * 外部调用时传入具体的事件名就推导出cb函数的参数列表类型\n *\n    function setup(ctx: Ctx){\n      const on = ctxOn(ctx);\n      on('xxx',(a, b)=>{\n       // 此处ts能感知a、b的具体类型\n      })\n    }\n */\nexport function ctxOn(ctx: ICtxBase) {\n  return ctx.on as OnFn;\n}\n\ntype OnIdFn = <E extends EvKeys>(eventDesc: [E, string], cb: (...args: EvMap[E]) => void) => void;\n/**\n * 可以携带id的ctx.on\n * @param ctx\n */\nexport function ctxOnId(ctx: ICtxBase) {\n  return ctx.on as OnIdFn;\n}\n","import { MetaItem } from '../type';\n\nexport function getInitMetaData(hasMoreMode = false, pageSize = 50) {\n  return {\n    lockId: 'init_lock', // 用于控制多个fetcher刷新同一个表格时，总是只认最近调用的那一个返回的数据\n    /** 是否处于 hasMore 模式 */\n    hasMoreMode,\n    hasMore: true,\n    current: 1,\n    pageSize,\n    total: 0,\n    list: [] as any[],\n    loading: false,\n  };\n}\n\nexport function getInitialState() {\n  return {\n    meta: { } as Record<string, MetaItem>,\n  };\n}\n\nexport type St = ReturnType<typeof getInitialState>;\n\nexport default getInitialState;\n","import { St } from './meta';\n\n// only value change will triiger this function to execute again\nexport function doubleCount(newState: St) {\n  // use input newState to calculate new value\n}\n\n","import * as obj from 'utils/obj';\nimport { getInitMetaData } from './state';\nimport { IAC, St } from './meta';\n\nfunction getTableMeta(meta: any, tableId: string) {\n  return obj.safeGet(meta, tableId, getInitMetaData());\n}\n\nexport function modTableMeta({ tableId, toMod }: any, moduleState: St) {\n  const { meta } = moduleState;\n  const tableMeta = getTableMeta(meta, tableId);\n  if (obj.isValidVal(toMod.pageSize) && typeof toMod.pageSize !== 'number') {\n    toMod.pageSize = parseInt(toMod.pageSize, 10);\n  }\n  obj.safeAssign(tableMeta, toMod);\n  return { meta };\n}\n\n/** 处理页码变更 */\nexport async function handlePageCurrentChange({ current, tableId, fetchFn }: any, _: St, ctx: IAC) {\n  await ctx.dispatch(modTableMeta, { tableId, toMod: { loading: true, current, lockId: Date.now() } });\n  await ctx.dispatch(fetchTableData, { tableId, fetchFn });\n}\n\n/** 翻到下一页 */\nexport async function handleNextPage({ tableId, fetchFn }: any, { meta }: St, ctx: IAC) {\n  const { current } = getTableMeta(meta, tableId);\n  await ctx.dispatch(handlePageCurrentChange, { current: current + 1, tableId, fetchFn });\n}\n\n/** 处理一页展示条数的变更 */\nexport async function handlePageSizeChange({ tableId, pageSize, fetchFn }: any, _: St, ctx: IAC) {\n  await ctx.dispatch(modTableMeta, { tableId, toMod: { loading: true, pageSize, lockId: Date.now() } });\n  await ctx.dispatch(fetchTableData, { tableId, fetchFn });\n}\n\nexport function clearTable({ tableId }: any, m: St, ctx: IAC) {\n  ctx.dispatch(modTableMeta, {\n    tableId,\n    toMod: { list: [], total: 0, loading: false },\n  });\n}\n\nexport async function fetchTableData({ tableId, fetchFn }: any, moduleState: St, ctx: IAC) {\n  const { meta } = moduleState;\n  const { current, pageSize, lockId, list: oldList, hasMoreMode } = getTableMeta(meta, tableId);\n\n  const res = await fetchFn({ current, pageSize, list: oldList });\n  if (!res) {\n    await ctx.dispatch(modTableMeta, {\n      tableId,\n      toMod: { loading: false },\n    });\n    return;\n  }\n\n  const { pageList, page_list, total = 0, hasMore = true } = res;\n  const list = pageList || page_list || [];\n  if (getTableMeta(meta, tableId).lockId !== lockId) {\n    return; // lockId已不对，这是一个较老生成的lockId，放弃执行当前函数，不触发刷新表格\n  }\n\n  const start = (current - 1) * pageSize;\n  list.forEach((v: any, idx: number) => {\n    if (v) v.__seq = start + (idx + 1);\n  });\n\n  let targetList = list;\n  if (hasMoreMode) {\n    targetList = oldList.concat(list);\n  }\n\n  await ctx.dispatch(modTableMeta, {\n    tableId,\n    toMod: { list: targetList, total, hasMore, loading: false },\n  });\n}\n","\n/*\n|--------------------------------------------------------------------------\n| 定义模块的lifecyle\n|--------------------------------------------------------------------------\n| 文档:  https://concentjs.github.io/concent-doc/guide/concept-module-lifecycle\n*/\nimport { IDispatch } from 'concent';\n// import * as reducer from './reducer';\n\n\n// 异步状态初始化函数\n// export async function initState(){}\n\n// 模块被concent加载完毕时触发，(可替代initState，将初始化逻辑移到reducer文件里)\n// export function loaded(dispatch: IDispatch) {}\n\n// 当前模块的第一个组件实例挂载完毕时触发，\n// 默认只触发一次，如需满足条件反复触发，return false即可\n// 注意此函数触发时机和实例相关，如果没有任何属于此模块的组件实例化，该函数不会被触发\nexport function mounted(dispatch: IDispatch) {\n  // dispatch(reducer.foo);\n}\n\n// 当前模块的最后一个组件实例卸载时触发\n// 默认只触发一次，如需满足条件反复触发，return false即可\nexport function willUnmount(dispatch: IDispatch) {\n  // dispatch(reducer.clear);\n}\n","import { IModActionCtx, IRefCtxM, ReducerCallerParams, IReducerFn, IAnyObj } from 'concent';\nimport { makeUseModel, makeUseModelWithSetup, makeUseModelWithSetupCuf } from 'concent-utils';\n// import { RootState, RootCu } from 'types/store';\nimport state, { St as ModuleState } from './state';\nimport * as computed from './computed';\nimport * as reducer from './reducer';\nimport * as lifecycle from './lifecycle';\n\nexport const moduleName = 'GeneralTable';\n\nexport const modelDesc = {\n  state,\n  computed,\n  reducer,\n  lifecycle,\n};\n\nexport const model = { [moduleName]: modelDesc };\n\nexport type ModelDesc = typeof modelDesc;\nexport type ModuleName = typeof moduleName;\nexport type CallerParams = ReducerCallerParams | [IReducerFn, any];\nexport type ReducerFn = IReducerFn;\nexport type St = ModuleState;\n// export type RootInfo = { state: RootState, computed: RootCu };\nexport type RootInfo = { state: {}, computed: {} };\n/** 用于描述 reducer 函数第3位参数 actionCtx 的类型 */\nexport type IAC = IModActionCtx<RootInfo, ModelDesc>;\nexport type CtxPre<RefCu = IAnyObj, Extra = IAnyObj> = IRefCtxM<RootInfo, IAnyObj, ModelDesc, RefCu, Extra>;\n\nexport const useModelWithSetup = makeUseModelWithSetup<RootInfo, ModelDesc>(moduleName);\nexport const useModelWithSetupCuf = makeUseModelWithSetupCuf<RootInfo, ModelDesc>(moduleName);\nexport const useModel = makeUseModel<RootInfo, ModelDesc>(moduleName);\n\nexport default model;\n","import modelDesc from './meta';\nimport { configure } from 'concent';\n\n/**\n * 使用 configure接口配置模块，此时不用在 src/models/index 里导出该模块到全局\n * 但是需要注意组件的 index文件 第一行代码写下\n * import './model';\n * 以便先触发模块配置过程后再安全的导入其他使用了该模块的组件\n * 如需在别的页面或者组件里可以使用名字配合 src/configs/useC2Mod \n * 函数来消费该模块的数据和调用该模块的方法，将模块提升到 src/models/index 文件导出即可\n */\nconfigure(modelDesc);\n\nexport default modelDesc;\n","/* eslint-disable no-underscore-dangle,no-param-reassign */\nimport './model';\nimport React, { Fragment } from 'react';\nimport { Table, Pagination, Button } from 'antd';\nimport { getInitMetaData } from './model/state';\nimport { CtxPre, useModelWithSetup } from './model/meta';\nimport * as t from './type';\n\nconst setup = (ctx: CtxPre) => {\n  const {\n    tid: tableId, fetchAfterMounted = true, hasMoreMode = false, fetchFn: propsFetchFn,\n    pageSizeOptions = ['50', '100', '200'],\n  } = ctx.props;\n  const { ccUniqueKey } = ctx;\n  if (!ctx.state.meta[tableId]) {\n    const pageSize = parseInt(pageSizeOptions[0], 10) || 50;\n    ctx.state.meta[tableId] = getInitMetaData(hasMoreMode, pageSize);\n  }\n\n  ctx.on(['refreshTable', tableId], async (fetchFn) => {\n    const _fetchFn = fetchFn || propsFetchFn;\n    await ctx.mr.clearTable({ tableId }, ccUniqueKey);\n    await ctx.mr.handlePageCurrentChange({ tableId, current: 1, fetchFn: _fetchFn }, ccUniqueKey);\n  });\n  ctx.on(['clearTable', tableId], () => {\n    ctx.mr.clearTable({ tableId }, ccUniqueKey);\n  });\n  ctx.on(['refreshTableCurPage', tableId], (fetchFn) => {\n    const _fetchFn = fetchFn || propsFetchFn;\n    const tableMeta = ctx.state.meta[tableId];\n    ctx.mr.handlePageCurrentChange({ tableId, current: tableMeta.current, fetchFn: _fetchFn }, ccUniqueKey);\n  });\n\n  ctx.effect(() => {\n    if (fetchAfterMounted) {\n      handlePageCurrentChange(1);\n    }\n    return () => ctx.dispatch('clearTable', { tableId }, ccUniqueKey);\n  }, []);\n\n  const handlePageCurrentChange = (current: number) => {\n    // 触发 handelPageSizeChange 时，同时也会触发 handlePageCurrentChange，这里做个判断，避免冗余请求\n    if (ctx.state.meta[tableId].current === current) return;\n    const { fetchFn } = ctx.props;// fetchFn有可能会变，这里每次取最新的\n    ctx.mr.handlePageCurrentChange({ tableId, current, fetchFn }, ccUniqueKey)\n  };\n  const handelPageSizeChange = (page: number, pageSize: number) => {\n    const { fetchFn } = ctx.props;\n    ctx.mr.handlePageSizeChange({ tableId, pageSize, fetchFn }, ccUniqueKey);\n  };\n  const handleNextPage = () => {\n    const { fetchFn } = ctx.props;\n    ctx.mr.handleNextPage({ tableId, fetchFn }, ccUniqueKey);\n  };\n\n  return {\n    handlePageCurrentChange,\n    handelPageSizeChange,\n    handleNextPage,\n    pageSizeOptions,\n  };\n};\n\nexport type Props = t.Props;\nexport type FetchFn = t.FetchFn;\nexport type FetchFnParams = t.FetchFnParams;\n\n/**\n * #################[Code example]#####################\n * ```js\n *  const fetcher = ()=> xxxService.fetchData();\n *  <GeneralTable tid=\"xxxId\" fetchFn={fetcher} columns={yourColumnsDef} />\n * ```\n * ####################################################\n */\nexport function GeneralTable(props: t.Props) {\n  const { state, settings } = useModelWithSetup(setup, { props });\n  const {\n    tid, columns, rowKey = 'id', scroll = { x: '100%' }, hasMoreMode = false,\n    disableBtnWhenNoMore, size,\n  } = props;\n  const { list, loading, current, total, pageSize, hasMore } = state.meta[tid];\n  const { handelPageSizeChange, handlePageCurrentChange, handleNextPage, pageSizeOptions } = settings;\n\n  const renderBtn = () => {\n    if (disableBtnWhenNoMore && !hasMore) return <Button disabled style={{ width: '100%' }}>没有更多了</Button>;\n    return <Button onClick={handleNextPage} style={{ width: '100%' }}>加载更多</Button>;\n  };\n\n  // console.log(`%c@@@ GeneralTable ${props.tid}`, 'color:red;border:1px solid red;');\n  return (\n    <Fragment>\n      <Table rowKey={rowKey} columns={columns} dataSource={list} size={size}\n        loading={loading} pagination={false} scroll={scroll}\n      />\n      <div style={{ height: '19px', width: '100%' }} />\n      {hasMoreMode\n        ? renderBtn()\n        : (\n          <Pagination onShowSizeChange={handelPageSizeChange} onChange={handlePageCurrentChange}\n            current={current} total={total} showSizeChanger pageSizeOptions={pageSizeOptions}\n            pageSize={pageSize}\n          />\n        )\n      }\n    </Fragment>\n  );\n}\n\nexport default React.memo(GeneralTable);\n","/**\n * 员工名字服务\n */\n\nimport debounce from 'lodash/debounce';\n\nfunction getStaffList(): Array<[string, string]> {\n  // @ts-ignore\n  return window['_staffList'] || [];\n}\n\nlet isInitCalled = false;\n\n/**\n * 需要用员工数据的组件，需要在didMount时先调用此方法\n * 该方法会自己会保证只真正的调用一次\n */\nexport function initData() {\n  if (isInitCalled) return;\n  // isInitCalled = true;\n  // const userScript = document.createElement('script');\n  // userScript.src = `http://www.youstafname.com?v=${new Date().toDateString().replace(/ /g, '')}`;\n  // userScript.async = true;\n  // document.head.appendChild(userScript);\n\n  // @ts-ignore \n  window['_staffList'] = [\n    ['jack', 'jack(Beijing)'],\n    ['mark', 'mark(Beijing)'],\n    ['zzk', 'zzk(NewYork)'],\n    ['hi concent', 'concent(Landon)'],\n    ['hi concent2', 'concent(Beijing)'],\n    ['hi concent3', 'concent(ShangHai)'],\n  ];\n}\n\n/**\n * 查询用户\n * 为0时默认取10个\n * 长度大于2的字符串才开始真正匹配\n * @param {string} toMatchStr\n */\nexport function searchUsers(toMatchStr: string): Array<[string, string]> {\n  if (toMatchStr.length === 0) return getStaffList().slice(0, 10);\n  if (toMatchStr.length < 2) return [];\n  const pattern = new RegExp(`^${toMatchStr}`);\n  return getStaffList().filter((item) => {\n    const [rtxname] = item;\n    return pattern.test(rtxname);\n  }).slice(0, 10);\n}\n\n/**\n * @type {(toMatchStr:string)=>string[]}\n * 防抖动的用户查询操作\n */\nexport const delaySearchUsers = debounce(searchUsers, 300);\n","import React from 'react';\nimport styles from \"./general.module.css\";\n\ninterface IBtn {\n  className?: string;\n}\nfunction ButtonBase(props: IBtn & React.Props<HTMLButtonElement>) {\n  return (\n    <button {...props}>\n      {props.children}\n    </button>\n  );\n}\n\nexport function Button(props: any) {\n  return <ButtonBase className={styles.button} {...props} />\n}\n\nexport function AsyncButton(props: React.Props<any>) {\n  return <ButtonBase className={styles.asyncButton} {...props} />\n}\n\n\ninterface IBlankProps {\n  children?: React.ReactNode;\n  type?: 'horizon' | 'vertical';\n  height?: string;\n  width?: string;\n  style?: React.CSSProperties;\n}\n\nexport function Blank({ children = '', type = 'horizon', height = '16px', width = '28px', style = {} }: IBlankProps) {\n  const mergedStyle = { display: 'inline-block', width, height, ...style };\n  if (type === 'vertical') mergedStyle.display = 'block';\n\n  return (\n    <div style={mergedStyle}>{children}</div>\n  );\n}\n\nexport function NormalBlank(props: { width?: string }): React.ReactElement {\n  return <Blank {...{ width: '8px', ...props }} />;\n}\n\nexport function VerticalBlank(props: { height?: string }): React.ReactElement {\n  return <Blank {...{ type: 'vertical', ...props }} />;\n}\n\n\nexport function EmptyView() {\n  return <span style={{ display: 'none' }}></span>\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__1TXBR\",\"userIconWarp\":\"App_userIconWarp__iNWdw\",\"settingInHeader\":\"App_settingInHeader__1XzLL\",\"settingInBody\":\"App_settingInBody__2J6Kp\",\"headerSettingWrapInBar\":\"App_headerSettingWrapInBar__2rkLe\",\"headerRightAreaWrap\":\"App_headerRightAreaWrap__3Jx_J\",\"siderWrap\":\"App_siderWrap__2xN2k\",\"siderMenusWrap\":\"App_siderMenusWrap__2WGrO\",\"contentWrap\":\"App_contentWrap__3tcpL\",\"SwatchesPicker\":\"App_SwatchesPicker__1Vs0_\",\"logoWrap\":\"App_logoWrap__1MnXZ\",\"logoLabelWrap\":\"App_logoLabelWrap__3SYFh\",\"footerWrap\":\"App_footerWrap__3GIxW\",\"footerFixedWrap\":\"App_footerFixedWrap__1QmbU\",\"waterMarkWrap\":\"App_waterMarkWrap__2UcNq\",\"waterMarkBase\":\"App_waterMarkBase__I6Jcm\",\"wmGrid\":\"App_wmGrid__2nnw5 App_waterMarkBase__I6Jcm\",\"loginCardWrap\":\"App_loginCardWrap__36_ew\"};","\nexport function isLocalMode() {\n  return window.location.port !== '';\n}\n","\nfunction getInitialState() {\n  return {\n    value: 0,\n    bigValue: 100,\n    barData: [] as any[],\n  };\n}\n\nexport type St = ReturnType<typeof getInitialState>;\n\nexport default getInitialState;\n","import { St } from './state';\n\n// only value change will triiger this function to execute again\nexport function doubleCount({ value }: St) {\n  return value * 2;\n}\n","import { St } from './state';\nimport { VoidPayload, AC } from 'types/store';\nimport { T_COUNTER } from 'configs/c2Mods';\nimport { random } from 'utils/num';\n\ntype IAC = AC<T_COUNTER>;\n\nexport function forCopy(payload: VoidPayload, moduleState: St, ac: IAC) {\n  console.log('call ac.setState or ac.dispatch when needed', ac.setState);\n}\n\nconst delay = (ms = 1000) => new Promise(r => setTimeout(r, ms));\n\nexport function incrementBigValue(payload: VoidPayload, moduleState: St): Partial<St> {\n  return { bigValue: moduleState.bigValue + 50 };\n}\n\nexport function increment(payload: VoidPayload, moduleState: St): Partial<St> {\n  return { value: moduleState.value + 1 };\n}\n\nexport function decrement(payload: VoidPayload, moduleState: St): Partial<St> {\n  return { value: moduleState.value - 1 };\n}\n\nexport function incrementByAmount(amount: number, moduleState: St): Partial<St> {\n  return { value: moduleState.value + amount };\n}\n\nexport async function incrementAsync(amount: number, moduleState: St): Promise<Partial<St>> {\n  await delay();\n  // or just write ac.dispatch of return\n  // await ac.dispatch(incrementByAmount, amount);\n  return { value: moduleState.value + amount };\n}\n\nexport function foo() {\n  console.log('call foo');\n}\n\nexport function ranBarData(p: VoidPayload) {\n  const getItem = (i: number) => ({ time: `部门${i}`, value: random(100) });\n  return {\n    barData: new Array(16).fill('').map((v, idx) => getItem(idx)),\n  };\n}\n\nexport function clear() {\n  console.log('clear');\n}\n","import regs from './regs';\n\n/**\n * 检查输入值是否能转化为数字且没有包含其他除.以外的非法字符\n * input: '22.s' ---> outpur: false\n * input: '22.1' ---> outpur: true\n * input: '22' ---> outpur: true\n * input: 22 ---> outpur: true\n * input: 22.1 ---> outpur: true\n * @param val\n */\nexport function canBeNum(val: any) {\n  const valType = typeof val;\n  if (valType === 'string') {\n    if (val.includes('.')) {\n      const pureStr = val.replace(/\\./g, '');\n      // 去掉.之后，如果还包含有其他字符，则直接返回false\n      if (!regs.num1to9.test(pureStr)) return false;\n\n      const parsed = parseFloat(val);\n      return !Number.isNaN(parsed);\n    }\n    return regs.num1to9.test(val);\n  } if (valType === 'number') {\n    return true;\n  }\n  return false;\n}\n\nexport function random(seed: number) {\n  return Math.floor(seed * Math.random());\n}\n","import { IDispatch } from 'concent';\nimport * as reducer from './reducer';\n\n\nexport function mounted(dispatch: IDispatch) {\n  dispatch(reducer.foo);\n}\n\nexport function willUnmount(dispatch: IDispatch) {\n  dispatch(reducer.clear);\n}","import { HOME } from 'configs/c2Mods';\nimport state from './state';\nimport * as computed from './computed';\nimport * as reducer from './reducer';\nimport * as lifecycle from './lifecycle';\n\nexport default {\n  [HOME]: {\n    state,\n    computed,\n    reducer,\n    lifecycle,\n  },\n};\n","\nexport const siderWidth = 200;\nexport const siderWidthPx = `${siderWidth}px`;\n/** 最底层的背景色 */\nexport const buttomBgColor = '#f0f2f5';\nexport const contentBgColor = '#fff';\nexport const siteThemeColor = '#1976d2';\n/** 水印文案 */\nexport const waterMarkLabel = 'TNTWeb-admin';\n\nconst imgLong = 'https://raw.githubusercontent.com/fantasticsoul/assets/master/c2pro/tnt-long.png';\n// 展开时两种主题色的logo长图设置，可按实际情况填写不同的url，如无素材填写0长字符串，保证 notCollapsedLogoLabel 有文案即可\n/** 展开时浅色主题长图 */\nexport const notCollapsedLogoImg = imgLong;\n/** 展开时深色主题长图 */\nexport const notCollapsedLogoImgOfDark = imgLong;\n/** 无 notCollapsedLogoImg 或 notCollapsedLogoImgOfDark 时，系统兜底采用的短文案，用于折叠边栏时显示 */\nexport const notCollapsedLogoLabel = 'xxx系统';\n\nconst img2 = 'https://raw.githubusercontent.com/fantasticsoul/assets/master/c2pro/tnt-short.png';\n// 折叠时两种主题色的logo短图设置，可按实际情况填写不同的url，如无素材填写0长字符串，保证 collapsedLogoLabel 有文案即可\n/** 折叠时浅色主题短图 */\nexport const collapsedLogoImg = img2;\n/** 折叠时深色主题短图 */\nexport const collapsedLogoImgOfDark = img2;\n/** 无 collapsedLogoImg 或 collapsedLogoImgOfDark 时，系统兜底采用的短文案，用于折叠边栏时显示 */\nexport const collapsedLogoLabel = '酷炫';\n\nexport const img404 = '404_img_url';\nexport const img403 = '403_img_url';\n\nexport const LS_C2PRO_SETTINGS = 'C2ProSettings';\nexport const LS_C2PRO_SETTINGS_VER = 'C2ProSettingsVer';\n\nexport enum TopHeaderTypes {\n  FIXED = '1',\n  FLOWED = '2',\n  HIDDEN = '3',\n};\n\nexport enum TopNavBarTypes {\n  FIXED = '1',\n  FLOWED = '2',\n  HIDDEN = '3',\n};\n\nexport enum SiderViewTypes {\n  COLLAPSED = '1',\n  NOT_COLLAPSED = '2',\n  HIDDEN = '3',\n};\n\nexport enum SiteColorTypes {\n  /** 正常模式 */\n  NORMAL = '1',\n  /** 黑白模式（哀悼模式） */\n  GREY = '2',\n  /** 暗黑模式 */\n  DARK = '3',\n}\n\nexport enum LoginStatus {\n  LOGGING = '1',\n  LOGIN_FAILED = '2',\n  LOGIN_SUCCESS = '3',\n}\n","\nexport const DEMO = '/demo';\n\nexport const DEMO_USE_SETUP = '/demo-use-setup';\n\nexport const SIMPLE_LIST = '/simple-list';\n\nexport const STEP_FORM = '/step-form';\n","import * as routerPathCst from './routerPath';\nimport * as sysCst from './sys';\n\nexport const routerPath = routerPathCst;\nexport const sys = sysCst;\n\n","import React from 'react';\nimport { EmptyView } from 'components/dumb/general';\nimport { useC2DefaultMod } from 'services/concent';\n\ninterface IProps {\n  /** auth id */\n  authId: string | number;\n  children: React.ReactElement;\n}\n\n// React.PropsWithChildren<IProps>\nfunction AuthView(props: IProps): React.ReactElement {\n  const ctx = useC2DefaultMod();\n  const { globalState: { authIds } } = ctx;\n\n  if (authIds.includes(`${props.authId}`)) return props.children;\n  return <EmptyView />;\n}\n\nexport default React.memo(AuthView);\n\n","import React from 'react';\nimport { Chart } from '@antv/g2';\n\nconst getChart = (data: any) => {\n  const chart = new Chart({\n    container: 'container',\n    autoFit: true,\n    height: 500,\n  });\n  chart.data(data);\n  chart.scale('value', {\n    alias: '销售额(万)',\n    nice: true,\n  });\n  chart.axis('time', {\n    tickLine: null\n  });\n\n  chart.tooltip({\n    showMarkers: false\n  });\n  chart.interaction('active-region');\n\n  chart.interval().position('time*value')\n    .style('time', val => {\n      if (val === '13:00-14:00') {\n        return {\n          fillOpacity: 0.4,\n          lineWidth: 1,\n          stroke: '#636363',\n          lineDash: [3, 2]\n        }\n      }\n      return {\n        fillOpacity: 1,\n        lineWidth: 0,\n        stroke: '#636363',\n        lineDash: [3, 2]\n      };\n    });\n\n  chart.render();\n  return chart;\n}\n\nexport default function (props: { data: any[] }) {\n  const chartInfo = React.useRef<{ ins: Chart | null }>({ ins: null });\n  React.useEffect(() => {\n    let ins = chartInfo.current.ins;\n    if (!ins) {\n      ins = getChart(props.data);\n      chartInfo.current.ins = ins;\n    } else {\n      ins.changeData(props.data);\n    }\n  }, [props.data]);\n  React.useEffect(() => {\n    let ins = chartInfo.current.ins;\n    return () => { ins && ins.destroy() };\n  }, []);\n  return <div id=\"container\" style={{ width: '70%', height: '300px' }}></div>\n}\n","import React from 'react';\nimport { Button, Card, Row, Col, Tooltip, Radio, RadioChangeEvent } from 'antd';\nimport { GithubOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { history } from 'react-router-concent';\nimport { routerPath } from 'configs/constant';\nimport { TopHeaderTypes, TopNavBarTypes, SiderViewTypes } from 'configs/constant/sys';\nimport * as mods from 'configs/c2Mods';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport { VerticalBlank, AsyncButton, Blank } from 'components/dumb/general';\nimport { AuthView } from 'components';\nimport Bar from 'components/Charts/Bar';\n\nconst layoutOptions = [\n  { label: '折叠边栏，仅显示快捷导航条', value: '1' },\n  { label: '展开边栏，仅显示快捷导航条', value: '2' },\n  { label: '隐藏边栏，显示顶栏信息和快捷导航条', value: '3' },\n];\n\nfunction setup(c: any) {\n  const ctx = typeCtxM(mods.HOME, {}, c);\n  const { effect, gr, globalState } = ctx;\n  effect(() => {\n    const t = setInterval(ctx.mr.ranBarData, 3000);\n    return () => clearInterval(t);\n  }, []);\n\n  return {\n    changeTopViewType(e: RadioChangeEvent) {\n      const layout = e.target.value;\n      const argMap: Record<string, [SiderViewTypes, TopHeaderTypes, TopNavBarTypes]> = {\n        1: [SiderViewTypes.COLLAPSED, TopHeaderTypes.HIDDEN, TopNavBarTypes.FIXED],\n        2: [SiderViewTypes.NOT_COLLAPSED, TopHeaderTypes.HIDDEN, TopNavBarTypes.FIXED],\n        3: [SiderViewTypes.HIDDEN, TopHeaderTypes.FIXED, TopNavBarTypes.FIXED],\n      };\n      const [siderViewType, topHeaderType, topNavBarType] = argMap[layout];\n      gr.setState({ siderViewType, topHeaderType, topNavBarType });\n    },\n    addAuthId() {\n      const { authIds } = globalState;\n      if (!authIds.includes('key_1')) {\n        authIds.push('key_1');\n        gr.setState({ authIds });\n      }\n    },\n    delAuthId() {\n      const { authIds } = globalState;\n      if (authIds.indexOf('key_1') >= 0) {\n        authIds.splice(authIds.indexOf('key_1'), 1);\n        gr.setState({ authIds });\n      }\n    },\n  };\n}\n\nfunction Home(props: RouteComponentProps) {\n  const { state: homeState, mr: homeMr, settings: se } = useC2Mod(mods.HOME, { setup });\n  const { state, mr } = useC2Mod(mods.COUNTER);\n\n  return (\n    <div style={{ paddingTop: '15px' }}>\n      <Row>\n        <Col>\n          <AsyncButton>欢迎访问与了解tntweb-admin</AsyncButton>\n          {/* 或者写为 */}\n          {/* <AsyncButton><Trans id=\"welcomeLabel\"></Trans></AsyncButton> */}\n        </Col>\n        <Col>\n          <a style={{ marginLeft: '12px' }} href=\"https://github.com/tnfe/tntweb-admin\" target=\"blank\">\n            <GithubOutlined style={{ fontSize: '52px' }} />\n          </a>\n        </Col>\n      </Row>\n      <AuthView authId=\"key_1\"><h1>you can not see me if you have not auth</h1></AuthView>\n      <Button type=\"primary\" onClick={se.addAuthId}>\n        点击此按钮，将看到一个带权限控制的视图\n      </Button>\n      <Blank />\n      <Button type=\"primary\" onClick={se.delAuthId}>\n        移出权限\n      </Button>\n      <VerticalBlank height=\"32px\" />\n      <div>\n        <Tooltip title=\"更多布局点击右上角设置按钮查看\">\n          <span>选择一个喜欢的布局吧<QuestionCircleOutlined /> : </span>\n        </Tooltip>\n        <Blank />\n        <Radio.Group options={layoutOptions} onChange={se.changeTopViewType} />\n      </div>\n      <VerticalBlank height=\"32px\" />\n      <Button type=\"primary\" onClick={() => history.push(`/counter?a=${Date.now()}`)}>\n        跳转到一个带随机参的Counter页面\n      </Button>\n      <VerticalBlank height=\"32px\" />\n      <Row>\n        <Col span=\"8\">\n          <Card\n            onClick={() => history.push(routerPath.SIMPLE_LIST)}\n            hoverable\n            style={{ width: '80%' }}\n            cover={<img alt=\"example\" src=\"https://t7.baidu.com/it/u=1956604245,3662848045&fm=193&f=GIF\" />}\n          >\n            <Card.Meta title=\"访问demo\" description=\"提供xxx等功能\" />\n          </Card>\n        </Col>\n        <Col span=\"8\">\n          <Card\n            onClick={() => history.push(routerPath.STEP_FORM)}\n            hoverable\n            style={{ width: '80%' }}\n            cover={<img alt=\"example\" src=\"https://t7.baidu.com/it/u=2763645735,2016465681&fm=193&f=GIF\" />}\n          >\n            <Card.Meta title=\"访问分步表单\" description=\"快速创建xx业务\" />\n          </Card>\n        </Col>\n      </Row>\n      <VerticalBlank height=\"32px\" />\n      <h3>mods.COUNTER.state.value {state.value}</h3>\n      <Button onClick={mr.increment}>change value</Button>\n      <VerticalBlank height=\"32px\" />\n      <Button type=\"primary\" onClick={homeMr.ranBarData}>ran bar data</Button>\n      <VerticalBlank height=\"32px\" />\n      <Bar data={homeState.barData} />\n    </div>\n  );\n}\n\nexport default React.memo(Home);\n\n","\n/**\n * 应用左侧的导航栏配置\n */\nimport { lazy } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport {\n  FormOutlined, OrderedListOutlined, PlusCircleOutlined, RightCircleOutlined,\n} from '@ant-design/icons';\nimport { routerPath } from './constant';\nimport { isLocalMode } from 'utils/common';\nimport HomePage from 'pages/Home';\n// const HomePage = lazy(() => import('pages/Home'));\n\nexport interface IMenuItem {\n  /**\n   * 路由组件对应的权限id，如果配置了此值，且 globalState.authIds 不包含这个值，会被渲染为 NotAuth组件\n   * 修改 models/global/reducer.ts 的 prepareApp 逻辑填充 authIds 数据\n   */\n  authId?: string;\n  path: string;\n  /** default: true */\n  exact?: boolean;\n  /**\n   * 默认值：true，\n   * 是否在边栏里展示，\n   * 为false时，只是菜单里看不到入口了，通过路由依然能访问\n   */\n  showInSider?: boolean;\n  /**\n   * 菜单对应的页面组件\n   */\n  Component: React.ComponentType<any>;\n  /**\n   * 路由对应的实际组件挂载前执行的逻辑\n   * 如果返回了具体的组件片段，则会替换掉改路由对应的实际组件\n   * 通常的使用场景:\n   * 1 提奖将路由信息写入某个store，子组件渲染时能够及时拿到\n   * 2 判断某些条件，不成立的话，不挂载目标路由组件，替换为该函数返回的视图片段\n   */\n  beforeComponentMount?: (props: RouteComponentProps) => React.ReactNode | void;\n  /**\n   * 默认值：true\n   * 页面组件是否包一层统一的默认布局组件\n   */\n  setContentLayout?: boolean;\n  label: string;\n  Icon?: React.SFC<{ style?: React.CSSProperties }>;\n  /** 是否是首页，匹配路径 / 时也能访问，默认 false */\n  isHomePage?: boolean;\n}\n\nexport interface IMenuGroup {\n  /** 用于辅助计算 menu是否展开 */\n  key: string;\n  label: string;\n  Icon?: React.SFC<{ style?: React.CSSProperties }>;\n  children: IMenuItem[];\n}\n\nconst showUnderLocalMode = isLocalMode();\n\nconst menus: Array<IMenuItem | IMenuGroup> = [\n  {\n    Icon: FormOutlined,\n    label: '首页',\n    path: routerPath.DEMO,\n    Component: HomePage,\n    isHomePage: true,\n  },\n  {\n    key: 'listExamples',\n    label: 'list示例集合',\n    Icon: OrderedListOutlined,\n    children: [\n      {\n        Icon: FormOutlined,\n        label: '简单列表',\n        path: routerPath.SIMPLE_LIST,\n        Component: lazy(() => import('pages/TodoList')),\n      },\n      {\n        showInSider: showUnderLocalMode,\n        label: 'todoList',\n        path: '/todolist',\n        Component: lazy(() => import('pages/TodoList')),\n      },\n    ]\n  },\n  {\n    label: 'template',\n    path: '/template',\n    Component: lazy(() => import('pages/_Demos/Template')),\n  },\n  {\n    label: '计数器',\n    path: '/counter',\n    Icon: PlusCircleOutlined,\n    Component: lazy(() => import('pages/Counter')),\n  },\n  {\n    label: '计数器2',\n    path: '/counter2',\n    Icon: PlusCircleOutlined,\n    setContentLayout: false,\n    Component: lazy(() => import('pages/Counter')),\n  },\n  {\n    label: '分步表单',\n    path: routerPath.STEP_FORM,\n    Component: lazy(() => import('pages/AStepForm')),\n  },\n  {\n    Icon: RightCircleOutlined,\n    label: 'useSetup',\n    path: routerPath.DEMO_USE_SETUP,\n    Component: lazy(() => import('pages/_Demos/SomeComponent/UseSetup')),\n  },\n];\n\nexport default menus;\n","\n/**\n * 由 configs/menus 派生出的数据\n */\nimport menus, { IMenuGroup, IMenuItem } from '../menus';\n\n// 打平菜单为一层的结构\nfunction flatMenus(menus: Array<IMenuItem | IMenuGroup>) {\n  const flatted = [] as IMenuItem[];\n\n  const pushToFlatted = (item: IMenuItem) => {\n    flatted.push(item);\n  };\n\n  menus.forEach((item) => {\n    const groupItem = item as IMenuGroup;\n    if (groupItem.children) {\n      groupItem.children.forEach(pushToFlatted);\n      return;\n    }\n    const menuItem = item as IMenuItem;\n    pushToFlatted(menuItem);\n  });\n\n  return flatted;\n}\n\n// 提前计算好 menus 的相关映射关系，或者其他目标参数，以及填充true默认值(方便其他地方使用时能够拥有正确的默认值)\nfunction calcMenus() {\n  const path2menuItem: Record<string, IMenuItem> = {};\n  const path2menuGroup: Record<string, IMenuGroup> = {};\n  // 保持层级结构的可展现的菜单，翻遍垂直或水平模式下不用判断showInSider条件，直接渲染\n  // 因为水平下判断 showInSider 为false，返回无效节点会导致antd菜单组件报错\n  const showingMenus: Array<IMenuItem | IMenuGroup> = [];\n  const allMenus: Array<IMenuItem | IMenuGroup> = [];\n  let homePageFullPath = '';\n\n  menus.forEach(item => {\n    const groupItem = item as IMenuGroup;\n    if (groupItem.children) {\n      const { children, ...rest } = groupItem;\n      const showingMenuGroup: IMenuGroup = { ...rest, children: [] };\n      const allMenuGroup: IMenuGroup = { ...rest, children: [] };\n\n      children.forEach((childItem) => {\n        const { path, showInSider = true, setContentLayout = true, exact = true, ...rest } = childItem;\n        const fillDefaultValChildItem = { ...rest, exact, path, showInSider, setContentLayout };\n        allMenuGroup.children.push(fillDefaultValChildItem);\n\n        path2menuGroup[path] = allMenuGroup;\n        path2menuItem[path] = fillDefaultValChildItem;\n        if (childItem.isHomePage) {\n          homePageFullPath = path;\n          path2menuGroup['/'] = groupItem;\n          path2menuItem['/'] = fillDefaultValChildItem;\n        }\n        if (showInSider) {\n          showingMenuGroup.children.push(fillDefaultValChildItem);\n        }\n      });\n      showingMenus.push(showingMenuGroup);\n      allMenus.push(allMenuGroup);\n      return;\n    }\n\n    const menuItem = item as IMenuItem;\n    const { path, isHomePage, showInSider = true, setContentLayout = true, exact = true, ...rest } = menuItem;\n    const fillDefaultValMenuItem = { ...rest, exact, path, isHomePage, showInSider, setContentLayout };\n    allMenus.push(fillDefaultValMenuItem);\n    path2menuItem[path] = fillDefaultValMenuItem;\n    if (isHomePage) {\n      path2menuItem['/'] = fillDefaultValMenuItem;\n      homePageFullPath = path;\n    }\n    if (showInSider) {\n      showingMenus.push(fillDefaultValMenuItem);\n    }\n  });\n  return { path2menuGroup, path2menuItem, homePageFullPath, showingMenus, allMenus };\n}\n\nconst ret = calcMenus();\n\nexport const { path2menuGroup } = ret;\n\nexport const { path2menuItem } = ret;\n\nexport const { homePageFullPath } = ret;\n\n/** 辅助Sider组件，构造带层级关系的可展示菜单视图，注(指向的item数据也已经正确了填充了true默认值) */\nexport const { showingMenus } = ret;\n\n/** 所有的菜单，已正确填充了默认布尔值true的各个数据节点 */\nexport const { allMenus } = ret;\n\n/** 打平后的菜单，方便构造路由组件 */\nexport const flattedMenus = flatMenus(allMenus);\n","import Color from 'color';\n\nfunction privSetColor(key: string, val: string) {\n  if (window.document) {\n    window.document.documentElement.style.setProperty(key, val);\n  }\n}\n\nexport function hex2rgb(hexColor: string) {\n  const c = new Color(hexColor);\n  const rgb = c.object();\n  return rgb;\n}\n\nexport function hex2rgbString(hexColor: string) {\n  const rgb = hex2rgb(hexColor);\n  return `${rgb.r}, ${rgb.g}, ${rgb.b}`;\n}\n\nexport function getThemeColorLight(hexColor: string, lighten: number = 0.2) {\n  const c = new Color(hexColor);\n  const themeColorLight = c.lighten(lighten).hex();\n  return themeColorLight;\n}\n\nexport function changeThemeColor(hexColor: string) {\n  privSetColor('--theme-color', hexColor);\n}\n\nexport function changeThemeColorLight(themeColorLight: string) {\n  privSetColor('--theme-color-light', themeColorLight);\n}\n\nexport function changeThemeColorRGB(themeColorRGB: string) {\n  privSetColor('--theme-color-rgb', themeColorRGB);\n}\n\nexport function changeFontAlpha(alpha: number) {\n  privSetColor('--theme-color-text', `rgba(0, 0, 0, ${alpha / 100})`);\n}\n","\nimport { SiderTheme } from 'antd/lib/layout/Sider';\nimport {\n  SiderViewTypes, TopHeaderTypes, TopNavBarTypes, LoginStatus, SiteColorTypes,\n  LS_C2PRO_SETTINGS, LS_C2PRO_SETTINGS_VER, siteThemeColor,\n} from 'configs/constant/sys';\nimport { path2menuItem } from 'configs/derived/menus';\nimport * as colorServ from 'services/color';\nimport * as commonUtil from 'utils/common';\nimport { safeParse, inEnum } from 'utils/obj';\ninterface IRoutePathInfo {\n  path: string;\n  search: string;\n}\n\nconst curSettingKeyVer = '11';\n\nfunction needCachedSettings() {\n  const cachedKeyVer = localStorage.getItem(LS_C2PRO_SETTINGS_VER);\n  const isKeyVerEqual = cachedKeyVer === curSettingKeyVer;\n  if (!isKeyVerEqual) {\n    localStorage.setItem(LS_C2PRO_SETTINGS_VER, curSettingKeyVer);\n  }\n  // key版本相同，才需要取缓存的主题配置，意味着如果想每次发版让store里默认的配置生效，\n  // 修改一下 curSettingKeyVer 的值即可\n  return isKeyVerEqual;\n}\n\nfunction getInitialState() {\n  const themeColor = siteThemeColor;\n  const themeColorRGB = colorServ.hex2rgbString(themeColor);\n\n  const defaultState = {\n    activeRoutePaths: [] as IRoutePathInfo[],\n    curActiveRoutePath: '',\n    /** 整个站点的色彩模式 */\n    siteColorType: SiteColorTypes.NORMAL,\n    /** 启用水印功能 */\n    allowWaterMark: true,\n    /** 可能含search */\n    curActiveRouteFullPath: '',\n    /** 快捷导航条项目是否用深色背景 */\n    isTabPaneHeavyBg: false,\n    /** 站点的字体色值透明度，值越大，字体颜色越深 */\n    fontAlpha: 75,\n    topHeaderType: TopHeaderTypes.HIDDEN,\n    topNavBarType: TopNavBarTypes.FIXED,\n    siderViewType: SiderViewTypes.COLLAPSED,\n    siderViewToCollapsedTime: 0,\n    /** 当sider从无到有时，用于还原原来的折叠情况 */\n    siderViewTypeBackup: SiderViewTypes.COLLAPSED,\n    /** 常用设置抽屉是否可见 */\n    settingDrawerVisible: false,\n    siderTheme: 'dark' as SiderTheme,\n    headerTheme: 'light' as SiderTheme,\n    isUsingDefaultThemeColor: true,\n    /** 个性化设置的站点的主题颜色 */\n    custThemeColor: themeColor,\n    /** 使用中的站点主题颜色 */\n    themeColor,\n    themeColorRGB,\n    themeColorLight: colorServ.getThemeColorLight(themeColor),\n    someInfo: 'overWrite built-in module global\\'s state',\n\n    /** 登录状态，默认是正在执行登录中 */\n    loginStatus: LoginStatus.LOGGING,\n    loginBtnLoading: false,\n    /** 系统是否准备就绪，包括登录、配置数据拉取等动作完成才是就绪 */\n    isAppReady: false,\n    userName: '',\n    userIcon: '',\n    /** 当前登录者是否是管理员 */\n    isAdmin: false,\n    /** 当前用户拥有的权限列表 */\n    authIds: [] as string[],\n    /** 处于innerMock时，httpService的请求结果会直接从模拟文件获取（同时还会配合 excludedMockApis 名单），注意此时不会从浏览器发出请求 */\n    isInnerMock: commonUtil.isLocalMode(),\n    /** isInnerMock 为 true 时，只要实现了的mock函数，如果没有在 excludedMockApis 名单里， 都会去被调用 */\n    excludedMockApis: [\n    ] as string[],\n  };\n\n  if (!needCachedSettings()) {\n    return defaultState;\n  }\n\n  // 还原用户最近一次设置数据\n  const cachedSettings = safeParse(localStorage.getItem(LS_C2PRO_SETTINGS) || '', defaultState);\n  const final = { ...defaultState, ...cachedSettings };\n  const { activeRoutePaths } = final;\n\n  // 确保path数据是正确的\n  try {\n    const validActiveRoutePaths: IRoutePathInfo[] = [];\n    activeRoutePaths.forEach((v) => {\n      if (!v || typeof v !== 'object') return;\n      if (v.path && path2menuItem[v.path]) {\n        validActiveRoutePaths.push(v);\n      }\n    });\n    final.activeRoutePaths = validActiveRoutePaths;\n  } catch (err) {\n    final.activeRoutePaths = [];\n  }\n\n  // 未使用默认默认主题色，需要修改 isUsingDefaultThemeColor 为 false\n  if (final.themeColor !== siteThemeColor) final.isUsingDefaultThemeColor = false;\n  // 修正可能错误的 topHeaderType, topNavBarType 值\n  if (!inEnum(final.topHeaderType, TopHeaderTypes)) {\n    final.topHeaderType = defaultState.topHeaderType;\n  }\n  if (!inEnum(final.topNavBarType, TopNavBarTypes)) {\n    final.topNavBarType = defaultState.topNavBarType;\n  }\n  if (!inEnum(final.siderViewType, SiderViewTypes)) {\n    final.siderViewType = defaultState.siderViewType;\n    final.siderViewTypeBackup = defaultState.siderViewTypeBackup;\n  }\n\n  return final;\n}\n\nexport type St = ReturnType<typeof getInitialState>;\n\nexport default getInitialState;\n","\nconst cachedAppName = localStorage.getItem('someBaseNameKey') || '';\nconst cachedApiHost = localStorage.getItem('someApiHostKey');\n\n/**\n * 应用可能处于不同的basename下\n */\nexport function getBasename() {\n  const { hostname, pathname } = window.location;\n  // tntweb-admin 站点走特殊的basename，以符合 gh-pages 目录结构\n  if (hostname.includes('github.io') && pathname.includes('tntweb-admin')) return '';\n  return cachedAppName || '';\n}\n\nexport function getApiHost() {\n  // 是本地调试机器，携带者端口号\n  if (window.location.port !== '') return '';\n  return cachedApiHost || '';\n};\n\nexport function attachBasename(url: string) {\n  return `/${getBasename()}${url}`;\n}\n\n/**\n * 通常用于下载链接的拼接\n * @param {*} url\n */\nexport function attachApiHost(url: string) {\n  return `${getApiHost()}${url}`;\n}\n\n/**\n * 去掉basename之后的相对根路径，注不含search参数，等同于 location.pathname\n * <basename>/xxx/yyy ---> /xxx/yyy\n */\nexport function getRelativeRootPath() {\n  const { pathname, hash } = window.location;\n  const basename = getBasename();\n  let targetPathname = pathname;\n  if (hash.startsWith('#')) {\n    // 取的应该是hash后面的那一段path\n    targetPathname = extractPathAndSearch(hash.substr(1)).path;\n  }\n\n  if (basename) {\n    // basename: xxx-app\n    // pathname: /xxx-app/xxx or /xxx-app/xxx\n    // 所以此处 startIdx 取 basename 长度加1\n    const startIdx = basename.length + 1;\n    targetPathname = pathname.substr(startIdx);\n  }\n  if (!targetPathname) targetPathname = '/';\n\n  return targetPathname;\n}\n\nexport function getSearchPath(path: string, search: string) {\n  return search ? `${path}?${search}` : path;\n}\n\n/**\n * 返回的search字符串是无问号前缀的字符串\n * @param pathMayIncludeSearch\n * @returns\n */\nexport function extractPathAndSearch(pathMayIncludeSearch: string): { path: string, search: string } {\n  if (!pathMayIncludeSearch) return { path: '', search: '' };\n\n  const ensureNoStartQuestion = (stringMyStartsWithQuestion: string): string => {\n    if (stringMyStartsWithQuestion.startsWith('?')) {\n      const restStr = stringMyStartsWithQuestion.substr(1);\n      return ensureNoStartQuestion(restStr);\n    }\n    return stringMyStartsWithQuestion;\n  };\n\n  const firstQuestionIdx = pathMayIncludeSearch.indexOf('?');\n  let path = pathMayIncludeSearch;\n  let search = '';\n  if (firstQuestionIdx >= 0) {\n    const stringMyStartsWithQuestion = pathMayIncludeSearch.substr(firstQuestionIdx);\n    path = pathMayIncludeSearch.substring(0, firstQuestionIdx);\n    // 防止是 /xxx/yyy ????a=1 这样的错误数据传进来\n    search = ensureNoStartQuestion(stringMyStartsWithQuestion);\n  }\n\n  return { path, search };\n}\n","import { VoidPayload } from 'concent';\nimport { siteThemeColor, SiderViewTypes, LoginStatus } from 'configs/constant/sys';\nimport { path2menuItem } from 'configs/derived/menus';\nimport { delay } from 'utils/timer';\nimport * as colorServ from 'services/color';\nimport { getSearchPath } from 'services/appPath';\nimport * as msgServ from 'services/message';\nimport { St, IAC } from './meta';\n\nconst { COLLAPSED, NOT_COLLAPSED, HIDDEN } = SiderViewTypes;\ntype PSt = Partial<St>;\nconst fakeLoginData = {\n  userName: 'hi concent pro',\n  userIcon: 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3662109890,1098716941&fm=15&gp=0.jpg',\n  isAdmin: true,\n  token: 'xxxyyy',\n  isLogin: true,\n}\n\nexport function toggleCollapsedBtn(payload: VoidPayload, moduleState: St) {\n  const { siderViewType } = moduleState;\n  if (siderViewType === COLLAPSED) {\n    return { siderViewType: NOT_COLLAPSED, siderViewTypeBackup: NOT_COLLAPSED };\n  }\n  return { siderViewType: COLLAPSED, siderViewTypeBackup: COLLAPSED, siderViewToCollapsedTime: Date.now() };\n}\n\nexport async function changeIsUsingDefaultTheme(checked: boolean, moduleState: St, ac: IAC) {\n  await ac.setState({ isUsingDefaultThemeColor: checked });\n  await ac.dispatch(changeThemeColor, { themeColor: siteThemeColor });\n}\n\n/**\n * 添加一个激活的页签\n */\nexport function addActiveRoutePath(payload: { path: string, search?: string }, moduleState: St) {\n  const { path, search = '' } = payload;\n  const newFullPath = getSearchPath(path, search);\n  const { activeRoutePaths, curActiveRouteFullPath } = moduleState;\n  if (newFullPath === curActiveRouteFullPath) return {};\n\n  const toSet: Partial<St> = { curActiveRouteFullPath: newFullPath, curActiveRoutePath: path };\n\n  // 打开下面逻辑：带search参数路由不写标签页\n  // if (search) { return toSet; }\n\n  const menuItem = path2menuItem[path];\n  if (!menuItem) { return toSet; }\n\n  // 打开下面逻辑：不显示在边栏菜单里的路由组件不写标签页\n  // if (!menuItem.showInSider) { return toSet; }\n\n  const targetPathInfo = activeRoutePaths.find(v => v.path === path && v.search === search);\n  if (!targetPathInfo) {\n    // 最多激活8个\n    if (activeRoutePaths.length <= 8) {\n      activeRoutePaths.push({ path, search });\n    } else {\n      // 否则替换掉第一个\n      activeRoutePaths[0] = { path, search };\n    }\n    toSet.activeRoutePaths = activeRoutePaths;\n  }\n\n  return toSet;\n}\n\n/**\n * 删除页签\n */\nexport function delActiveRoutePath(payload: { path: string, search: string }, moduleState: St) {\n  const { path, search } = payload;\n  const { activeRoutePaths } = moduleState;\n\n  const targetRoutePath = activeRoutePaths.find(v => v.path === path && v.search === search);\n  let curActiveRoutePath = '/';\n  let curActiveRouteFullPath = curActiveRoutePath;\n  if (targetRoutePath) {\n    const idx = activeRoutePaths.findIndex(v => v.path === path && v.search === search);\n    const toDelPath = targetRoutePath.path;\n    activeRoutePaths.splice(idx, 1);\n    // 如果删除的就是当前激活的path\n    if (toDelPath === moduleState.curActiveRoutePath) {\n      // 替换为第一个\n      if (activeRoutePaths.length >= 1) {\n        const [firstPath] = activeRoutePaths;\n        curActiveRoutePath = firstPath.path;\n        curActiveRouteFullPath = getSearchPath(firstPath.path, firstPath.search);\n      }\n    } else {\n      curActiveRoutePath = moduleState.curActiveRoutePath;\n      curActiveRouteFullPath = moduleState.curActiveRouteFullPath;\n    }\n\n    return { activeRoutePaths, curActiveRoutePath, curActiveRouteFullPath };\n  }\n  return { curActiveRoutePath, curActiveRouteFullPath };\n}\n\nexport function toggleSiderVisible(p: any, moduleState: St): PSt {\n  const { siderViewType, siderViewTypeBackup } = moduleState;\n  if (siderViewType === HIDDEN) {\n    const toSet: PSt = { siderViewType: siderViewTypeBackup };\n    if (siderViewTypeBackup === COLLAPSED) toSet.siderViewToCollapsedTime = Date.now();\n    return toSet;\n  }\n  return { siderViewType: HIDDEN };\n}\n\n/**\n * 修改边栏视图模式，为了让 toggle 按钮按预期工作，需记录前一刻展开时的视图模式，\n */\nexport function changeSiderViewType(siderViewType: SiderViewTypes, moduleState: St): PSt {\n  const toSet: Partial<St> = { siderViewType };\n  if (siderViewType === SiderViewTypes.HIDDEN) {\n    toSet.siderViewTypeBackup = moduleState.siderViewType;\n  }\n  return toSet;\n}\n\nexport function changeThemeColor(payload: { themeColor: string, setCustThemeColor?: boolean }): PSt {\n  const { themeColor, setCustThemeColor } = payload;\n  colorServ.changeThemeColor(themeColor);\n  // 修改浅色\n  const themeColorLight = colorServ.getThemeColorLight(themeColor);\n  colorServ.changeThemeColorLight(themeColorLight);\n  // 修改主题色rgb值\n  const themeColorRGB = colorServ.hex2rgbString(themeColor);\n  colorServ.changeThemeColorRGB(themeColorRGB);\n\n  const toSet: Partial<St> = { themeColor, themeColorLight, themeColorRGB };\n  if (setCustThemeColor) {\n    toSet.custThemeColor = themeColor;\n    toSet.isUsingDefaultThemeColor = false;\n  }\n  return toSet;\n}\n\nexport function changeFontAlpha(fontAlpha: number): PSt {\n  colorServ.changeFontAlpha(fontAlpha);\n  return { fontAlpha };\n}\n\nexport function changeIsTabPaneHeavyBg(isTabPaneHeavyBg: boolean): PSt {\n  return { isTabPaneHeavyBg };\n}\n\nexport function switchSiderTheme(checked: boolean, moduleState: St): PSt {\n  return { siderTheme: checked ? 'dark' : 'light' };\n}\n\nexport function switchHeaderTheme(checked: boolean): PSt {\n  return { headerTheme: checked ? 'dark' : 'light' };\n}\n\nexport function changeIsInnerMock(checked: boolean): PSt {\n  return { isInnerMock: checked };\n}\n\n\nexport async function loginByCookie(payload: VoidPayload, moduleState: St, ac: IAC): Promise<PSt> {\n  await ac.setState({ loginStatus: LoginStatus.LOGGING });\n  await delay(300);\n\n  // 需自己实现使用站点的cookie或者token去验证登录信息，这里仅模拟接口自动登录\n  const loginDeadline = parseInt(localStorage.getItem('C2_loginDeadline') || '0');\n  if (Date.now() - loginDeadline < 24 * 60 * 60 * 1000) {\n    const loginData = await Promise.resolve(fakeLoginData);\n    const toSet: PSt = { ...loginData, isAppReady: true, loginStatus: LoginStatus.LOGIN_SUCCESS };\n    return toSet;\n  }\n  // todo 写 authId 到 state里\n  // toSet.authIds = await someService.fetchAuthIds();\n\n  return { loginStatus: LoginStatus.LOGIN_FAILED };\n}\n\n/**\n * 账密登录，此处仅模拟，真实逻辑需用户根据自己的实际情况去做具体实现\n * 这里的流程是 账密登录后后端写入最新的cookie，然后执行 loginByCookie 逻辑\n */\nexport async function loginByPassword(payload: { name: string, pwd: string }, moduleState: St, ac: IAC) {\n  await ac.setState({ loginBtnLoading: true });\n  await delay(300);\n  // 模拟账密登录\n  if (payload.name !== 'concent' || payload.pwd !== 'pro') {\n    msgServ.warn('账号密码错误，输入账号 concent，密码 pro ，即可登录');\n    return { loginBtnLoading: false, loginStatus: LoginStatus.LOGIN_FAILED };\n  }\n  // 站点写入cookie凭证后，执行\n  localStorage.setItem('C2_loginDeadline', String(Date.now()));\n  await ac.dispatch(loginByCookie);\n}\n\nexport function logout(): PSt {\n  localStorage.setItem('C2_loginDeadline', '0');\n  return { loginStatus: LoginStatus.LOGIN_FAILED, loginBtnLoading: false };\n}\n","import { St } from './state';\nimport { sys } from 'configs/constant';\n\nconst {\n  TopHeaderTypes: th, TopNavBarTypes: tn, SiderViewTypes, siderWidthPx,\n  collapsedLogoImg, collapsedLogoImgOfDark, collapsedLogoLabel,\n  notCollapsedLogoImg, notCollapsedLogoImgOfDark, notCollapsedLogoLabel,\n} = sys;\nconst { HIDDEN, COLLAPSED, NOT_COLLAPSED } = SiderViewTypes;\n\nconst viewType2LeftValue = {\n  [HIDDEN]: '0',\n  [COLLAPSED]: '48px',\n  [NOT_COLLAPSED]: siderWidthPx,\n};\nconst logoKey2ImgUrlList = {\n  [`light_${SiderViewTypes.COLLAPSED}`]: [collapsedLogoImg, collapsedLogoImgOfDark],\n  [`light_${SiderViewTypes.NOT_COLLAPSED}`]: [notCollapsedLogoImg, notCollapsedLogoImgOfDark],\n  [`light_${SiderViewTypes.HIDDEN}`]: [notCollapsedLogoImg, notCollapsedLogoImgOfDark],\n  [`dark_${SiderViewTypes.COLLAPSED}`]: [collapsedLogoImgOfDark, collapsedLogoImg],\n  [`dark_${SiderViewTypes.NOT_COLLAPSED}`]: [notCollapsedLogoImgOfDark, notCollapsedLogoImg],\n  [`dark_${SiderViewTypes.HIDDEN}`]: [notCollapsedLogoImgOfDark, notCollapsedLogoImg],\n};\n// const logoKey2ImgUrlList = {\n//   [`light_${SiderViewTypes.COLLAPSED}`]: [collapsedLogoImg, collapsedLogoImgOfDark],\n//   [`light_${SiderViewTypes.NOT_COLLAPSED}`]: [collapsedLogoImg, collapsedLogoImgOfDark],\n//   [`light_${SiderViewTypes.HIDDEN}`]: [collapsedLogoImgOfDark, collapsedLogoImgOfDark],\n//   [`dark_${SiderViewTypes.COLLAPSED}`]: [collapsedLogoImgOfDark, collapsedLogoImg],\n//   [`dark_${SiderViewTypes.NOT_COLLAPSED}`]: [collapsedLogoImgOfDark, collapsedLogoImg],\n//   [`dark_${SiderViewTypes.HIDDEN}`]: [collapsedLogoImgOfDark, collapsedLogoImg],\n// };\nconst paddingTopMap = {\n  [`${th.FIXED}_${tn.FIXED}`]: '80px',\n  [`${th.FIXED}_${tn.FLOWED}`]: '0',\n  [`${th.FIXED}_${tn.HIDDEN}`]: '48px',\n  [`${th.FLOWED}_${tn.FIXED}`]: '0',\n  [`${th.FLOWED}_${tn.FLOWED}`]: '0',\n  [`${th.FLOWED}_${tn.HIDDEN}`]: '0',\n  [`${th.HIDDEN}_${tn.FIXED}`]: '32px',\n  [`${th.HIDDEN}_${tn.FLOWED}`]: '0',\n  [`${th.HIDDEN}_${tn.HIDDEN}`]: '0',\n};\nconst headerStyleMap = {\n  [`${th.FIXED}_${tn.FIXED}`]: { zIndex: 6, position: 'fixed' as const, left: '0', right: '0' },\n  [`${th.FIXED}_${tn.FLOWED}`]: { zIndex: 6, position: 'fixed' as const, left: '0', right: '0' },\n  [`${th.FIXED}_${tn.HIDDEN}`]: { zIndex: 6, position: 'fixed' as const, left: '0', right: '0' },\n  [`${th.FLOWED}_${tn.FIXED}`]: { marginTop: '32px' },\n  [`${th.FLOWED}_${tn.FLOWED}`]: {},\n  [`${th.FLOWED}_${tn.HIDDEN}`]: {},\n  [`${th.HIDDEN}_${tn.FIXED}`]: { display: 'none' },\n  [`${th.HIDDEN}_${tn.FLOWED}`]: { display: 'none' },\n  [`${th.HIDDEN}_${tn.HIDDEN}`]: { display: 'none' },\n};\nconst navBarStyleMap = {\n  [`${th.FIXED}_${tn.FIXED}`]: { position: 'fixed' as const, left: '0', right: '0', top: '48px' },\n  [`${th.FIXED}_${tn.FLOWED}`]: { marginTop: '48px' },\n  [`${th.FIXED}_${tn.HIDDEN}`]: { display: 'none' },\n  [`${th.FLOWED}_${tn.FIXED}`]: { position: 'fixed' as const, left: '0', right: '0', top: '0' },\n  [`${th.FLOWED}_${tn.FLOWED}`]: {},\n  [`${th.FLOWED}_${tn.HIDDEN}`]: { display: 'none' },\n  [`${th.HIDDEN}_${tn.FIXED}`]: { position: 'fixed' as const, left: '0', right: '0', top: '0' },\n  [`${th.HIDDEN}_${tn.FLOWED}`]: {},\n  [`${th.HIDDEN}_${tn.HIDDEN}`]: { display: 'none' },\n};\n\n\nexport function isHeaderAboveNavBar(n: St) {\n  const { topHeaderType, topNavBarType } = n;\n  if (topHeaderType === th.FLOWED && topNavBarType === tn.FIXED) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * MainContent 组件根节点样式\n */\nexport function contentLayoutStyle(n: St): React.CSSProperties {\n  const { siderViewType, topHeaderType, topNavBarType } = n;\n  // 给一个最小高度，确保路由组件在异步加载过程中，Footer出现在底部\n  const minHeight = 'calc(100vh - 45px)';\n  const paddingTop = paddingTopMap[`${topHeaderType}_${topNavBarType}`];\n  return { marginLeft: viewType2LeftValue[siderViewType], paddingTop, minHeight, overflowX: 'auto' };\n}\n\n/**\n * 顶部区域头部信息的布局样式\n */\nexport function headerStyle(n: St): React.CSSProperties {\n  const { headerTheme, siderViewType, topHeaderType, topNavBarType } = n;\n  const color = headerTheme === 'dark' ? 'white' : 'var(--theme-color)';\n  const backgroundColor = headerTheme === 'dark' ? '#001529' : 'white';\n  const marginLeft = viewType2LeftValue[siderViewType];\n  const toReturn = { marginLeft, backgroundColor, color, zIndex: 4 };\n  return { ...toReturn, ...headerStyleMap[`${topHeaderType}_${topNavBarType}`] };\n}\n\n/**\n * 顶部区域导航条的布局样式\n */\nexport function quickNavBarStyle(n: St): React.CSSProperties {\n  const { siderViewType, topHeaderType, topNavBarType } = n;\n  // 对于快捷导航条来说，不使用 marginLeft 方式来做导航条内容和边栏内容不重叠的效果\n  // 是为了考虑到导航条里的子元素使用 absolute 属性时能够配合导航条自身的 relative 正常工作\n  // 如使用 marginLeft，子元素 absolute 的同时设置的 right 等值会让子元素显示在导航条外部\n  const paddingLeft = viewType2LeftValue[siderViewType];\n  const toReturn = { boxSizing: 'border-box' as const, paddingLeft, zIndex: 5 };\n  return { ...toReturn, ...navBarStyleMap[`${topHeaderType}_${topNavBarType}`] };\n}\n\nexport function siderStyle(n: St): React.CSSProperties {\n  const { siderTheme, siderViewType } = n;\n  // 该颜色控制 settingIcon 在 header 里显示的颜色，会受是否暗黑主题色影响\n  const backgroundColor = siderTheme === 'dark' ? '#001529' : 'white';\n  let width = '0px';\n  if (siderViewType === COLLAPSED) {\n    width = '48px';\n  } else if (siderViewType === NOT_COLLAPSED) {\n    width = sys.siderWidthPx;\n  }\n  return { backgroundColor, width };\n}\n\n/**\n * 各种icon按钮的展示或样式控制（设置，登出、颜色模式等可通用）\n */\nexport function iconCtrl(n: St) {\n  const { topHeaderType, topNavBarType, headerTheme } = n;\n  // 该颜色控制 settingIcon 在 header 里显示的颜色，会受是否暗黑主题色影响\n  const color = headerTheme === 'dark' ? 'white' : 'var(--theme-color)';\n  let toReturn = { showInHeader: false, showInBar: false, showInBody: true, color };\n  if (topHeaderType !== th.HIDDEN) {\n    toReturn = { showInHeader: true, showInBar: false, showInBody: false, color };\n  }\n  if (topHeaderType === th.HIDDEN && topNavBarType !== tn.HIDDEN) {\n    toReturn = { showInHeader: false, showInBar: true, showInBody: false, color };\n  }\n  // 在body或bar中展示的话，颜色一定是主题色\n  if (toReturn.showInBody || toReturn.showInBar) toReturn.color = 'var(--theme-color)';\n  return toReturn;\n}\n\n/**\n * 计算控制logo显示的各种参数\n */\nexport function logoCtrl(n: St) {\n  const { siderTheme, headerTheme, siderViewType } = n;\n  const toReturn = { showLabel: false, label: '', imgUrl: '', color: '', width: '0px' };\n\n  const setShowLabel = () => {\n    let label = siderViewType === SiderViewTypes.COLLAPSED ? collapsedLogoLabel : notCollapsedLogoLabel;\n    toReturn.showLabel = true;\n    toReturn.label = label || 'My System';\n  };\n\n  let themeValue = headerTheme;\n  toReturn.width = siderWidthPx;\n  if ([SiderViewTypes.COLLAPSED, SiderViewTypes.NOT_COLLAPSED].includes(siderViewType)) {\n    themeValue = siderTheme;\n    toReturn.width = siderViewType === COLLAPSED ? '48px' : siderWidthPx;\n  }\n  // 文字型 logo 的字体颜色\n  const color = themeValue === 'dark' ? 'white' : 'var(--theme-color)';\n  toReturn.color = color;\n\n  const imgUrlList = logoKey2ImgUrlList[`${themeValue}_${siderViewType}`];\n  if (!imgUrlList) {\n    setShowLabel();\n  }\n  const imgUrl = imgUrlList[0] || imgUrlList[1];\n  if (!imgUrl) {\n    setShowLabel();\n  } else {\n    toReturn.imgUrl = imgUrl;\n  }\n\n  return toReturn;\n}\n\ninterface ISiderInfo {\n  iconDes: 'left' | 'right';\n  /** 边栏是否是展开的，true：展开，false：折叠 */\n  isUnfold: boolean;\n  /** 边栏是否可见，true：可见，false：不可见 */\n  showSider: boolean;\n}\nexport function siderInfo(n: St): ISiderInfo {\n  const { siderViewType } = n;\n  const iconDes = siderViewType === HIDDEN ? 'right' : 'left';\n  const isUnfold = siderViewType === NOT_COLLAPSED;\n  const showSider = siderViewType !== HIDDEN;\n  return { iconDes, isUnfold, showSider };\n}\n\nexport function siderThemeSwitchChecked(n: St) {\n  const { siderTheme } = n;\n  return siderTheme === 'dark';\n}\n\nexport function headerThemeSwitchChecked(n: St) {\n  const { headerTheme } = n;\n  return headerTheme === 'dark';\n}\n\nexport function navBarItemCls(n: St) {\n  return n.isTabPaneHeavyBg ? 'quickNavBarWrap' : 'quickNavBarLightWrap';\n}\n","import { IDispatch } from 'concent';\nimport * as rd from './reducer';\nimport * as staffServ from 'services/staff';\nimport * as colorServ from 'services/color';\nimport { St } from './meta';\n\nexport function loaded(dispatch: IDispatch, moduleState: St) {\n  const { themeColor, fontAlpha } = moduleState;\n  // 写入当前配置主题色\n  dispatch(rd.changeThemeColor, { themeColor });\n  // 改变颜色无其他逻辑，直接调用 changeFontAlpha 即可\n  colorServ.changeFontAlpha(fontAlpha);\n  staffServ.initData();\n}\n","import { defWatch } from 'concent';\nimport { LS_C2PRO_SETTINGS, SiteColorTypes } from 'configs/constant/sys';\nimport { St } from './meta';\n\n// 记录关系的设置变化，方便用户刷新后，恢复最近的设置\nexport const settingsKeyChange = defWatch<St>((n, o, f) => {\n  const {\n    siderViewType, siderViewTypeBackup, topHeaderType, topNavBarType, curActiveRoutePath,\n    curActiveRouteFullPath, activeRoutePaths, siteColorType, allowWaterMark,\n    themeColor, headerTheme, siderTheme, custThemeColor, fontAlpha, isTabPaneHeavyBg,\n  } = n;\n  if (f.isFirstCall) return;\n\n  const str = JSON.stringify({\n    siderViewType, siderViewTypeBackup, topHeaderType, topNavBarType, curActiveRoutePath,\n    curActiveRouteFullPath, activeRoutePaths, siteColorType, allowWaterMark,\n    themeColor, headerTheme, siderTheme, custThemeColor, fontAlpha, isTabPaneHeavyBg,\n  });\n  localStorage.setItem(LS_C2PRO_SETTINGS, str);\n}, { immediate: true });\n\nexport const watchDarkSiteChange = defWatch<St>((n, o, f) => {\n  const { siteColorType } = n;\n  let newFilter = '';\n  if (siteColorType === SiteColorTypes.DARK) {\n    newFilter = 'invert(.9) hue-rotate(200deg)';\n  } else if (siteColorType === SiteColorTypes.GREY) {\n    newFilter = 'grayscale(1)';\n  }\n\n  const htmlDom = document.querySelector('html');\n  if (htmlDom) {\n    const oldFilter = htmlDom.style.filter;\n    if (newFilter !== oldFilter) htmlDom.style.filter = newFilter;\n  }\n}, { immediate: true });\n","import state from './state';\nimport * as reducer from './reducer';\nimport * as computed from './computed';\nimport * as lifecycle from './lifecycle';\nimport * as watch from './watch';\n\nexport default {\n  state, reducer, computed, lifecycle, watch,\n};\n","import { St } from './state';\n\n// only value change will triiger this function to execute again\nexport function doubleCount({ value }: St) {\n  return value * 2;\n}\n","import { St } from './state';\nimport { VoidPayload, AC } from 'types/store';\nimport { T_COUNTER } from 'configs/c2Mods';\n\ntype IAC = AC<T_COUNTER>;\n\nconst delay = (ms = 1000) => new Promise(r => setTimeout(r, ms));\n\nexport function incrementBigValue(payload: VoidPayload, moduleState: St): Partial<St> {\n  return { bigValue: moduleState.bigValue + 50 };\n}\n\nexport function incrementOne(payload: VoidPayload, moduleState: St): Partial<St> {\n  return { value: moduleState.value + 1 };\n}\n\nexport function decrementOne(payload: VoidPayload, moduleState: St): Partial<St> {\n  return { value: moduleState.value - 1 };\n}\n\nexport function increment(payload: VoidPayload, moduleState: St): Partial<St> {\n  return { value: moduleState.value + moduleState.toInc };\n}\n\nexport function incBy(payload: number, moduleState: St): Partial<St> {\n  return { value: moduleState.value + payload };\n}\n\nexport async function incrementAsync(payload: VoidPayload, moduleState: St, ac: IAC): Promise<Partial<St>> {\n  await delay();\n  // or just write ac.dispatch of return\n  // await ac.dispatch(incrementByAmount, amount);\n  return { value: moduleState.value + moduleState.toInc };\n}\n\nexport function foo() {\n  console.log('call foo');\n}\n\nexport function clear() {\n  console.log('call clear');\n}\n","import { IDispatch } from 'concent';\nimport * as reducer from './reducer';\n\n\n// 异步状态初始化函数\n// export async function initState(){}\n\n\n// 当前模块的第一个组件实例挂载完毕时触发\n// 默认值触发一次，如需满足条件反复触发，return false即可\nexport function mounted(dispatch: IDispatch) {\n  dispatch(reducer.foo);\n}\n\n// 当前模块的最后一个组件实例卸载时触发\n// 默认值触发一次，如需满足条件反复触发，return false即可\nexport function willUnmount(dispatch: IDispatch) {\n  dispatch(reducer.clear);\n}","import state from './state';\nimport * as computed from './computed';\nimport * as reducer from './reducer';\nimport * as lifecycle from './lifecycle';\n\nexport default {\n  state,\n  computed,\n  reducer,\n  lifecycle,\n};\n","\nfunction getInitialState() {\n  return {\n    value: 0,\n    bigValue: 100,\n    toInc: 2,\n  };\n}\n\nexport type St = ReturnType<typeof getInitialState>;\n\nexport default getInitialState;\n","\nfunction getInitialState() {\n  return {\n    value: 0,\n    bigValue: 100,\n    keyword: '',\n  };\n}\n\nexport type St = ReturnType<typeof getInitialState>;\n\nexport default getInitialState;\n","import { St } from './state';\n\n// only value change will triiger this function to execute again\nexport function doubleCount({ value }: St) {\n  return value * 2;\n}\n\nexport function formattedInput({ keyword }: St) {\n  return `用户正在输入 ${keyword}`;\n}\n\n","\nexport function purify(url: string) {\n  const [pureUrl] = url.split('?');\n  return pureUrl;\n}\n","/* eslint-disable */\nimport cute from 'cute-http';\nimport qs from 'qs';\nimport axios from 'axios';\nimport * as messageService from './message';\nimport * as objUtil from 'utils/obj';\nimport * as timerUtil from 'utils/timer';\nimport * as urlUtil from 'utils/url';\nimport * as c2Serv from 'services/concent';\n// import resData from 'assets/response-data';\n\nexport interface IReqOptions {\n  /**\n   * default = true, 是否返回服务器端响应的业务逻辑数据给调用方\n   * 服务器完整的返回数据reply形如：{data:any, code:string, msg:string},\n   * true：返回reply.data\n   * false：返回reply,\n   */\n  returnLogicData?: boolean;\n  defaultValue?: any;\n  /**\n   * 请求的业务前缀，默认 undefined，仅当用户需要根据前缀来区分不同环境时，才需要定义\n   * 调用语句示例 httpService.get(url:string, data:IDataPrams, { bizServiceName: string })\n   * url: '/some/action', bizServiceName: 'category-test' ---> '/category-test/some/action'\n   * url: '/some/action', bizServiceName: 'category' ---> '/category/some/action'\n   * url: '/some/action', bizServiceName: 'www.a.com/xx' ---> 'www.a.com/xx/some/action'\n   * 但要注意调用url包含了协议时，定义的 bizServiceName 是无效的，并不会影响实际发起的请求\n   * url: 'http://www.a.com/some/action', bizServiceName: 'www.b.com/xx' ---> 'http://www.a.com/some/action''\n   *\n   * 推荐用户写个函数获取当前调用api的业务前缀，如 getCateApiPrefix(): 'category' | 'category-test'\n   * 然后动态的传递给 httpService.get 调用，此时调用语句形如：\n   * httpService.get('/some/action', null, { bizServiceName: getCateApiPrefix() })\n   *\n   * 此前缀不影响 assets/mock/apiData/index.ts 文件的key映射\n   * 调用 httpService.get('/some/action', null, { bizServiceName: 'category' })\n   * key 依然是写 'get /some/action'\n   */\n  bizServiceName?: string,\n  /**\n   * default = true\n   * 是否检查服务返回code，并做错误提示\n   */\n  check?: boolean;\n  /**\n   * default = true\n   * 当check为true时生效，是否alert提示错误信息\n   */\n  alertErrorMsg?: boolean;\n}\n\ntype DataParams = Record<string, any> | null;\ninterface MultiItem {\n  url: string;\n  data: DataParams;\n}\n\ncute.setConfig({\n  retryCount: 3, // 重试次数\n  timeout: 50000, // 超时时间\n  // debug: true, // 打开debug模式\n});\n\nconst getXFormOptions = () => ({\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n  },\n  withCredentials: true,\n});\nconst generalOptions = {\n  headers: { 'Content-Type': 'application/json' },\n  withCredentials: true,\n  mockData: null as any,\n\n  // replyReceived: (reply, m) => {\n  //   // console.log('reply.config.url', reply.config.url);\n  //   cute.post('/collectData', { data: reply.data, method: m, url: reply.config.url }, {\n  //     headers: { 'Content-Type': 'application/json' },\n  //     withCredentials: true,\n  //   });\n  // }\n};\n\n// 测试模式，拦截请求，直接响应mock数据\n// if (process.env.TEST_MODE === '1') {\n//   generalOptions.mockData = (method: string, url: string, inputData: any) => {\n//     const key = `${method}${url}`;\n//     // console.log(`return mock data for ${key}`);\n//     return Promise.resolve({ data: resData[key] });\n//   }\n// }\n\nfunction seperateOptions(options: any = {}) {\n  const {\n    returnLogicData, defaultValue = '', check = true, alertErrorMsg = true,\n    failStrategy = cute.const.KEEP_ALL_BEEN_EXECUTED, bizServiceName = '', ...cuteOptions\n  } = options;\n  // cute-http的调用相关可选参数\n  cuteOptions.failStrategy = failStrategy;\n  return { logicOptions: { returnLogicData, defaultValue, check, alertErrorMsg, bizServiceName }, cuteOptions };\n}\n\nconst checkCode = (axiosReply: any, url = '', checkOptions: IReqOptions = {}) => {\n  const { returnLogicData = true, check = true } = checkOptions;\n\n  const { statusCode = 0 } = axiosReply;\n  const httpResponse = axiosReply.data || axiosReply;\n\n  if (statusCode >= 400) throw new Error(`服务器内部错误${statusCode}`);\n  const { status = '0', message = '接口格式错误', response, code, data, msg } = httpResponse;\n  const errMsg = msg || message;\n\n  let toReturn = null;\n  // 直接返回 axiosReply.data, 即服务器返回的原始数据\n  if (!returnLogicData) {\n    toReturn = httpResponse;\n  } else {\n    // 服务端返回的业务相关的数据\n    toReturn = data || response;\n  }\n\n  if (!check) return toReturn;\n\n  // 这里 status 和 code 都要判断......\n  if (typeof status !== 'undefined' && status != '0') {\n    const err = new Error(errMsg) as any;\n    err.status = status;\n    err.url = url;\n    throw err;\n  }\n\n  if (typeof code !== 'undefined' && code != 0) {\n    throw new Error(`url: ${url} ${errMsg}`);\n  }\n\n  return toReturn;\n};\n\nconst attachPrefixAndData = (url: string, data: DataParams | '', bizServiceName?: string) => {\n  const pureUrl = url.replace(/ /g, '');\n  let prefixedUrl = `${pureUrl}`;\n\n  if (!pureUrl.startsWith('http')) {\n    if (bizServiceName) {\n      if (bizServiceName.startsWith('http')) prefixedUrl = `${bizServiceName}${pureUrl}`;\n      else prefixedUrl = `/${bizServiceName}${pureUrl}`;\n    }\n  }\n\n  if (!objUtil.isNull(data)) {\n    const dataQueryStr = qs.stringify(data);\n    if (pureUrl.includes('?')) return `${prefixedUrl}&${dataQueryStr}`;\n    return `${prefixedUrl}?${dataQueryStr}`;\n  }\n\n  return prefixedUrl;\n};\n\nfunction handleError(error: any, options: any, defaultValue: any) {\n  if (!defaultValue) {\n    if (options.check && options.alertErrorMsg) messageService.error(error.message);\n    throw error;\n  }\n  if (error && error.response && error.response.status >= 400) {\n    messageService.error(`服务器内部错误 ${error.response.status}`);\n  }\n\n  // 返回默认值\n  return defaultValue;\n}\n\nasync function sendRequest(method: string, url: string, data?: DataParams, options = {}) {\n  const { logicOptions, cuteOptions } = seperateOptions(options);\n  const { returnLogicData, defaultValue = '', check = true, bizServiceName } = logicOptions;\n\n  try {\n    const mergedOpt = { ...generalOptions, ...cuteOptions };\n    let reply;\n    const { isInnerMock, excludedMockApis } = c2Serv.getGlobalState();\n\n    const getRealReply = async () => {\n      let reply;\n      if (method === 'get') {\n        reply = await cute[method](attachPrefixAndData(url, data || '', bizServiceName), '', mergedOpt);\n      } else {\n        reply = await cute[method](attachPrefixAndData(url, '', bizServiceName), data, mergedOpt);\n      }\n      return reply;\n    };\n\n    if (isInnerMock) {\n      const { mockImpl } = await import('../assets/mock/mockHttpService');\n      if (method === 'get' || method === 'post') {\n        await timerUtil.delay(300);\n        const fakeHttp = mockImpl();\n        const isUrlBeenMocked = fakeHttp.hasMockedFn(method, url);\n        // 已实现mock、没在排除名单里\n        if (isUrlBeenMocked && !excludedMockApis.includes(`${method} ${urlUtil.purify(url)}`)) {\n          const mockResult = fakeHttp[method](url, data);\n          // 包裹成类 axiosReply 对象\n          reply = { statusCode: 200, data: mockResult };\n        } else {\n          reply = await getRealReply();\n        }\n      } else {\n        throw new Error(`method[${method}] not implemented in mockHttpService`);\n      }\n    } else {\n      reply = await getRealReply();\n    }\n\n    return checkCode(reply, url, { returnLogicData, check });\n  } catch (err) {\n    return handleError(err, options, defaultValue);\n  }\n}\n\nasync function get(url: string, data?: DataParams, options?: IReqOptions) {\n  return sendRequest('get', url, data, options);\n}\n\nasync function post(url: string, body?: DataParams, options?: IReqOptions) {\n  return sendRequest('post', url, body, options);\n}\n\nasync function put(url: string, body?: DataParams, options?: IReqOptions) {\n  return sendRequest('put', url, body, options);\n}\n\n/**\n * 以application/x-www-form-urlencoded的形式提交数据\n * TODO: 删除postFormData\n * @param {*} url\n * @param {*} data\n * @param {*} options\n */\nasync function sendXForm(method: string, url: string, data: DataParams, options = {}) {\n  const { logicOptions, cuteOptions } = seperateOptions(options);\n  const { returnLogicData, defaultValue = '', check = true, bizServiceName } = logicOptions;\n  try {\n    const xFormOptions = getXFormOptions();\n    const mergedOpt = { ...xFormOptions, ...cuteOptions };\n\n    let _data = data;\n    if (objUtil.isObject(data)) {\n      _data = {};\n      for (let key in data) {\n        const val = data[key];\n        // x-www-form提交的话，对象 {} [] 都要转为string\n        _data[key] = objUtil.isObject(val) ? JSON.stringify(val) : val;\n      }\n    }\n\n    const reply = await cute[method](attachPrefixAndData(url, '', bizServiceName), qs.stringify(_data), mergedOpt);\n    return checkCode(reply, url, { returnLogicData, check });\n  } catch (err) {\n    return handleError(err, options, defaultValue);\n  }\n}\n\nasync function xFormPost(url: string, data: DataParams, options = {}) {\n  return sendXForm('post', url, data, options);\n}\n\nasync function xFormPut(url: string, data: DataParams, options = {}) {\n  return sendXForm('put', url, data, options);\n}\n\nasync function multiGet(urls: string[], options: IReqOptions = {}) {\n  const { logicOptions, cuteOptions } = seperateOptions(options);\n  const { returnLogicData, defaultValue = '', check = true, bizServiceName } = logicOptions;\n  try {\n    delete options.returnLogicData;\n    const _urls = urls.map(url => attachPrefixAndData(url, '', bizServiceName));\n    const replyList: any[] = await cute.multiGet(_urls, { ...generalOptions, ...cuteOptions });\n    return replyList.map((r, idx) => checkCode(r, _urls[idx], { returnLogicData, check }));\n  } catch (err) {\n    return handleError(err, options, defaultValue);\n  }\n}\n\nasync function multiPost(items: MultiItem[], options: IReqOptions = {}) {\n  const { logicOptions, cuteOptions } = seperateOptions(options);\n  const { returnLogicData, defaultValue = '', check = true, bizServiceName } = logicOptions;\n\n  try {\n    delete options.returnLogicData;\n    items.forEach(item => item.url = attachPrefixAndData(item.url, '', bizServiceName));\n    const replyList: any[] = await cute.multiPost(items, { ...generalOptions, ...cuteOptions });\n    return replyList.map((r, idx) => checkCode(r, items[idx].url, { returnLogicData, check }));\n  } catch (err) {\n    return handleError(err, options, defaultValue);\n  }\n}\n\n/**\n * 通常用于文件提交\n * Content-Type 为 multipart/form-data\n */\nasync function postFormData(url: string, data: DataParams, options: IReqOptions) {\n  const { logicOptions, cuteOptions } = seperateOptions(options);\n  const { returnLogicData, defaultValue = '', check = true, bizServiceName } = logicOptions;\n  const finalUrl = attachPrefixAndData(url, '', bizServiceName);\n\n  const formData = new FormData();\n  data && Object.keys(data).forEach((key) => {\n    const val = data[key];\n    if (Object.prototype.hasOwnProperty.call(data, key) && !!data[key]) {\n      if (val instanceof File) {\n        formData.append(key, val);\n      } else {\n        const appendVal = objUtil.isObject(val) ? JSON.stringify(val) : val;\n        formData.append(key, appendVal);\n      }\n    }\n  });\n\n  const instance = axios.create({ withCredentials: true });\n\n  try {\n    const reply = await instance.post(finalUrl, formData, cuteOptions);\n    return checkCode(reply, url, { returnLogicData, check });\n  } catch (err) {\n    return handleError(err, options, defaultValue);\n  }\n}\n\n/**\n *\n * @param {string} url - 请求地址\n * @param {Record<string, any>} data - ost请求需要的参数\n */\nfunction downloadFile(url: string, data: Record<string, any> = {}) {\n  const form = document.createElement('form');\n  form.style.display = 'none';\n  form.action = url;\n  form.method = 'post';\n  document.body.appendChild(form);\n  if (data) {\n    // 动态创建input并给value赋值\n    for (const key in data) {\n      const input = document.createElement('input');\n      input.type = 'hidden';\n      input.name = key;\n      const val = data[key];\n      input.value = objUtil.isObject(val) ? JSON.stringify(val) : val;\n      form.appendChild(input);\n    }\n  }\n  form.submit();\n  form.remove();\n}\n\nexport default {\n  downloadFile,\n  get,\n  put,\n  post,\n  xFormPost,\n  xFormPut,\n  postFormData,\n  multiGet,\n  multiPost,\n};\n","import http from 'services/http';\n\nexport async function getTodoList() {\n  const ret = await http.get('/api/todo/list');\n  return ret;\n}\n\nexport async function queryTodoList(data: { keyword: string }) {\n  const ret = await http.get('/api/todo/query', data);\n  return ret;\n}\n","import * as todoServ from 'services/domain/todo';\nimport { VoidPayload, AC } from 'types/store';\nimport { St } from './state';\n\ntype IAC = AC<'Counter'>;\n\nexport function forCopy(payload: VoidPayload, moduleState: St, ac: IAC) {\n  console.log('call ac.setState or ac.dispatch when needed', ac.setState);\n}\n\ninterface FetchListPayload {\n  current: number,\n  pageSize: number,\n}\nexport async function fetchList({ current, pageSize }: FetchListPayload, moduleState: St) {\n  const ret = await todoServ.getTodoList();\n  return { pageList: ret.list, total: ret.total };\n}\n\nexport function foo() {\n  console.log('call foo');\n}\n\nexport function clear() {\n  console.log('clear');\n  return { value: 1 };\n}\n\nexport function addBig(payload: VoidPayload, moduleState: St) {\n  const { bigValue } = moduleState;\n  return { bigValue: bigValue + 1 };\n}\n","\n/*\n|--------------------------------------------------------------------------\n| 定义模块的lifecyle\n|--------------------------------------------------------------------------\n| 文档:  https://concentjs.github.io/concent-doc/guide/concept-module-lifecycle\n*/\nimport { IDispatch } from 'concent';\nimport * as reducer from './reducer';\n\n\n// 异步状态初始化函数\n// export async function initState(){}\n\n// 模块被concent加载完毕时触发，(可替代initState，将初始化逻辑移到reducer文件里)\n// export function loaded(dispatch: IDispatch) {}\n\n// 当前模块的第一个组件实例挂载完毕时触发，\n// 默认只触发一次，如需满足条件反复触发，return false即可\n// 注意此函数触发时机和实例相关，如果没有任何属于此模块的组件实例化，该函数不会被触发\nexport function mounted(dispatch: IDispatch) {\n  dispatch(reducer.foo);\n}\n\n// 当前模块的最后一个组件实例卸载时触发\n// 默认只触发一次，如需满足条件反复触发，return false即可\nexport function willUnmount(dispatch: IDispatch) {\n  dispatch(reducer.clear);\n}","import state from './state';\nimport * as computed from './computed';\nimport * as reducer from './reducer';\nimport * as lifecycle from './lifecycle';\n\n\nexport default {\n  state,\n  reducer,\n  computed,\n  lifecycle,\n}\n","import { T_DEMO } from 'configs/c2Mods';\nimport { VoidPayload, AC } from 'types/store';\nimport { St } from './state';\nimport http from 'services/http';\n\ntype IAC = AC<T_DEMO>;\n\nexport function aNormalMethod(payload: VoidPayload, moduleState: St, actionCtx: IAC) {\n  console.log('for copy - ', actionCtx.dispatch);\n}\n\nexport function changeDesc(payload: string | VoidPayload, moduleState: St, actionCtx: IAC) {\n  let desc = `module--${actionCtx.module} ${Date.now()}`;\n  if (payload) {\n    if (typeof payload === 'string') {\n      desc = payload;\n    } else {\n      desc = `module--${actionCtx.module} ${payload.currentTarget.nodeName} ${Date.now()}`;;\n    }\n  }\n  return { desc };\n}\n\ninterface FetchListP{\n  current: number,\n  pageSize: number,\n}\nexport async function fetchList({ current, pageSize }: FetchListP): Promise<{ pageList: any[], total: number }> {\n  const todos = await http.get('api/todos');\n  console.log(current, pageSize, todos);\n  return { pageList: todos, total: 1000 };\n}\n\nexport function foo(){\n  console.log('call foo');\n}\n\nexport function clear(){\n  console.log('clear');\n}\n","import { St } from './state';\n\nexport function revesedDesc(n: St) {\n  return n.desc.split('').reverse().join('');\n}\n","import { IDispatch } from 'concent';\nimport * as reducer from './reducer';\n\n\n// 异步状态初始化函数\n// export async function initState(){}\n\n\n// 当前模块的第一个组件实例挂载完毕时触发\n// 默认值触发一次，如需满足条件反复触发，return false即可\nexport function mounted(dispatch: IDispatch) {\n  dispatch(reducer.foo);\n}\n\n// 当前模块的最后一个组件实例卸载时触发\n// 默认值触发一次，如需满足条件反复触发，return false即可\nexport function willUnmount(dispatch: IDispatch) {\n  dispatch(reducer.clear);\n}","import state from './state';\nimport * as reducer from './reducer';\nimport * as computed from './computed';\nimport * as lifecycle from './lifecycle';\n\nexport default {\n  state,\n  reducer,\n  computed,\n  lifecycle,\n};\n","\nfunction getInitialState() {\n  return {\n    num: 1,\n    desc: 'this is a demo model!!!!!',\n  };\n}\n\nexport type St = ReturnType<typeof getInitialState>;\n\nexport default getInitialState;\n","import { defineModule } from 'concent';\nimport { delay } from 'utils/timer';\n\ninterface St {\n  value: number;\n  loading: boolean;\n}\n\nconst m = defineModule({\n  state: (): St => ({\n    value: 1,\n    loading: false,\n  }),\n  reducer: {\n    add(payload: number | void, moduleState) {\n      const toAdd = payload === undefined ? 1 : 0;\n      return { value: moduleState.value + toAdd };\n    },\n    async asyncAdd(payload: number | void, moduleState, ac) {\n      await ac.setState({ loading: true });\n      await delay(2000);\n      await ac.dispatch(m.r.add, 100);\n      return { loading: false };\n    },\n  },\n  computed: {\n    double(newState) {\n      return newState.value * 2;\n    }\n  }\n});\n\nexport default m;\n","// 需要全局共享的model，提升到这里导出\n// 然后全局可以使用 services/concent 里的 useC2Mode(modName) 来拿到目标模块了\nimport HomeModel from 'pages/Home/model';\n\nexport { default as $$global } from './global'; // 覆写concent内置的$$global模块\nexport { default as Counter } from './counter';\nexport { default as TodoList } from './todolist';\nexport { default as Demo } from './_demo';\nexport { default as singleFile } from './singleFile';\n\n// 暴露为 Home 命名空间挂到全局store上\nexport const Home = HomeModel.Home;\n","import { run, Plugin } from 'concent';\nimport reduxDevToolPlugin from 'concent-plugin-redux-devtool';\nimport * as msgService from 'services/message';\nimport * as commonUtil from 'utils/common';\nimport * as models from '../models';\n\nconst plugins: Plugin[] = [];\nif (commonUtil.isLocalMode()) {\n  plugins.push(reduxDevToolPlugin);\n}\n\n// load all models by concent.run api\nrun(models, {\n  errorHandler: (err) => {\n    msgService.error(err.message);\n  },\n  plugins,\n  alwaysRenderCaller: true,\n  isStrict: true,\n});\n","import React from 'react';\nimport { useC2DefaultMod } from 'services/concent';\nimport styles from '../styles/App.module.css';\n\nfunction Logo() {\n  const { globalComputed: { logoCtrl } } = useC2DefaultMod();\n  const style: React.CSSProperties = { backgroundImage: `url(${logoCtrl.imgUrl})`, width: logoCtrl.width };\n\n  if (logoCtrl.showLabel) {\n    return <div className={styles.logoLabelWrap} style={{ color: logoCtrl.color }}>\n      {logoCtrl.label}\n    </div>;\n  }\n\n  return <div style={style} className={styles.logoWrap} />;\n}\n\nexport default React.memo(Logo);\n","import React from 'react';\nimport { Avatar } from 'antd';\nimport { useC2DefaultMod } from 'services/concent';\nimport styles from '../../styles/App.module.css';\n\nexport type BaseIconMode = 'bar' | 'header' | 'body';\n\ninterface IProps {\n  mode?: BaseIconMode,\n  onClick?: (...args: any[]) => any,\n  Icon: React.ForwardRefExoticComponent<any>,\n}\n\nconst iconClsMap = {\n  bar: '',\n  header: styles.settingInHeader,\n  body: styles.settingInBody,\n};\nconst uiEmpty = <span style={{ display: 'none' }} />;\n\nfunction BaseIcon(props: IProps) {\n  const { mode = 'body' } = props;\n  const { globalComputed: gcu } = useC2DefaultMod();\n\n  if (mode === 'body' && !gcu.iconCtrl.showInBody) {\n    return uiEmpty;\n  }\n\n  const iconCls = `${iconClsMap[mode]} gHover`;\n  const style = { color: gcu.iconCtrl.color };\n\n  if (mode === 'body') {\n    return <Avatar className={iconCls} icon={<props.Icon onClick={props.onClick} style={style} />} />;\n  }\n  return <props.Icon onClick={props.onClick} className={iconCls} style={style} />;\n}\n\nexport default React.memo(BaseIcon);\n","import React from 'react';\nimport { SettingOutlined } from '@ant-design/icons';\nimport { useSetupCtx } from 'services/concent';\nimport { CtxDe } from 'types/store';\nimport BaseIcon, { BaseIconMode } from './common/BaseIcon';\n\nfunction setup(ctx: CtxDe) {\n  return {\n    openThemeSettingsDrawer: () => ctx.setGlobalState({ settingDrawerVisible: true }),\n  };\n}\ninterface IProps {\n  mode?: BaseIconMode,\n}\n\nfunction SettingIcon(props: IProps) {\n  const { mode = 'body' } = props;\n  const { settings: se } = useSetupCtx(setup);\n  const passProps = { mode, Icon: SettingOutlined, onClick: se.openThemeSettingsDrawer };\n  return <BaseIcon {...passProps} />;\n}\n\nexport default React.memo(SettingIcon);\n","import React from 'react';\nimport { Modal } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\nimport { useC2DefaultMod } from 'services/concent';\nimport { CtxDe } from 'types/store';\nimport BaseIcon, { BaseIconMode } from './common/BaseIcon';\n\ninterface IProps {\n  mode?: BaseIconMode,\n}\n\nfunction setup(ctx: CtxDe) {\n  return {\n    logout() {\n      Modal.confirm({\n        onOk() {\n          ctx.gr.logout();\n        },\n        title: '提示',\n        content: '确认要登出 concent-pro 吗?',\n      });\n    },\n  };\n}\n\nfunction LogoutIcon(props: IProps) {\n  const { mode = 'body' } = props;\n  const { settings } = useC2DefaultMod({ setup });\n  const passProps = { mode, Icon: LogoutOutlined, onClick: settings.logout };\n  return <BaseIcon {...passProps} />;\n}\n\nexport default React.memo(LogoutIcon);\n","import React from 'react';\nimport { Popover, Radio, RadioChangeEvent } from 'antd';\nimport { SkinOutlined } from '@ant-design/icons';\nimport { useC2DefaultMod } from 'services/concent';\nimport { CtxDe } from 'types/store';\nimport { SiteColorTypes } from 'configs/constant/sys';\nimport BaseIcon, { BaseIconMode } from './common/BaseIcon';\n\ninterface IProps {\n  mode?: BaseIconMode,\n}\n\nconst colorTypeOptions = [\n  { label: '正常', value: SiteColorTypes.NORMAL },\n  { label: '黑白', value: SiteColorTypes.GREY },\n  { label: '暗夜', value: SiteColorTypes.DARK },\n];\n\nfunction setup(ctx: CtxDe) {\n  const ins = ctx.initState({\n    visible: false,\n  });\n  return {\n    insState: ins.state,\n    handleVisibleChange(visible: boolean) {\n      ins.setState({ visible });\n    },\n    changeSiteColorType(e: RadioChangeEvent) {\n      ctx.gr.setState({ siteColorType: e.target.value });\n    },\n  }\n}\n\nfunction SiteColorIcon(props: IProps) {\n  const { mode = 'body' } = props;\n  const { globalState, settings: se } = useC2DefaultMod({ setup });\n  const passProps = { mode, Icon: SkinOutlined };\n\n  const uiContent = <Radio.Group\n    options={colorTypeOptions}\n    onChange={se.changeSiteColorType}\n    value={globalState.siteColorType}\n    optionType=\"button\"\n    buttonStyle=\"solid\"\n  />;\n\n  return <Popover\n    placement=\"bottomLeft\"\n    content={uiContent}\n    title=\"站点色调\"\n    trigger=\"click\"\n    visible={se.insState.visible}\n    onVisibleChange={se.handleVisibleChange}\n  >\n    <BaseIcon {...passProps} />\n  </Popover>;\n}\n\nexport default React.memo(SiteColorIcon);\n","import React from 'react';\nimport { Layout, Avatar } from 'antd';\nimport { Blank } from 'components/dumb/general';\nimport { useC2DefaultMod } from 'services/concent';\nimport Logo from './Logo';\nimport SettingIcon from './SettingIcon';\nimport LogoutIcon from './LogoutIcon';\nimport SiteColorIcon from './SiteColorIcon';\nimport styles from '../styles/App.module.css';\n\nfunction AppHeader() {\n  const { globalState: gst, globalComputed: gcu } = useC2DefaultMod();\n\n  return (\n    <Layout.Header className={styles.header} style={gcu.headerStyle}>\n      { !gcu.siderInfo.showSider && <Logo />}\n      <div className={styles.headerRightAreaWrap} style={{ color: gcu.headerStyle.color }}>\n        <Avatar size={32} src={gst.userIcon} className={styles.userIconWarp} />\n        <Blank width=\"8px\" />\n        {gst.userName}\n        <Blank width=\"8px\" />\n        {gcu.iconCtrl.showInHeader && <LogoutIcon mode=\"header\" />}\n        <Blank width=\"8px\" />\n        {gcu.iconCtrl.showInHeader && <SiteColorIcon mode=\"header\" />}\n        <Blank width=\"8px\" />\n        {gcu.iconCtrl.showInHeader && <SettingIcon mode=\"header\" />}\n      </div>\n    </Layout.Header>\n  );\n}\n\nexport default React.memo(AppHeader);\n","import React from 'react';\nimport { Tabs, Tooltip, Switch } from 'antd';\nimport { history } from 'react-router-concent';\nimport { QuestionOutlined } from '@ant-design/icons';\nimport { useSetupCtx } from 'services/concent';\nimport { getSearchPath, extractPathAndSearch } from 'services/appPath';\nimport { CtxDe } from 'types/store';\nimport { IMenuGroup, IMenuItem } from 'configs/menus';\nimport { path2menuItem, path2menuGroup } from 'configs/derived/menus';\nimport { Blank } from 'components/dumb/general';\nimport * as arrUtil from 'utils/arr';\nimport SettingIcon from './SettingIcon';\nimport LogoutIcon from './LogoutIcon';\nimport SiteColorIcon from './SiteColorIcon';\nimport styles from '../styles/App.module.css';\n\nconst { TabPane } = Tabs;\nconst stItemIcon = { marginRight: '6px' };\n\nfunction setup(ctx: CtxDe) {\n  return {\n    onChange: (curActiveRoutePathMayIncludeSearch: string) => {\n      ctx.gr.addActiveRoutePath(extractPathAndSearch(curActiveRoutePathMayIncludeSearch));\n      history.push(curActiveRoutePathMayIncludeSearch);\n    },\n    onEdit: async (curActiveRoutePathMayIncludeSearch: React.MouseEvent | React.KeyboardEvent | string, action: string) => {\n      if (action === 'remove' && typeof curActiveRoutePathMayIncludeSearch === 'string') {\n        const ret = await ctx.gr.delActiveRoutePath(extractPathAndSearch(curActiveRoutePathMayIncludeSearch));\n        history.push(`${ret.curActiveRouteFullPath}`);\n      }\n    },\n    getNavMenus: (path: string) => {\n      const navMenus: Array<IMenuGroup | IMenuItem> = [];\n      const menuItem = path2menuItem[path];\n      menuItem && navMenus.unshift(menuItem);\n      const menuGroup = path2menuGroup[path];\n      menuGroup && navMenus.unshift(menuGroup);\n      return navMenus;\n    },\n    openThemeSettingsDrawer: () => ctx.setGlobalState({ settingDrawerVisible: true }),\n    changeIsTabPaneHeavyBg: (isTabPaneHeavyBg: boolean) => {\n      ctx.gr.changeIsTabPaneHeavyBg(isTabPaneHeavyBg);\n    },\n    changeDarkMode: (darkSite: boolean) => {\n      // ctx.gr.setState({ darkSite });\n    },\n  };\n}\n\n// 渲染导航面包屑 + 标签页\nfunction QuickNavBar() {\n  const { globalState: { activeRoutePaths, isTabPaneHeavyBg, curActiveRouteFullPath },\n    settings: se, globalComputed: gcu,\n  } = useSetupCtx(setup, { tag: 'QuickNavBar' });\n\n  return (\n    <div className={`quickNavBarWrapBase ${gcu.navBarItemCls} smallScBar`} style={gcu.quickNavBarStyle}>\n      <Tabs\n        style={{ paddingLeft: '3px', display: 'inline-block' }}\n        activeKey={curActiveRouteFullPath}\n        hideAdd\n        onChange={se.onChange}\n        onEdit={se.onEdit}\n        type=\"editable-card\"\n      >\n        {activeRoutePaths.map(({ path, search }) => {\n          const navMenus = se.getNavMenus(path);\n          const item = arrUtil.lastItem(navMenus);\n          const uiIcon = item.Icon ? <item.Icon style={stItemIcon} /> : <QuestionOutlined style={stItemIcon} />;\n          const navLen = navMenus.length;\n          const pathWithSearch = getSearchPath(path, search);\n          const uiTab = (\n            <Tooltip key={pathWithSearch}\n              title={navMenus.map((item, i) => <span key={i} >{(navLen > 1 && i > 0) ? ' / ' : ''}{item.label} {search}</span>)}\n            >\n              <span >{uiIcon}{item.label}</span>\n            </Tooltip>\n          );\n          return <TabPane tab={uiTab} key={pathWithSearch} />;\n        })}\n      </Tabs>\n      <div className={styles.headerSettingWrapInBar}>\n        <Switch checked={isTabPaneHeavyBg} style={{ verticalAlign: 'text-bottom' }}\n          onClick={se.changeIsTabPaneHeavyBg} checkedChildren=\"深\" unCheckedChildren=\"浅\"\n        />\n        {gcu.iconCtrl.showInBar && <><Blank width=\"5px\" /> <SiteColorIcon mode=\"bar\" /></>}\n        {gcu.iconCtrl.showInBar && <><Blank width=\"5px\" /> <LogoutIcon mode=\"bar\" /></>}\n        {gcu.iconCtrl.showInBar && <><Blank width=\"5px\" /> <SettingIcon mode=\"bar\" /></>}\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(QuickNavBar);\n","\nimport React from 'react';\nimport { useC2DefaultMod } from 'services/concent';\nimport Header from './components/Header';\nimport QuickNavBar from './components/QuickNavBar';\nimport SettingIcon from './components/SettingIcon';\n\nfunction TopContent() {\n  const { globalComputed: gcu } = useC2DefaultMod();\n  return (\n    <React.Fragment>\n      {gcu.isHeaderAboveNavBar ? <Header /> : <QuickNavBar />}\n      {!gcu.isHeaderAboveNavBar ? <Header /> : <QuickNavBar />}\n      <SettingIcon />\n    </React.Fragment>\n  );\n}\n\nexport default React.memo(TopContent);\n","import React from 'react';\nimport { Alert } from 'antd';\nimport { sys } from 'configs/constant';\n\nconst stBg = {\n  width: '600px',\n  height: '600px',\n  backgroundImage: `url(${sys.img403})`,\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center',\n  paddingTop: '360px',\n  margin: '0 auto',\n};\n\nexport default function Error403() {\n  return (\n    <div style={stBg}>\n      <Alert type=\"error\" message=\"暂无权限查看该页面\" />\n    </div>\n  );\n}","import React from 'react';\nimport { Alert } from 'antd';\nimport { sys } from 'configs/constant';\n\nconst stBg = {\n  width: '600px',\n  height: '600px',\n  backgroundImage: `url(${sys.img404})`,\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center',\n  paddingTop: '360px',\n  margin: '0 auto',\n};\n\nexport default function Error404() {\n  return (\n    <div style={stBg}>\n      <Alert type=\"error\" message=\"页面不存在\" />\n    </div>\n  );\n}\n","/*\n|--------------------------------------------------------------------------\n| concent-pro 的骨架屏组件\n|\n| 在 models/global/state.js 的 isAppReady 值置为true之前，\n| 主内容区域会渲染此骨架屏\n| 异步路由拉取资源时也会渲染此组件\n|--------------------------------------------------------------------------\n|\n*/\nimport React from 'react';\nimport { Spin, Skeleton } from 'antd';\n\ninterface IProps {\n  label?: string;\n}\n\nexport default function SkeletonScreen(props: IProps) {\n  const { label = '系统初始化中...' } = props;\n  return (\n    <div style={{ padding: '64px' }}>\n      <Skeleton avatar paragraph={{ rows: 4 }} />\n      <Skeleton avatar paragraph={{ rows: 4 }} />\n      <Spin>\n        <div style={{ textAlign: 'center' }}>{label}</div>\n      </Spin>\n    </div>\n  );\n}\n","/* eslint-disable react/no-children-prop */\n/**\n * 根据 configs/menus 配置组装整个应用的路由系统\n */\nimport React, { Suspense } from 'react';\nimport { Switch, Route, RouteComponentProps } from 'react-router-dom';\nimport { register, cst } from 'concent';\nimport { useSetup } from 'services/concent';\nimport { getUrlChangedEvName } from 'react-router-concent';\nimport { Layout } from 'antd';\nimport { flattedMenus } from 'configs/derived/menus';\nimport { IMenuItem } from 'configs/menus';\nimport Error403 from 'components/dumb/Error403';\nimport Error404 from 'components/dumb/Error404';\nimport * as typeUtil from 'utils/type';\nimport { decideVal } from 'utils/obj';\nimport { CtxDe } from 'types/store';\nimport SkeletonScreen from './SkeletonScreen';\nimport styles from '../styles/App.module.css';\n\nconst { Content } = Layout;\n\nlet key = 0;\nfunction setup(ctx: CtxDe) {\n  key = key + 1;\n  const ins = ctx.initState({\n    key,\n  });\n  ctx.on('refreshRouterGuard', () => {\n    key = key + 1;\n    ins.setState({ key });\n  });\n  return {\n    state: ins.state,\n  };\n}\n\nconst RouterGuard = React.memo((props: { Comp: React.ComponentType<any>, routerProps: RouteComponentProps }) => {\n  const settings = useSetup(setup);\n  return <props.Comp key={settings.state.key} {...props.routerProps} />;\n});\n\nclass Routes extends React.Component {\n  public ctx = typeUtil.typeVal<CtxDe>({});\n  public errOccurred = false;\n\n  public state: { err: string } = { err: '' };\n\n  // 构建一次后就缓存路由组件，否则会在边栏收起时造成页面组件卸载并再挂载\n  public cachedUi: Record<string, any> = { uiRoutes: null, uiHomeRoute: null, uiNotFound: null };\n  public cachedUiCompWrapContent: Record<string, { ui: any, layoutStyle: any }> = {};\n\n  public $$setup() {\n    this.ctx.on(getUrlChangedEvName(), (param, action, history) => {\n      console.log(param, action, history);\n      if (this.errOccurred) {\n        this.errOccurred = false;\n        this.setState({ err: '' });\n      }\n    });\n  }\n\n  public componentDidCatch(err: any) {\n    this.errOccurred = true;\n    this.setState({ err: err.message });\n  }\n\n  // 提示当前路由页崩溃\n  public renderCrashTip = () => {\n    return (\n      <Layout style={this.ctx.globalComputed.contentLayoutStyle}>\n        <h1 style={{ color: 'red', padding: '64px' }}>\n          当前路由页面崩溃，请联系 xxx 开发者 做进一步跟踪，如果是开发者，可打开console查看具体错误,\n          如想继续访问当前页面，可刷新浏览器重试。\n        </h1>\n      </Layout>\n    );\n  }\n\n  public renderChildrenWithContentWrap(children: React.ReactNode) {\n    const { contentLayoutStyle } = this.ctx.globalComputed;\n    return <Layout style={contentLayoutStyle}>\n      <Layout style={{ padding: '24px' }}>\n        <Content className={styles.contentWrap}>\n          {children}\n        </Content>\n      </Layout>\n    </Layout>;\n  }\n\n  public renderChildrenWithNoContentWrap(children: React.ReactNode) {\n    const { contentLayoutStyle } = this.ctx.globalComputed;\n    return <Layout style={contentLayoutStyle}>\n      {children}\n    </Layout>;\n  }\n\n  public renderChildren = (item: IMenuItem, props: RouteComponentProps, inputSetContentLayout?: boolean) => {\n    console.warn('Render CompWrap');\n    const setContentLayout = decideVal(inputSetContentLayout, item.setContentLayout);\n    const { contentLayoutStyle } = this.ctx.globalComputed;\n\n    // check auth\n    if (item.authId && !this.ctx.globalState.authIds.includes(item.authId)) {\n      return this.renderChildrenWithContentWrap(<Error403 />);\n    }\n\n    // beforeComponentMount 可能返回一个替换的视图\n    let uiReplaceRouteComp: React.ReactNode | void = '';\n    const executed = React.useRef(false);\n    if (!executed.current) {\n      executed.current = true;\n      if (item.beforeComponentMount) {\n        uiReplaceRouteComp = item.beforeComponentMount(props);\n      }\n    }\n\n    const ret = this.cachedUiCompWrapContent[item.path] || {};\n    let { ui: uiCompWrapContent } = ret;\n    const { layoutStyle } = ret;\n    // layout 没变才返回缓存\n    if (uiCompWrapContent && layoutStyle === contentLayoutStyle) return uiCompWrapContent;\n\n    const uiTargetComp = uiReplaceRouteComp || <RouterGuard Comp={item.Component} routerProps={props} />;\n    if (setContentLayout) {\n      uiCompWrapContent = this.renderChildrenWithContentWrap(uiTargetComp);\n    } else {\n      uiCompWrapContent = this.renderChildrenWithNoContentWrap(uiTargetComp);\n    }\n\n    this.cachedUiCompWrapContent[item.path] = { ui: uiCompWrapContent, layoutStyle: contentLayoutStyle };\n    return uiCompWrapContent;\n  }\n\n  // 创建一个渲染包含有【路由组件】的组件\n  public makeCompWrap = (item: IMenuItem, setContentLayout?: boolean) => {\n    console.warn('makeCompWrap');\n    return (props: RouteComponentProps) => {\n      return this.renderChildren(item, props, setContentLayout);\n    };\n  }\n\n  // 根据配置构造路由\n  public buildRouteUi = () => {\n    if (this.cachedUi.uiRoutes) return this.cachedUi;\n\n    let homeMenuItem: IMenuItem | null = null;\n    const uiRoutes = flattedMenus.map((item) => {\n      if (item.isHomePage) homeMenuItem = item;\n      const CompWrap = this.makeCompWrap(item);\n      // todo: keepalive\n      return <Route key={item.path} exact={item.exact} path={item.path} component={CompWrap} />;\n      // return <Route key={item.path} exact={item.exact} path={item.path}\n      //   children={(props: RouteComponentProps) => this.renderChildren(item, props)}\n      // />;\n    });\n\n    let uiHomeRoute: React.ReactNode = '';\n    if (homeMenuItem) {\n      // let item = homeMenuItem;\n      const CompWrap = this.makeCompWrap(homeMenuItem);\n      uiHomeRoute = <Route exact={true} path={'/'} component={CompWrap} />;\n      // uiHomeRoute = <Route exact={true} path={'/'} children={(props: RouteComponentProps) => this.renderChildren(item, props)} />;\n    }\n\n    // 第二位参数传递 true， 让404 页面包裹一下 content layout\n    const CompNotFoundWrap = this.makeCompWrap({ Component: Error404, path: '', label: '' }, true);\n    const uiNotFoundRoute = <Route component={CompNotFoundWrap} />;\n\n    this.cachedUi = { uiRoutes, uiHomeRoute, uiNotFoundRoute };\n    return this.cachedUi;\n  }\n\n  public render() {\n    if (this.errOccurred) {\n      return this.renderCrashTip();\n    }\n    const { uiRoutes, uiHomeRoute, uiNotFoundRoute } = this.buildRouteUi();\n    return (\n      <Suspense fallback={<SkeletonScreen label=\"页面加载中...\" />}>\n        <Switch>\n          {uiRoutes}\n          {uiHomeRoute}\n          {uiNotFoundRoute}\n        </Switch>\n      </Suspense>\n    );\n  }\n}\n\nexport default register(cst.MODULE_DEFAULT)(Routes);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { useC2DefaultMod } from 'services/concent';\nimport Routes from './components/Routes';\nimport SkeletonScreen from './components/SkeletonScreen';\n\nfunction MainContent() {\n  const { globalState, globalComputed } = useC2DefaultMod();\n  const { contentLayoutStyle } = globalComputed;\n\n  if (!globalState.isAppReady) {\n    return <Layout style={contentLayoutStyle}>\n      <SkeletonScreen />\n    </Layout>;\n  }\n\n  // 异步的路由组件在组件还未拉取到时，会撑不起内容区高度，这里包一个div给一个minHeight解决此问题\n  return <div style={{ minHeight: contentLayoutStyle.minHeight }}><Routes /></div>;\n}\n\nexport default React.memo(MainContent);\n","import React from 'react';\nimport { LeftCircleOutlined, RightCircleOutlined } from '@ant-design/icons';\nimport './style.css';\n\ninterface IProps {\n  style?: Record<string, any>;\n  des?: 'left' | 'right';\n  onClick?: (args?: any[]) => any;\n}\n\nconst stDrawerIcon = { position: 'fixed', top: '48%', zIndex: '999999' };\n\nfunction SiderSwitchIcon({ style = stDrawerIcon, des = 'left', onClick }: IProps) {\n  // 因为icon做了旋转，导致这里需取反方向\n  const uiIcon = des === 'left' ? <RightCircleOutlined /> : <LeftCircleOutlined />;\n  return (\n    <div className=\"ccpro-drawer__icon\" style={style} onClick={() => onClick && onClick()}>\n      <span>\n        {uiIcon}\n      </span>\n    </div>\n  );\n}\n\nexport default SiderSwitchIcon;\n","import React from 'react';\nimport { Menu, Button } from 'antd';\nimport { QuestionOutlined, DoubleLeftOutlined, DoubleRightOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport { getUrlChangedEvName } from 'react-router-concent';\nimport { MenuMode, SelectInfo } from 'rc-menu/lib/interface';\nimport { CtxDe } from 'types/store';\nimport { IMenuGroup, IMenuItem } from 'configs/menus';\nimport { path2menuGroup, homePageFullPath, showingMenus } from 'configs/derived/menus';\nimport { SiderViewTypes } from 'configs/constant/sys';\nimport { getRelativeRootPath, extractPathAndSearch } from 'services/appPath';\nimport { useSetupCtx, getGlobalComputed } from 'services/concent';\nimport * as arrUtil from 'utils/arr';\nimport { EmptyView } from 'components/dumb/general';\nimport Logo from './Logo';\nimport '../styles/resetMenu.css';\nimport styles from '../styles/App.module.css';\n\nconst { SubMenu, Item: MenuItem } = Menu;\nlet firstCallGetOpenKeys = true;\n\nfunction iState() {\n  // 获取路由参数，确定展开的菜单\n  let path = getRelativeRootPath();\n  // 确保home页时左侧菜单能够正确的点亮\n  if (path === '/') path = homePageFullPath;\n\n  let openKeys: string[] = [];\n  // 当边栏展开时，才计算 openKeys\n  if (getGlobalComputed().siderInfo.isUnfold && path2menuGroup[path]) {\n    openKeys = [path2menuGroup[path].key];\n  }\n\n  return {\n    selectedKeys: [path],\n    openKeys,\n  };\n}\n\nlet prevPathName = getRelativeRootPath();\nlet prevSearch = extractPathAndSearch(window.location.href).search;\n\nfunction setup(ctx: CtxDe) {\n  const ins = ctx.initState(iState);\n  ctx.on(getUrlChangedEvName(), (param: any) => {\n    const { pathname, search } = param;\n    if (prevPathName === pathname && search !== prevSearch) {\n      // 刷新同一个key挂载的路由组件\n      ctx.emit('refreshRouterGuard');\n    }\n    prevPathName = pathname;\n    prevSearch = search;\n    const newState = iState();\n    // 重新计算的值和实例上维护的不一样时，才触发 Sider 重渲染\n    if (newState.selectedKeys[0] !== ins.state.selectedKeys[0]) {\n      // 保持原来的菜单展开状态, 同时也让新的能够正确展开\n      newState.openKeys = arrUtil.merge(newState.openKeys, ins.state.openKeys);\n      ctx.setState(newState);\n    }\n    setActiveRoutePath(newState.selectedKeys[0]);\n  });\n\n  const setActiveRoutePath = (path: string) => {\n    let search = extractPathAndSearch(window.location.href).search;\n    ctx.gr.addActiveRoutePath({ path, search });\n  };\n  setActiveRoutePath(ins.state.selectedKeys[0]);\n\n  return {\n    insState: ins.state,\n    // 展开时才获取真正的openKeys，否则会突兀的出现悬浮导航菜单\n    getOpenKeys: () => {\n      if (\n        Date.now() - ctx.globalState.siderViewToCollapsedTime < 300\n        || (firstCallGetOpenKeys && ctx.globalState.siderViewType === SiderViewTypes.NOT_COLLAPSED)\n      ) {\n        firstCallGetOpenKeys = false;\n        setTimeout(() => {\n          ins.setState({});\n        }, 300);\n        return [];\n      }\n      return ins.state.openKeys;\n    },\n    changeSelectedKeys: ({ selectedKeys }: SelectInfo) => {\n      ins.setState({ selectedKeys: selectedKeys?.map(item => `${item}`) });\n    },\n    openMenus: (openKeys: React.Key[]) => {\n      ins.setState({ openKeys: openKeys?.map(item => `${item}`) });\n    },\n    renderMenuItem: (menuItem: IMenuItem) => {\n      const { Icon, path, label } = menuItem;\n      const uiIcon = Icon ? <Icon /> : <QuestionOutlined />;\n      return <MenuItem key={path} icon={uiIcon}>\n        <Link to={path}>{label}</Link>\n      </MenuItem>;\n    },\n    toggleCollapsed: () => {\n      ctx.gr.toggleCollapsedBtn();\n    },\n  };\n}\n\ninterface ISiderMenusProps {\n  mode?: MenuMode;\n  style?: React.CSSProperties;\n}\nexport function SiderMenus(props: ISiderMenusProps) {\n  const { mode = 'inline', style = { height: '100%', borderRight: 0 } } = props;\n  const { settings: se, globalState, globalComputed: gcu } = useSetupCtx(setup, { tag: 'SiderMenus' });\n  // 垂直在左侧布局时，才读siderTheme，否则主题色应和 headerTheme 相同\n  const theme = mode === 'inline' ? globalState.siderTheme : globalState.headerTheme;\n\n  return (\n    <div className={`${styles.siderMenusWrap} smallScBar`} style={{ width: gcu.siderStyle.width }}>\n      <Menu\n        theme={theme}\n        mode={mode}\n        selectedKeys={se.insState.selectedKeys}\n        openKeys={se.getOpenKeys()}\n        className=\"layout-sider\"\n        style={style}\n        onOpenChange={se.openMenus}\n        onSelect={se.changeSelectedKeys}\n        inlineCollapsed={!gcu.siderInfo.isUnfold}\n      >\n        {showingMenus.map((item) => {\n          const groupItem = item as IMenuGroup;\n          if (groupItem.children) {\n            const uiGroupItemIon = groupItem.Icon ? <groupItem.Icon /> : <QuestionOutlined />;\n            return (\n              <SubMenu key={groupItem.key} icon={uiGroupItemIon} title={groupItem.label}>\n                {groupItem.children.map(childItem => se.renderMenuItem(childItem))}\n              </SubMenu>\n            );\n          }\n          const menuItem = item as IMenuItem;\n          return se.renderMenuItem(menuItem);\n        })}\n      </Menu>\n    </div >\n  );\n}\n\n\nfunction AppSider() {\n  const { globalComputed: gcu, settings } = useSetupCtx(setup, { tag: 'Sider' });\n  if (!gcu.siderInfo.showSider) return <EmptyView />;\n\n  return (\n    <div style={gcu.siderStyle} className={styles.siderWrap}>\n      <Logo />\n      <SiderMenus />\n      <Button type=\"primary\" onClick={settings.toggleCollapsed} style={{ width: '100%', border: 'none' }}>\n        {gcu.siderInfo.isUnfold ? <DoubleLeftOutlined /> : <DoubleRightOutlined />}\n      </Button>\n    </div>\n  );\n}\n\nexport default React.memo(AppSider);\n","import React from 'react';\nimport SiderSwitchIcon from 'components/dumb/SiderSwitchIcon';\nimport { useC2DefaultMod } from 'services/concent';\nimport Sider from './components/Sider';\n\nfunction LeftContent() {\n  const { globalReducer, globalComputed: gcu } = useC2DefaultMod();\n  return (\n    <React.Fragment>\n      <SiderSwitchIcon des={gcu.siderInfo.iconDes} onClick={globalReducer.toggleSiderVisible} />\n      <Sider />\n    </React.Fragment>\n  );\n}\n\nexport default React.memo(LeftContent);\n","import React from 'react';\nimport { GithubOutlined } from '@ant-design/icons';\nimport styles from './styles/App.module.css';\n\nconst Footer = () => (\n  <div className={styles.footerWrap}>\n    © 2021 <a href=\"https://github.com/tnfe/tntweb-admin\" target=\"blank\">TNTWeb-admin</a>\n    , powered by <a href=\"https://github.com/concentjs/concent\" target=\"blank\">Concent </a>\n    <a href=\"https://github.com/concentjs/concent\" target=\"blank\">\n      <GithubOutlined />\n    </a>\n  </div>\n);\n\nexport default React.memo(Footer);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Drawer, Switch, Tag, Radio, RadioChangeEvent, Slider } from 'antd';\nimport copy from 'copy-to-clipboard';\nimport { HeartOutlined, CopyOutlined } from '@ant-design/icons';\nimport { SketchPicker, ColorResult, SwatchesPicker } from 'react-color';\nimport { Blank, VerticalBlank } from 'components/dumb/general';\nimport { useSetupCtx } from 'services/concent';\nimport { success } from 'services/message';\nimport { TopHeaderTypes, TopNavBarTypes, SiderViewTypes, SiteColorTypes } from 'configs/constant/sys';\nimport { CtxDe } from 'types/store';\n\nconst MySwatchesPicker: any = styled(SwatchesPicker)`\n  width: 450px !important;\n`;\nconst stLoveIcon: React.CSSProperties = { color: 'var(--theme-color)', transform: 'translateY(2px)' };\nconst col1Span = 9;\nconst col2Span = 15;\n\nexport function setup(ctx: CtxDe) {\n  const { gr, globalState } = ctx;\n  const ins = ctx.initState({\n    pickerMode: 'fast',\n  });\n\n  return {\n    state: ins.state,\n    closeThemeSettingsDrawer: () => ctx.setGlobalState({ settingDrawerVisible: false }),\n    changePickerMode(e: RadioChangeEvent) {\n      ins.setState({ pickerMode: e.target.value });\n    },\n    changeTopHeaderType(e: RadioChangeEvent) {\n      gr.setState({ topHeaderType: e.target.value });\n    },\n    changeSiteColorType(e: RadioChangeEvent) {\n      gr.setState({ siteColorType: e.target.value });\n    },\n    changeTopNavBarType(e: RadioChangeEvent) {\n      gr.setState({ topNavBarType: e.target.value });\n    },\n    changeSiderViewType(e: RadioChangeEvent) {\n      gr.changeSiderViewType(e.target.value);\n    },\n    onWebsiteColorChange(colorResult: ColorResult) {\n      gr.changeThemeColor({ themeColor: colorResult.hex, setCustThemeColor: true });\n    },\n    onSiderThemeChange(checked: boolean) {\n      gr.switchSiderTheme(checked);\n    },\n    changeIsUsingDefaultTheme(checked: boolean) {\n      gr.changeIsUsingDefaultTheme(checked);\n    },\n    onHeaderThemeChange(checked: boolean) {\n      gr.switchHeaderTheme(checked);\n    },\n    changeAllowWaterMark(checked: boolean) {\n      gr.setState({ allowWaterMark: checked });\n    },\n    onInnerMockChange(checked: boolean) {\n      gr.changeIsInnerMock(checked);\n    },\n    copyColor() {\n      copy(globalState.themeColor);\n      success(`色值 ${globalState.themeColor} 已复制`, 1);\n    },\n    changeIsTabPaneHeavyBg: (isTabPaneHeavyBg: boolean) => {\n      gr.changeIsTabPaneHeavyBg(isTabPaneHeavyBg);\n    },\n  };\n}\n\nexport function SettingDrawer() {\n  const { globalState: gst, globalComputed: gcu, settings: se, gr } = useSetupCtx(setup, { tag: 'SettingPanel' });\n\n  return (\n    <Drawer title=\"常用设置\" visible={gst.settingDrawerVisible} width=\"550px\"\n      onClose={se.closeThemeSettingsDrawer}\n    >\n      <div style={{ padding: '6px 12px' }}>\n        <Tag color=\"geekblue\">站点主题色设置：</Tag>\n        <Blank />\n        <Radio.Group value={se.state.pickerMode} onChange={se.changePickerMode}>\n          <Radio value=\"fast\">快速</Radio>\n          <Radio value=\"professional\">专业</Radio>\n        </Radio.Group>\n        <Tag color={gst.themeColor}>{gst.themeColor}</Tag>\n        <CopyOutlined className=\"gHover\" onClick={se.copyColor} />\n        <VerticalBlank />\n        {se.state.pickerMode === 'fast'\n          && <MySwatchesPicker color={gst.themeColor} onChange={se.onWebsiteColorChange} />\n        }\n        {se.state.pickerMode === 'professional'\n          && <SketchPicker color={gst.themeColor} onChange={se.onWebsiteColorChange}\n            onChangeComplete={se.onWebsiteColorChange}\n          />\n        }\n        <VerticalBlank />\n        <Row gutter={[16, { xs: 8, sm: 12, md: 12, lg: 12 }]}>\n          <Col span={col1Span}><Tag color=\"geekblue\">恢复默认主题色：</Tag></Col>\n          <Col span={col2Span}>\n            <Switch checkedChildren=\"是\" unCheckedChildren=\"否\" checked={gst.isUsingDefaultThemeColor} onChange={se.changeIsUsingDefaultTheme} />\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">站点色调：</Tag></Col>\n          <Col span={col2Span}>\n            <Radio.Group value={gst.siteColorType} onChange={se.changeSiteColorType}>\n              <Radio value={SiteColorTypes.NORMAL}>正常</Radio>\n              <Radio value={SiteColorTypes.GREY}>黑白</Radio>\n              <Radio value={SiteColorTypes.DARK}>暗夜</Radio>\n            </Radio.Group>\n          </Col>\n          <Col span={col1Span}><VerticalBlank height=\"5px\" /><Tag color=\"geekblue\">字体颜色透明度：</Tag></Col>\n          <Col span={col2Span}>\n            <Slider value={gst.fontAlpha} min={0} max={100} onChange={gr.changeFontAlpha} />\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">导航条项目深色背景：</Tag></Col>\n          <Col span={col2Span}>\n            <Switch checked={gst.isTabPaneHeavyBg} onChange={se.changeIsTabPaneHeavyBg}\n              checkedChildren=\"深\" unCheckedChildren=\"浅\"\n            />\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">暗黑边栏：</Tag></Col>\n          <Col span={col2Span}>\n            <Switch checkedChildren=\"关闭\" unCheckedChildren=\"开启\" checked={gcu.siderThemeSwitchChecked} onChange={se.onSiderThemeChange} />\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">暗黑顶栏：</Tag></Col>\n          <Col span={col2Span}>\n            <Switch checkedChildren=\"关闭\" unCheckedChildren=\"开启\" checked={gcu.headerThemeSwitchChecked}\n              onChange={se.onHeaderThemeChange}\n            />\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">显示水印：</Tag></Col>\n          <Col span={col2Span}>\n            <Switch checkedChildren=\"是\" unCheckedChildren=\"否\" checked={gst.allowWaterMark}\n              onChange={se.changeAllowWaterMark}\n            />\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">顶栏设置：</Tag></Col>\n          <Col span={col2Span}>\n            <Radio.Group value={gst.topHeaderType} onChange={se.changeTopHeaderType}>\n              <Radio value={TopHeaderTypes.FIXED}>固定</Radio>\n              <Radio value={TopHeaderTypes.FLOWED}>随Y轴滚动</Radio>\n              <Radio value={TopHeaderTypes.HIDDEN}><HeartOutlined style={stLoveIcon} />隐藏</Radio>\n            </Radio.Group>\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">导航条设置：</Tag></Col>\n          <Col span={col2Span}>\n            <Radio.Group value={gst.topNavBarType} onChange={se.changeTopNavBarType}>\n              <Radio value={TopNavBarTypes.FIXED}><HeartOutlined style={stLoveIcon} />固定</Radio>\n              <Radio value={TopNavBarTypes.FLOWED}>随Y轴滚动</Radio>\n              <Radio value={TopNavBarTypes.HIDDEN}>隐藏</Radio>\n            </Radio.Group>\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">边栏设置：</Tag></Col>\n          <Col span={col2Span}>\n            <Radio.Group value={gst.siderViewType} onChange={se.changeSiderViewType}>\n              <Radio value={SiderViewTypes.COLLAPSED}><HeartOutlined style={stLoveIcon} />折叠</Radio>\n              <Radio value={SiderViewTypes.NOT_COLLAPSED}>展开</Radio>\n              <Radio value={SiderViewTypes.HIDDEN}>隐藏</Radio>\n            </Radio.Group>\n          </Col>\n          <Col span={col1Span}><Tag color=\"geekblue\">innerMock设置：</Tag></Col>\n          <Col span={col2Span}>\n            <Switch checkedChildren=\"关闭\" unCheckedChildren=\"开启\" checked={gst.isInnerMock}\n              onChange={se.onInnerMockChange}\n            />\n          </Col>\n        </Row>\n      </div>\n    </Drawer>\n  );\n}\n\nexport default React.memo(SettingDrawer);\n","import * as React from 'react';\nimport { Form, Input, Button, Checkbox, Card } from 'antd';\nimport ParticlesBg from \"particles-bg\";\nimport { useSetupCtx } from 'services/concent';\nimport { CtxDe } from 'types/store';\nimport { Blank } from 'components/dumb/general';\nimport Footer from '../Footer';\nimport styles from '../styles/App.module.css';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\nconst bgThemes = [\n  'square','cobweb', 'color', 'ball',  'polygon', 'lines', 'thick', 'circle',\n  'tadpole', 'fountain', 'random', 'list', 'custom',\n] as const;\nconst uiLoginAreaTitle = <img width=\"200px\" alt=\"tntweb-admin\"\n  src=\"https://raw.githubusercontent.com/fantasticsoul/assets/master/c2pro/c2pro-banner.png\"\n/>;\n\nfunction setup(ctx: CtxDe) {\n  const ins = ctx.initState({\n    themeIdx: 0,\n  });\n\n  return {\n    insState: ins.state,\n    onFinish: (values: any) => {\n      ctx.gr.loginByPassword({ name: values.username, pwd: values.password });\n    },\n    changeLoginBg: () => {\n      let nextThemeIdx = ins.state.themeIdx + 1;\n      if (nextThemeIdx > bgThemes.length - 1) {\n        nextThemeIdx = 0;\n      }\n      ins.setState({ themeIdx: nextThemeIdx });\n    },\n  };\n}\n\nfunction Login() {\n  const { settings: se, globalState: gst } = useSetupCtx(setup);\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return (\n    <div>\n      <ParticlesBg type={bgThemes[se.insState.themeIdx]} bg={true} />\n      <Card className={styles.loginCardWrap} title={uiLoginAreaTitle}>\n        <Form\n          {...layout}\n          name=\"basic\"\n          initialValues={{ remember: true }}\n          onFinish={se.onFinish}\n          onFinishFailed={onFinishFailed}\n        >\n          <Form.Item\n            label=\"Username\"\n            name=\"username\"\n            rules={[{ required: true, message: 'Please input your username!' }]}\n          >\n            <Input placeholder=\"concent\" />\n          </Form.Item>\n\n          <Form.Item\n            label=\"Password\"\n            name=\"password\"\n            rules={[{ required: true, message: 'Please input your password!' }]}\n          >\n            <Input.Password placeholder=\"pro\" />\n          </Form.Item>\n\n          <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\n            <Checkbox>记住我</Checkbox>\n          </Form.Item>\n\n          <Form.Item {...tailLayout}>\n            <Button type=\"primary\" htmlType=\"submit\" loading={gst.loginBtnLoading}>\n              登录\n            </Button>\n            <Blank />\n            <Button onClick={se.changeLoginBg}>\n              切换背景\n            </Button>\n          </Form.Item>\n        </Form>\n      </Card>\n      <div className={styles.footerFixedWrap}>\n        <Footer />\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(Login);\n","import * as React from 'react';\nimport { useC2DefaultMod } from 'services/concent';\nimport { waterMarkLabel } from 'configs/constant/sys';\nimport { EmptyView } from 'components/dumb/general';\nimport styles from '../styles/App.module.css';\n\nconst MarkGrid = (props: { label: string }) => <div className={styles.wmGrid}>{props.label}</div>;\n\nfunction WaterMark() {\n  const { globalState } = useC2DefaultMod();\n  if (!globalState.allowWaterMark) {\n    return <EmptyView />;\n  }\n\n  return (\n    <div className={styles.waterMarkWrap}>\n      <MarkGrid label={waterMarkLabel} />\n      <MarkGrid label={waterMarkLabel} />\n      <MarkGrid label={waterMarkLabel} />\n      <MarkGrid label={waterMarkLabel} />\n      <MarkGrid label={waterMarkLabel} />\n      <MarkGrid label={waterMarkLabel} />\n    </div>\n  );\n}\n\nexport default React.memo(WaterMark);\n","// +++ node modules +++\nimport React from 'react';\nimport { ConnectRouter } from 'react-router-concent';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport { Layout, ConfigProvider } from 'antd';\nimport zhCN from 'antd/lib/locale/zh_CN';\n// +++ project modules +++\nimport { CtxDe } from 'types/store';\nimport { getBasename } from 'services/appPath';\nimport { useC2DefaultMod } from 'services/concent';\nimport { LoginStatus } from 'configs/constant/sys';\n// +++ local modules +++\nimport TopContent from './TopContent';\nimport MainContent from './MainContent';\nimport LeftContent from './LeftContent';\nimport Footer from './Footer';\nimport SettingDrawer from './components/SettingDrawer';\nimport Login from './components/Login';\nimport WaterMark from './components/WaterMark';\n\nfunction setup({ effect, globalReducer }: CtxDe) {\n  effect(() => {\n    // 执行一次自动登录流程\n    globalReducer.loginByCookie();\n  }, []);\n}\n\nfunction App() {\n  const { globalState: gst } = useC2DefaultMod({ setup, tag: 'App' });\n\n  // 仅当是登录失败时，才渲染登录页\n  if (gst.loginStatus === LoginStatus.LOGIN_FAILED) {\n    return <Login />;\n  }\n\n  return (\n    <ConfigProvider locale={zhCN}>\n      <Layout>\n        <WaterMark />\n        <TopContent />\n        <LeftContent />\n        <MainContent />\n        <Footer />\n        <SettingDrawer />\n      </Layout>\n    </ConfigProvider>\n  );\n}\n\nexport default React.memo(() => {\n  const RootRouter: any = window.location.hostname.includes('github.io') ? HashRouter : BrowserRouter;\n  return (\n    <RootRouter basename={`/${getBasename()}`}>\n      <ConnectRouter callUrlChangedOnInit={true}>\n        <App />\n      </ConnectRouter>\n    </RootRouter>\n  );\n});\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","\nimport './styles/index.css';\nimport './styles/antd.css';\nimport 'configs/runConcent';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'layout';\nimport * as serviceWorker from './serviceWorker';\n\nfunction getHostNode(id = 'root') {\n  let node = document.getElementById(id);\n  if (!node) {\n    node = document.createElement('div');\n    node.id = id;\n    document.body.appendChild(node);\n  }\n  return node;\n}\n\nReactDOM.render(<App />, getHostNode('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\nexport function okeys<T extends Record<string, any>>(map: T) {\n  // 外部需要自己 as (keyof T)[]\n  return Object.keys(map);\n}\n\nexport function isValidVal(val: any) {\n  return val !== undefined && val !== null && val !== '';\n}\n\n/**\n * 判断是否是对象 {} []\n * @param {*} val\n */\nexport function isObject(val: any, allowArr = true) {\n  // 防止 typeof null === 'object' 成立\n  if (!val) return false;\n  if (allowArr) {\n    return typeof val === 'object';\n  }\n  return typeof val === 'object' && !Array.isArray(val);\n}\n\nexport function clone<T extends Record<string, any>>(obj: T): T {\n  if (obj) return JSON.parse(JSON.stringify(obj));\n\n  throw new Error('empty object');\n}\n\nexport function safeGetItemFromArray<T = any>(arr: T[], idx: number, defaultValue: T) {\n  let item = arr[idx];\n  if (!item) {\n    item = arr[idx] = defaultValue;\n  }\n  return item;\n}\n\nexport function safeGet<T = any>(obj: Record<string, any>, key: string, defaultValue: T) {\n  let item = obj[key];\n  if (!item) {\n    item = obj[key] = defaultValue;\n  }\n  return item;\n}\n\nexport function safeAssign(obj: Record<string, any>, toMod: Record<string, any> = {}) {\n  Object.keys(toMod).forEach((key) => {\n    obj[key] = toMod[key];\n  });\n  return obj;\n}\n\n/**\n * 指定了 defaultValue 时才不会抛出解析字符串失败的错误\n * @param jsonStr\n * @param defaultValue\n */\nexport function safeParse<T = any>(jsonStr: string, defaultValue?: T, errMsg?: string): T {\n  try {\n    return JSON.parse(jsonStr);\n  } catch (err) {\n    if (defaultValue) return defaultValue;\n    if (errMsg) throw new Error(errMsg);\n    throw err;\n  }\n}\n\ninterface NullDef {\n  nullValues?: any[];\n  /** {} 算不算空，true算空*/\n  emptyObjIsNull?: boolean;\n  /** 需不需要检查 {a:'', b:'' }, 默认false, 为true时，如果传入的是object，检查所有value算不算空 */\n  checkObjValues?: boolean;\n  emptyArrIsNull?: boolean;\n}\n/**\n *\n * @param value\n * @param nullDef\n */\nexport function isNull(value: any, nullDef: NullDef = {}) {\n  const {\n    nullValues = [null, undefined, ''], checkObjValues = false,\n    emptyObjIsNull = true, emptyArrIsNull = true,\n  } = nullDef;\n\n  const inNullValues = nullValues.includes(value);\n  if (inNullValues) {\n    return true;\n  }\n\n  if (Array.isArray(value)) {\n    if (emptyArrIsNull) return value.length === 0;\n    return false;\n  }\n\n  if (typeof value === 'object') {\n    const keys = okeys(value);\n    const keyLen = keys.length;\n\n    // {a:'', b:'' } 所有子value为空才算空\n    if (checkObjValues) {\n      let allIsNull = true;\n      for (let i = 0; i < keyLen; i++) {\n        const subValue = value[keys[i]];\n        if (!isNull(subValue)) {\n          allIsNull = false;\n          break;\n        }\n      }\n\n      return allIsNull;\n    }\n    if (emptyObjIsNull) return keyLen === 0;\n    return false;\n  }\n\n  return false;\n}\n\nexport function reverseMap(originalMap: Record<string, string | number>) {\n  return Object.keys(originalMap).reduce((map, key) => {\n    const value = originalMap[key];\n    map[value] = key;\n    return map;\n  }, {} as Record<string, string>);\n}\n\n/**\n * 后端有些接口返回空map的格式是数组 [],\n * 但其实期望的是 {},\n * 为了保证上传业务逻辑消费数据的格式一致性，使用此函数做修正\n */\nexport function ensureMap(obj: Record<string, any>, key: string) {\n  if (Array.isArray(obj[key])) {\n    obj[key] = {};\n  }\n}\n\n/**\n * 从一个已存在的map里按规则变异出一个新的map\n * @param map\n * @param getValue\n * @param getKey\n */\nexport function transformMap(map: Record<string, any>, getValue?: (value: any, key: string) => any, getKey?: (key: string, value: any) => string) {\n  const newMap = {} as Record<string, any>;\n  const targetGetKey = getKey || (key => key);\n\n  okeys(map).forEach(key => {\n    const value = map[key];\n    const mapKey = targetGetKey(key, value);\n    newMap[mapKey] = getValue ? getValue(value, key) : value;\n  });\n  return newMap;\n}\n\n/**\n * map 转为 list\n * @param map\n * @param keyName\n * @param valueName\n */\nexport function toList<V, Item>(map: Record<string, V>, getItem: (key: string, value: V) => Item) {\n  const list = [] as Item[];\n  okeys(map).forEach(key => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n\n/**\n * 过滤list，按规则组装新的item后返回一个新的 list\n * @param list\n * @param filterCb\n * @param getNewItem\n */\nexport function filterList<Item, NewItem>(list: Item[], filterCb: (item: Item) => boolean, getNewItem: (item: Item) => NewItem) {\n  const newList = [] as NewItem[];\n  list.forEach(item => {\n    if (filterCb(item)) newList.push(getNewItem(item));\n  });\n  return newList;\n}\n\n/**\n  * 对比新老对象，提取出新对象里发生变化的部分并单独返回\n  * 注意此函数只做浅比较\n  * @param {object} oldObj\n  * @param {object} newObj\n  * @param {string} [fixedKeys=[]] - 必定要包含的key\n  */\nexport function extractChangedPart(oldObj: Record<string, any>, newObj: Record<string, any>, fixedKeys: string[] = []) {\n  const changed = {} as Record<string, any>;\n  const oldObjKeys = okeys(oldObj);\n  const newObjKeys = okeys(newObj);\n  const traversalKeys = newObjKeys.length > oldObjKeys.length ? newObjKeys : oldObjKeys;\n\n  traversalKeys.forEach(key => {\n    const newVal = newObj[key];\n    if (fixedKeys.includes(key)) {\n      changed[key] = newVal;\n      return;\n    }\n    if (newVal === undefined) return;\n    if (oldObj[key] !== newVal) changed[key] = newVal;\n  });\n  return changed;\n}\n\nexport function hasProperty(obj: Record<string, any>, property: string) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\n\nexport function purify(obj: Record<string, any>, isValueInvalid?: (val: any) => boolean): Record<string, any> {\n  // isValidVal or isNull\n  const targetIsInvalid = isValueInvalid || (value => !isNull(value));\n  const pureObj = {} as Record<string, any>;\n  okeys(obj).forEach(key => {\n    if (targetIsInvalid(obj[key])) pureObj[key] = obj[key];\n  });\n  return pureObj;\n}\n\n/**\n * 针对string 或则 number 元素的数组做不重复添加\n * @param arr\n * @param item\n */\nexport function noDupPush(arr: (string | number)[], item: string | number) {\n  if (!arr.includes(item)) arr.push(item);\n}\n\nexport function getVal(obj: Record<string, any>, key: string) {\n  return obj[key];\n}\n\n\nexport function getDepth(obj: Record<string, any>) {\n  let depth = 0;\n  if (obj.children) {\n    obj.children.forEach((d: any) => {\n      const tmpDepth = getDepth(d);\n      if (tmpDepth > depth) {\n        depth = tmpDepth;\n      }\n    });\n  }\n  return 1 + depth;\n}\n\nexport function getObjDepth(obj: Record<string, any>) {\n  type DepthRecorder = { num: number };\n\n  const tryDetectObjDepth = (obj: Record<string, any>, curDepth: number, depthRecorder: DepthRecorder) => {\n    const keys = okeys(obj);\n    const newDepth = curDepth + 1;\n    for (let i = 0; i < keys.length; i++) {\n      const val = obj[keys[i]];\n      if (isObject(val)) {\n        if (depthRecorder.num < newDepth) depthRecorder.num = newDepth;\n        tryDetectObjDepth(val, newDepth, depthRecorder);\n      }\n    }\n  };\n\n  const depthRecorder: DepthRecorder = { num: 1 };\n  tryDetectObjDepth(obj, 1, depthRecorder);\n  return depthRecorder.num;\n}\n\nexport function isDepthLargeThan(obj: Record<string, any>, toCompare: number) {\n  const depth = getObjDepth(obj);\n  return depth > toCompare;\n}\n\n/**\n * 确定一个有效值，如果左边无效，则取右边的备用值\n * @param firstVal\n * @param secondVal\n */\nexport function decideVal<T extends any>(firstVal: any, secondVal: T): T {\n  if (!isNull(firstVal)) return firstVal;\n  return secondVal;\n}\n\nexport function inEnum(val: string | number, enumObj: Record<string, string | number>) {\n  return Object.values(enumObj).includes(val);\n}\n"],"sourceRoot":""}