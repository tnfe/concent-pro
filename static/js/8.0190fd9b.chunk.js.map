{"version":3,"sources":["components/dumb/di/styles.module.css","pages/AStepForm/StepForm.module.css","pages/AStepForm/dumb/Step.module.css","pages/AStepForm/model/state.ts","pages/AStepForm/model/computed.ts","services/domain/app.ts","configs/constant/biz.ts","pages/AStepForm/model/service.ts","pages/AStepForm/model/reducer.ts","pages/AStepForm/model/lifecycle.ts","pages/AStepForm/model/meta.ts","pages/AStepForm/model/index.ts","pages/AStepForm/dumb/Step.tsx","pages/AStepForm/Steps.tsx","components/dumb/di/common.ts","components/dumb/di/DiInput.tsx","components/dumb/di/DiInputNum.tsx","components/dumb/di/DiInputJsonMonaco.tsx","components/dumb/di/DiSelect.tsx","components/dumb/di/DiLabel.tsx","pages/AStepForm/Step1.tsx","pages/AStepForm/Step2.tsx","configs/derived/biz.ts","pages/AStepForm/Step3.tsx","pages/AStepForm/NextOrPrev.tsx","pages/AStepForm/index.tsx"],"names":["module","exports","getInitialState","dataExampleJson","desc","tip","step","step2isFinished","step2isOnceEditing","finishStep","isBtnClicked","errors","checkAppIdBtnLoading","nextBtnLoading","matchedUserList","id","appId","appDetail","displayName","creator","comment","monitor","dbType","dbAlias","count1","count2","count3","dataExample","JSON","stringify","tableDb","fields","fieldOptionsList","groupFields","groupFieldName","loading","staffDataList","newState","map","item","value","label","step2Status","curStep","defaultStatus","status","1","2","3","4","5","okeys","forEach","key","parseInt","exampleData","jsonObj","safeParse","keys","options","fetchAppDetail","a","console","log","timerUtil","FIELD_TYPE_LIST","checkObject","toCheckObj","objUtil","tkey","checkers","Proxy","regs","num1to9","test","length","error","json","parse","err","defaultRule","val","undefined","get","target","fn","checkStep1","moduleState","checkStep2","step2fn","perpareStep1","perpareStep2","perpareStep3","validateStepValues","checker","checkObjValues","msgService","canChangeStep","forCopy","payload","ac","setState","searchMonitor","toMatch","staffService","changeStep","isNext","newStep","dispatch","toSet","nextStep","p","pervStep","fetchAppIdInfo","modelService","appService","ret","message","addField","exampleFields","moduleComputed","selectedNames","f","fieldName","newFields","arrUtil","oneField","push","fieldType","isMulti","count","addGroup","index","splice","removeGroup","removeField","callerParams","callTarget","initState","userName","rootState","$$global","substr","clear","mounted","reducer","willUnmount","moduleName","modelDesc","state","computed","lifecycle","ghosts","model","useModelWithSetup","makeUseModelWithSetup","useModel","makeUseModelWithSetupCuf","makeUseModel","configure","MyAvatar","styled","Avatar","status2StepStyle","finished","avatarCls","styles","stepDone","lineCls","stepLineActive","labelColor","editing","stepEditing","onceEditing","stepOnceEditing","unstart","stepUnstart","stepLine","labelLen2offset","Step","num","labelOffset","line","onClick","stepNoLine","numLabel","labelStyle","color","transform","offset","className","stepWrap","stepLabel","style","React","memo","headerWrap","defaultSettings","inputStyle","width","boxedLabelStyle","lineHeight","inputSwitchStyle","inputJsonStyle","display","titleStyle","inputSize","stPre","verticalAlign","stIBtn","position","right","top","zIndex","stIBtnLabel","noop","DiInput","props","title","onChange","onEnter","block","disabled","required","extraStyle","interactiveCb","interactiveLabel","interactiveBtnLoading","placeholder","tooltip","onKeyDown","e","keyCode","uiRequired","itemSt","titleSt","input","inputSt","d","mergedItemSt","uiInteractiveBtn","type","icon","ReloadOutlined","shape","uiTooltip","ExclamationCircleOutlined","uiError","diItemError","diItemTitle","wordWrap","diItemWrap","size","suffix","formatter","min","editorDidMount","height","mergedInputSt","language","theme","selectOnLineNumbers","Option","Select","DiSelect","onSearch","data","hasEmpty","emptyLabel","emptyValue","smartEmpty","mode","showSearch","_showSearch","uiEmpty","tmpEmptyUI","showArrow","v","i","Memo","DiLabel","children","Boxed","genBoolText","Title","window","open","float","setup","ctx","appIdTip","intro","displayNamePlaceHolder","displayNameTip","viewNamePlaceHolder","viewNameTip","sync","se","settings","mr","mcu","span","seEx","dbTypeOptions","openJsonEditor","syncer","fieldTypeOptions","bizCst","seGroupFieldsEx","stAddFieldBtn","stMinusBtnWrap","margin","stMinusBtnWrap2","marginTop","stMinusBtnWrap3","stMinusBtn","fontSize","marginRight","stMinusBtnLabel","MyCard","Card","stExtra","stInnerCard","backgroundColor","fontWeight","tureOrFalseOptions","uiGroupTitle","field","PlusCircleOutlined","MinusCircleOutlined","lastIdx","headStyle","borderBottom","marginBottom","uiPrevBtn","uiNextBtn","textAlign","paddingTop","Steps","Step1","Step2","NextOrPrev"],"mappings":"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","file":"static/js/8.0190fd9b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"diItemWrap\":\"styles_diItemWrap__23tpy\",\"diItemTitle\":\"styles_diItemTitle__QrGja\",\"diItemSwitchWrap\":\"styles_diItemSwitchWrap__2WYnH\",\"diItemError\":\"styles_diItemError__3Jehw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrap\":\"StepForm_headerWrap__1posp\",\"formContentWrap\":\"StepForm_formContentWrap__3d3Y_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepWrap\":\"Step_stepWrap__qcBdd\",\"stepLabel\":\"Step_stepLabel__q2x6F\",\"stepBase\":\"Step_stepBase__31GPz\",\"stepDone\":\"Step_stepDone__moRNZ Step_stepBase__31GPz\",\"stepEditing\":\"Step_stepEditing__15W6l Step_stepBase__31GPz\",\"stepOnceEditing\":\"Step_stepOnceEditing__tVzYA Step_stepDone__moRNZ Step_stepBase__31GPz\",\"stepUnstart\":\"Step_stepUnstart__2Z5UI Step_stepBase__31GPz\",\"stepLine\":\"Step_stepLine__26M9a\",\"stepLineActive\":\"Step_stepLineActive__2a___ Step_stepLine__26M9a\",\"stepNoLine\":\"Step_stepNoLine__19qwV\"};","\ntype StepRange = 1 | 2 | 3;\n\ninterface FieldItem {\n  fieldName: string,\n  fieldType: string,\n  isMulti: boolean,\n  count: number,\n}\n\nexport interface FieldGroupItem {\n  groupFieldName: string,\n  fields: string[],\n}\n\nfunction getInitialState() {\n  const dataExampleJson = {\n    desc: '粘贴json数据到此处，或在此输入示例数据',\n    tip: '注意json层级不能超过3层',\n  };\n\n  return {\n    /** 当前处于第几步 */\n    step: 1 as StepRange,\n    step2isFinished: {} as Record<string, boolean>,\n    /** 曾正处于编辑中的步骤 */\n    step2isOnceEditing: {} as Record<string, boolean>,\n    /** 第几步算完成 */\n    finishStep: 4,\n    /** 上一步或下一步按钮是否点击了, watch里控制是否要对每一个输入项做实时的错误检查 */\n    isBtnClicked: false,\n    /** 收集改变步骤时检查到的错误 */\n    errors: {} as Record<string, string>,\n    checkAppIdBtnLoading: false,\n    /** 下一步按钮的loading，某些步骤点击下一步是需要有些异步请求做检查 */\n    nextBtnLoading: false,\n    matchedUserList: [] as Array<[string, string]>,\n\n    /** config id，大于0表示更新，否则表示新增 */\n    id: 0,\n\n    // ---------- for step1 ----------\n    /** appId */\n    appId: '',\n    /** appDetail */\n    appDetail: '',\n    /** 展示名称 */\n    displayName: '',\n    /** 申请人 */\n    creator: '',\n    /** 描述 */\n    comment: '',\n    /** 负责人 */\n    monitor: [],\n    // ---------------- End ----------------\n\n    // ---------- for step2 ----------\n    /** 数据库类型 */\n    dbType: '',\n    /** 数据库别名，默认和 displayName一样 */\n    dbAlias: '',\n    /** 预估数量1 */\n    count1: 0,\n    /** 预估数量2 */\n    count2: 0,\n    /** 预估数量3 */\n    count3: 0,\n    /** 示例数据 json字符串 */\n    dataExample: JSON.stringify(dataExampleJson, null, 2),\n    dataExampleJson,\n    // ---------------- End ----------------\n\n    // ---------- for step3 ----------\n    /** 表名称 */\n    tableDb: '',\n    /** 字段list */\n    fields: [] as FieldItem[],\n    /** 字段list 的选择源 */\n    fieldOptionsList: [] as Array<Array<{ label: string, value: string }>>,\n    /** 分组字段list */\n    groupFields: [\n      {\n        groupFieldName: '',\n        fields: [],\n      }\n    ] as FieldGroupItem[],\n\n    loading: false,\n  };\n}\n\nexport type St = ReturnType<typeof getInitialState>;\n\nexport default getInitialState;\n","import { St } from './meta';\nimport { okeys, safeParse } from 'utils/obj';\n\nexport function staffDataList(newState: St) {\n  const { matchedUserList } = newState;\n  return matchedUserList.map(item => ({ value: item[0], label: item[1] }));\n}\n\n/**\n * 根据当前处于第几步自动计算出其他步骤的状态\n * @param newState \n */\nexport function step2Status(newState: St) {\n  const { step: curStep, step2isFinished, step2isOnceEditing, id } = newState;\n  const defaultStatus = id ? 'finished' : 'unstart';\n  const status = {\n    1: defaultStatus,\n    2: defaultStatus,\n    3: defaultStatus,\n    4: defaultStatus,\n    5: defaultStatus,\n  };\n  const keys = okeys(status) as ['1']; // 这样写是为了下面status赋值成功\n  keys.forEach((key) => {\n    const step = parseInt(key, 10);\n    if (step === curStep) status[key] = 'editing';\n    else if (step < curStep) {\n      status[key] = 'finished';\n    } else {\n      if (step2isFinished[step]) status[key] = 'finished';\n      else if (step2isOnceEditing[step]) status[key] = 'onceEditing';\n    }\n  });\n  return status;\n}\n\nexport function exampleData(newState: St) {\n  const { dataExample, dataExampleJson } = newState;\n  const jsonObj = safeParse(dataExample, dataExampleJson);\n  const keys = okeys(jsonObj);\n  return {\n    options: keys.map(key => ({ value: key, label: key })),\n    fields: keys,\n  };\n}\n","\n\nimport http from 'services/http';\nimport * as timerUtil from 'utils/timer';\n\nexport async function fetchAppDetail(appId: string) {\n  console.log(`fetch ${appId}`);\n  // const list = await http.get('/api/detail', {appId});\n  await timerUtil.delay(1000);\n  return { appDetail: '最新爆款游戏' };\n}","/**\n * 字段类型\n */\nexport const FIELD_TYPE_LIST = [\n  'string', 'number', 'bool'\n];\n","/**\n * ------------------------------------\n *  model service\n * ------------------------------------\n */\nimport { St } from './meta';\nimport regs from 'utils/regs';\nimport * as objUtil from 'utils/obj';\n\n\nfunction checkObject(toCheckObj: Record<string, any>) {\n  const errors = {} as Record<string, string>;\n  objUtil.okeys(toCheckObj).forEach((key) => {\n    const tkey = key as keyof typeof toCheckObj;\n    errors[key] = checkers[key](toCheckObj[tkey]);\n  });\n  return errors;\n}\n\n\n\nexport const oriCheckers = {\n  appId(appId: string) {\n    if (!appId) {\n      return 'appId未填写';\n    } else if (!regs.num1to9.test(appId)) {\n      return 'appId格式只能是0到9的数字';\n    }\n    return '';\n  },\n  monitor(monitor: string[]) {\n    if (monitor.length === 0) {\n      return '负责人未选择';\n    }\n    return '';\n  },\n  dataExample(value: string) {\n    let error = '';\n    let json = null;\n    try {\n      json = JSON.parse(value);\n    } catch (err) {\n      error = '示例数据json格式不合法';\n    }\n\n    if (json) {\n      if (objUtil.isDepthLargeThan(json, 3)) {\n        error = '示例数据json层级过深，大于3层';\n      }\n    }\n    return error;\n  },\n  defaultRule(val: string) {\n    return (val === '' || val === null || val === undefined) ? '未填写' : '';\n  }\n}\n\n/**\n * 各个字段的检查函数，取不到检查函数的就走默认检查规则函数 defaultRule\n */\nexport const checkers = new Proxy(oriCheckers, {\n  get(target, key) {\n    const targetObj = target as any;\n    const fn = targetObj[key];\n    if (fn) return fn;\n    return target.defaultRule;\n  },\n}) as typeof oriCheckers & { [key: string]: (val: string | string[]) => string };\n\nexport function checkStep1(moduleState: St) {\n  const { appId, appDetail, displayName, comment, monitor } = moduleState;\n  const toCheckObj = { appId, appDetail, displayName, comment, monitor };\n  return checkObject(toCheckObj);\n}\n\n/**\n * 检查数据源填写页表单提交的信息\n */\nexport function checkStep2(moduleState: St) {\n  const { dataExample, dbType } = moduleState;\n  return checkObject({ dataExample, dbType });\n}\n\n","import { VoidPayload } from 'types/store';\nimport { callTarget } from 'services/concent';\nimport * as msgService from 'services/message';\nimport * as appService from 'services/domain/app';\nimport * as staffService from 'services/staff';\nimport * as objUtil from 'utils/obj';\nimport * as arrUtil from 'utils/arr';\nimport { FIELD_TYPE_LIST } from 'configs/constant/biz';\nimport { IAC, St, CallerParams, ReducerFn } from './meta';\nimport getInitialState from './state';\nimport * as modelService from './service';\n\n/** 如果视图里调整了提交数据步骤，这里需要调整映射关系 */\nconst step2fn = {\n  1: perpareStep1,\n  2: perpareStep2,\n  3: perpareStep3,\n};\n\nfunction validateStepValues(moduleState: St, checker: (st: St) => any) {\n  const errors = checker(moduleState);\n  if (!objUtil.isNull(errors, { checkObjValues: true })) {\n    let tip = '';\n    objUtil.okeys(errors).forEach(key => errors[key] ? (tip += `${key}:${errors[key]} `) : '');\n    msgService.error(tip);\n    return { canChangeStep: false, errors };\n  }\n  return { canChangeStep: true, errors };\n}\n\nexport function forCopy(payload: VoidPayload, moduleState: St, ac: IAC) {\n  console.log('call ac.setState or ac.dispatch when needed', ac.setState);\n}\n\nexport function searchMonitor(toMatch: string) {\n  const matchedUserList = staffService.searchUsers(toMatch);\n  return { matchedUserList };\n}\n\n/**\n * @param isNext - 是否到下一步，true下一步，false上一步\n */\nexport async function changeStep(isNext: boolean, moduleState: St, ac: IAC) {\n  const { step, isBtnClicked } = moduleState;\n  const newStep = (isNext ? step + 1 : step - 1) as any;\n\n  if (isNext) {\n    if (!isBtnClicked) await ac.setState({ isBtnClicked: true });\n    const { canChangeStep } = await ac.dispatch(step2fn[step]);\n    if (canChangeStep) {\n      return { step: newStep };\n    }\n  } else {\n    // 点击了回退\n    const toSet = { isBtnClicked, step: newStep }\n    if (isBtnClicked) toSet.isBtnClicked = false;\n    return toSet;\n  }\n}\n\nexport function nextStep(p: VoidPayload, moduleState: St, ac: IAC) {\n  ac.dispatch(changeStep, true);\n}\n\nexport async function pervStep(p: VoidPayload, moduleState: St, ac: IAC) {\n  ac.dispatch(changeStep, false);\n}\n\nexport async function fetchAppIdInfo(p: VoidPayload, moduleState: St, ac: IAC) {\n  const { appId } = moduleState;\n  const err = modelService.checkers.appId(appId);\n  if (err) {\n    return msgService.error(err);\n  }\n\n  await ac.setState({ checkAppIdBtnLoading: true });\n  try {\n    const ret = await appService.fetchAppDetail(appId);\n    const { appDetail } = ret;\n    return { appDetail, checkAppIdBtnLoading: false };\n  } catch (err) {\n    msgService.error(err.message);\n    return { checkAppIdBtnLoading: false };\n  }\n}\n\nexport async function perpareStep1(p: VoidPayload, moduleState: St, ac: IAC) {\n  await ac.setState({ nextBtnLoading: true });\n  await ac.dispatch(fetchAppIdInfo); // 始终要刷新下appId对应的信息，防止用户中途修改了appId\n  await ac.setState({ nextBtnLoading: false });\n\n  const { canChangeStep, errors } = validateStepValues(moduleState, modelService.checkStep1);\n  if (canChangeStep) {\n    // 把第一步的 displayName 赋值给 tableDb，同时也允许用户修改\n    return { canChangeStep: true, tableDb: moduleState.displayName, isBtnClicked: false, errors };\n  }\n  return { canChangeStep: true, errors }; // 这里应该是 canChangeStep: false，为了能够让演示走到下一步故意放过\n  // return { canChangeStep: false, errors };\n}\n\nexport async function perpareStep2(p: VoidPayload, moduleState: St, ac: IAC) {\n  await ac.setState({ nextBtnLoading: true });\n\n  const { canChangeStep, errors } = validateStepValues(moduleState, modelService.checkStep2);\n  if (canChangeStep) {\n    return {\n      canChangeStep: true, isBtnClicked: false, errors, nextBtnLoading: false,\n    };\n  }\n\n  return { canChangeStep: true, errors, nextBtnLoading: false }; // 这里应该是 canChangeStep: false，为了能够让演示走到下一步故意放过\n  // return { canChangeStep: false, errors, nextBtnLoading: false };\n}\n\nexport async function perpareStep3(p: VoidPayload, moduleState: St) {\n  return { canChangeStep: true };\n}\n\nexport function addField(p: VoidPayload, moduleState: St, ac: IAC) {\n  const { fields, fieldOptionsList } = moduleState;\n  const { fields: exampleFields } = ac.moduleComputed.exampleData;\n  const selectedNames = fields.map(f => f.fieldName);\n  const newFields = arrUtil.removeDupStrItem(exampleFields, selectedNames);\n  if (newFields.length === 0) {\n    return void (msgService.warn('无新的字段可添加了'));\n  }\n\n  const oneField = newFields[0];\n  fields.push({\n    fieldName: oneField,\n    fieldType: FIELD_TYPE_LIST[0],\n    isMulti: false,\n    count: 0,\n  });\n  fieldOptionsList.push(newFields.map(f => ({ value: f, label: f })));\n  return { fields, fieldOptionsList };\n}\n\nexport function addGroup(index: number, moduleState: St, ac: IAC) {\n  const { groupFields } = moduleState;\n  // 在当前项的下一个位置做添加操作\n  groupFields.splice(index + 1, 0, {\n    groupFieldName: '',\n    fields: [],\n  });\n  return { groupFields };\n}\n\n\nexport function removeGroup(index: number, moduleState: St, ac: IAC) {\n  const { groupFields } = moduleState;\n  groupFields.splice(index, 1);\n  return { groupFields };\n}\n\nexport function removeField(index: number, moduleState: St, ac: IAC) {\n  const { fields } = moduleState;\n  fields.splice(index, 1);\n  return { fields };\n}\n\n// 在 meta.js 里已注册为ghost函数\n// 支持 reducer文件里内部调用 ac.dispatch(loading, [targetFn, payload])\n// 或者视图里触发 mrg.loading.targetFn(payload)\nexport async function loading(callerParams: CallerParams | [ReducerFn, any], moduleState: St, ac: IAC) {\n  await ac.setState({ loading: true });\n  await callTarget(callerParams, ac);\n  return { loading: false };\n}\n\n// 由lifecycle触发\nexport function initState(callerParams: CallerParams | [ReducerFn, any], moduleState: St, ac: IAC) {\n  // 自动同步当前登录者，运行用户二次修改\n  const userName = ac.rootState.$$global.userName;\n  const matchedUserList = staffService.searchUsers(userName.substr(0, 2));\n  return { creator: userName, matchedUserList };\n}\n\nexport function clear() {\n  return getInitialState();\n}\n","import { IDispatch } from 'concent';\nimport * as reducer from './reducer';\n\n// export async function initState(){}\n\n// export function loaded(dispatch: IDispatch) {}\n\nexport function mounted(dispatch: IDispatch) {\n  dispatch(reducer.initState);\n  return false;\n}\n\nexport function willUnmount(dispatch: IDispatch) {\n  dispatch(reducer.clear);\n  return false;\n}","import {\n  getComputed, getState, ComputedValType, StateType,\n  IModActionCtx, IRefCtxM, ReducerCallerParams, IReducerFn, IAnyObj, ICtxBase, SettingsType\n} from 'concent';\nimport { makeUseModel, makeUseModelWithSetup, makeUseModelWithSetupCuf } from 'concent-utils';\nimport { RootState, RootCu } from 'types/store';\nimport state, { St as ModuleState } from './state';\nimport * as computed from './computed';\nimport * as reducer from './reducer';\nimport * as lifecycle from './lifecycle';\n\nexport const moduleName = 'DemoFormModule';\n\nexport const modelDesc = {\n  state,\n  computed,\n  reducer,\n  lifecycle,\n  ghosts: ['loading'] as const, // 仅当需要ghost功能时，才配置此项，否则可以删掉\n};\n\nexport const model = { [moduleName]: modelDesc };\n\nexport type ModelDesc = typeof modelDesc;\nexport type ModuleName = typeof moduleName;\nexport type CallerParams = ReducerCallerParams | [IReducerFn, any];\nexport type ReducerFn = IReducerFn;\nexport type St = ModuleState;\nexport type RootInfo = { state: RootState, computed: RootCu };\n// export type RootInfo = { state: {}, computed: {} };\n/** 用于描述 reducer 函数第3位参数 actionCtx 的类型 */\nexport type IAC = IModActionCtx<RootInfo, ModelDesc>;\nexport type CtxPre<Props = IAnyObj, RefCu = IAnyObj, Extra = IAnyObj> = IRefCtxM<RootInfo, Props, ModelDesc, IAnyObj, RefCu, Extra>;\ntype ValidSetup = (ctx: ICtxBase) => IAnyObj | void;\nexport type Ctx<Setup extends ValidSetup> = IRefCtxM<RootInfo, {}, ModelDesc, SettingsType<Setup>>;\n\nexport const useModelWithSetup = makeUseModelWithSetup<RootInfo, ModelDesc>(moduleName);\nexport const useModelWithSetupCuf = makeUseModelWithSetupCuf<RootInfo, ModelDesc>(moduleName);\nexport const useModel = makeUseModel<RootInfo, ModelDesc>(moduleName);\nexport const getModelComputed = () => getComputed(moduleName) as ComputedValType<typeof computed>;\nexport const getModelState = () => getState(moduleName) as StateType<typeof state>;\n\nexport default model;\n","import modelDesc from './meta';\nimport { configure } from 'concent';\n\n/**\n * 使用 configure接口配置模块，此时不用在 src/models/index 里导出该模块到全局\n * 但是需要注意组件的 index文件 第一行代码写下\n * import './model';\n * 以便先触发模块配置过程后再安全的导入其他使用了该模块的组件\n * 如需在别的页面或者组件里可以使用名字配合 src/configs/useC2Mod\n * 函数来消费该模块的数据和调用该模块的方法，将模块提升到 src/models/index 文件导出即可\n */\nconfigure(modelDesc);\n\nexport default modelDesc;\n","import React from 'react';\nimport { Avatar } from 'antd';\nimport styled from 'styled-components';\nimport styles from './Step.module.css';\n\nconst MyAvatar = styled(Avatar)`\n  .ant-avatar{\n    width: 64px;\n    height: 64px;\n    border: 1px solid red;\n  }\n`;\n\nconst status2StepStyle: any = {\n  finished: {\n    avatarCls: styles.stepDone,\n    lineCls: styles.stepLineActive,\n    labelColor: '#999999',\n  },\n  editing: {\n    avatarCls: styles.stepEditing,\n    lineCls: styles.stepLineActive,\n    labelColor: 'black',\n  },\n  onceEditing: {\n    avatarCls: styles.stepOnceEditing,\n    lineCls: styles.stepLineActive,\n    labelColor: '#black',\n  },\n  unstart: {\n    avatarCls: styles.stepUnstart,\n    lineCls: styles.stepLine,\n    labelColor: '#999999',\n  }\n};\nconst labelLen2offset = { 3: '-1px', 4: '5px', 5: '17px' } as any;\n\ninterface IStepProps {\n  num?: string;\n  label: string;\n  labelOffset?: string;\n  /** 左侧是否需要绘制线条，默认true */\n  line?: boolean;\n  status: string;\n  onClick?: () => void;\n}\nexport default function Step({ num = '1', label, labelOffset = '', line = true, status, onClick }: IStepProps) {\n  let { avatarCls, lineCls, labelColor } = status2StepStyle[status];\n  if (!line) lineCls = styles.stepNoLine;\n  let numLabel = num;\n  if (status === 'finished') numLabel = '✓';\n  const labelStyle = { color: labelColor, transform: '' };\n  if (labelOffset) labelStyle.transform = `translateX(${labelOffset})`;\n  else if (label) {\n    const offset = labelLen2offset[label.length];\n    labelStyle.transform = `translateX(${offset})`;\n  }\n\n  return (\n    <div className={`${styles.stepWrap} gHover`} onClick={onClick}>\n      <div className={lineCls}></div>\n      <MyAvatar className={avatarCls}>{numLabel}</MyAvatar>\n      <div className={styles.stepLabel} style={labelStyle}>{label}</div>\n    </div>\n  );\n}","import React from 'react';\nimport { useModel } from './model/meta';\nimport styles from './StepForm.module.css';\nimport Step from './dumb/Step';\n\n\nexport default React.memo(function Header() {\n  const { moduleComputed: { step2Status } } = useModel();\n  return (\n    <div className={styles.headerWrap}>\n      <Step line={false} label=\"基础信息\" status={step2Status['1']} />\n      <Step num=\"2\" label=\"数据库信息\" status={step2Status['2']} />\n      <Step num=\"3\" label=\"字段信息\" status={step2Status['3']} />\n      <Step num=\"4\" label=\"其他配置\" status={step2Status['4']} />\n    </div>\n  );\n})\n","\nexport const defaultSettings = {\n  inputStyle: { width: 'calc(100% - 120px)' },\n  boxedLabelStyle: { width: 'calc(100% - 120px)', lineHeight: '32px' },\n  inputSwitchStyle: { width: '36px' },\n  inputJsonStyle: { width: 'calc(100% - 150px)', display: 'inline-block' },\n  titleStyle: { width: '80px' },\n  inputSize: 'middle',\n};\n","import React from 'react';\nimport { Input, Button, Tooltip } from 'antd';\nimport { ReloadOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport { KeyboardEv, MouseEv, InputChangeEv } from 'types/dom';\nimport { SizeType } from 'antd/lib/config-provider/SizeContext';\nimport { IDiCompPropsBase } from './types';\nimport styles from './styles.module.css';\nimport { defaultSettings as d } from './common';\n\nconst stPre = { color: 'red', display: 'inline-block', verticalAlign: 'top' };\nconst stIBtn = { position: 'absolute', right: '-38px', top: '0px', zIndex: 999 } as const;\nconst stIBtnLabel = { position: 'absolute', right: '-108px', top: '0px', zIndex: 999 } as const;\n\ninterface IProps extends IDiCompPropsBase {\n  value: string,\n  inputSize?: SizeType,\n  title?: string,\n  onChange: (e: InputChangeEv) => void,\n  onEnter?: (e: KeyboardEv) => void,\n  interactiveCb?: (e: MouseEv) => void,\n  interactiveLabel?: string,\n  interactiveBtnLoading?: boolean,\n  tooltip?: string,\n  error?: string,\n}\n\nconst noop = () => { };\n\nexport default function DiInput(props: IProps) {\n  const {\n    title, value, onChange, onEnter, block, disabled, required = true, extraStyle = {},\n    interactiveCb, interactiveLabel = '', interactiveBtnLoading = false, placeholder = '',\n    tooltip = '', error,\n  } = props;\n  const style = { display: 'inline-block' };\n  if (block) style.display = 'block';\n\n  const onKeyDown = onEnter ? (e: KeyboardEv) => {\n    if (e.keyCode === 13) onEnter(e);\n  } : noop;\n  const uiRequired = <pre style={stPre}>{required ? '* ' : '  '}</pre>;\n\n  const {\n    item: itemSt = {},\n    title: titleSt = {},\n    input: inputSt = d.inputStyle,\n    inputSize = d.inputSize,\n  } = extraStyle;\n  const mergedItemSt = { ...style, ...itemSt }\n\n  let uiInteractiveBtn = '' as React.ReactNode;\n  if (interactiveCb) {\n    if (interactiveLabel) {\n      uiInteractiveBtn = (\n        <Button onClick={interactiveCb} type=\"default\"\n          loading={interactiveBtnLoading} style={stIBtnLabel} >\n          {interactiveLabel}\n        </Button>\n      );\n    } else {\n      uiInteractiveBtn = (\n        <Button type=\"primary\" icon={<ReloadOutlined />} onClick={interactiveCb}\n          loading={interactiveBtnLoading} shape=\"circle\" style={stIBtn} />\n      );\n    }\n  }\n\n  let uiTooltip = '' as React.ReactNode;\n  if (tooltip) {\n    uiTooltip = (\n      <Tooltip title={tooltip}>\n        <ExclamationCircleOutlined />\n      </Tooltip>\n    );\n  }\n\n  let uiError = '' as React.ReactNode;\n  if (error) {\n    uiError = (\n      <div className={styles.diItemError}>\n        <span className={styles.diItemTitle} style={titleSt}></span>\n        <div style={{ display: 'inline-block', wordWrap: 'break-word', ...inputSt }}>{error}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className={styles.diItemWrap} style={mergedItemSt}>\n      <span className={styles.diItemTitle} style={titleSt}>\n        {uiRequired}{title}\n      </span>\n      <Input disabled={disabled} value={value} onChange={onChange} onKeyDown={onKeyDown}\n        size={inputSize} style={inputSt} placeholder={placeholder} suffix={uiTooltip} />\n      {uiInteractiveBtn}\n      {uiError}\n    </div>\n  );\n}\n","import React from 'react';\nimport { Button, InputNumber } from 'antd';\nimport { ReloadOutlined } from '@ant-design/icons';\nimport { KeyboardEv, MouseEv } from 'types/dom';\nimport { SizeType } from 'antd/lib/config-provider/SizeContext';\nimport { IDiCompPropsBase } from './types';\nimport styles from './styles.module.css';\nimport { defaultSettings as d } from './common';\n\nconst stPre = { color: 'red', display: 'inline-block', verticalAlign: 'top' };\nconst stIBtn = { position: 'absolute', right: '-38px', top: '0px', zIndex: 999 } as const;\n\ninterface IProps extends IDiCompPropsBase {\n  value: number,\n  inputSize?: SizeType,\n  title?: string,\n  onChange: (value: string | number | null | undefined) => void,\n  onEnter?: (e: KeyboardEv) => void,\n  interactiveCb?: (e: MouseEv) => void,\n  formatter?: (value: any) => string,\n  interactiveLabel?: string,\n  interactiveBtnLoading?: boolean,\n  error?: string,\n  min?: number,\n}\n\nconst noop = () => { };\n\nexport default function DiInput(props: IProps) {\n  const {\n    title, value, onChange, onEnter, block, disabled, required = true, extraStyle = {},\n    interactiveCb, interactiveBtnLoading = false, placeholder = '',\n    error, formatter, min = 0,\n  } = props;\n  const style = { display: 'inline-block' };\n  if (block) style.display = 'block';\n\n  const onKeyDown = onEnter ? (e: KeyboardEv) => {\n    if (e.keyCode === 13) onEnter(e);\n  } : noop;\n  const uiRequired = <pre style={stPre}>{required ? '* ' : '  '}</pre>;\n\n  const {\n    item: itemSt = {},\n    title: titleSt = {},\n    input: inputSt = d.inputStyle,\n    inputSize = d.inputSize,\n  } = extraStyle;\n  const mergedItemSt = { ...style, ...itemSt }\n\n  let uiInteractiveBtn = '' as React.ReactNode;\n  if (interactiveCb) uiInteractiveBtn = (\n    <Button type=\"primary\" icon={<ReloadOutlined />} onClick={interactiveCb}\n      loading={interactiveBtnLoading} shape=\"circle\" style={stIBtn} />\n  );\n\n  let uiError = '' as React.ReactNode;\n  if (error) {\n    uiError = (\n      <div className={styles.diItemError}>\n        <span className={styles.diItemTitle} style={titleSt}></span>\n        <div style={{ display: 'inline-block', wordWrap: 'break-word', ...inputSt }}>{error}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className={styles.diItemWrap} style={mergedItemSt}>\n      <span className={styles.diItemTitle} style={titleSt}>\n        {uiRequired}{title}\n      </span>\n      <InputNumber disabled={disabled} value={value} onChange={onChange} onKeyDown={onKeyDown}\n        size={inputSize} style={inputSt} placeholder={placeholder} formatter={formatter} min={min} />\n      {uiInteractiveBtn}\n      {uiError}\n    </div>\n  );\n}\n","/**\n * 基于 monaco-editor 的输入控件\n */\nimport React from 'react';\nimport { Button } from 'antd';\nimport { ReloadOutlined } from '@ant-design/icons';\nimport { MouseEv } from 'types/dom';\nimport { SizeType } from 'antd/lib/config-provider/SizeContext';\nimport { IDiCompPropsBase } from './types';\nimport styles from './styles.module.css';\nimport { defaultSettings as d } from './common';\nimport MonacoEditor from 'react-monaco-editor';\n\nconst stPre = { color: 'red', display: 'inline-block', verticalAlign: 'top' };\nconst stIBtn = { position: 'absolute', right: '-38px', top: '0px', zIndex: 999 } as const;\nconst stIBtnLabel = { position: 'absolute', right: '-138px', top: '0px', zIndex: 999 } as const;\n\ninterface IProps extends IDiCompPropsBase {\n  value: string,\n  inputSize?: SizeType,\n  title?: string,\n  onChange?: (value: string) => void,\n  editorDidMount?: (editor: any) => void,\n  interactiveCb?: (e: MouseEv) => void,\n  interactiveLabel?: string,\n  interactiveBtnLoading?: boolean,\n  tooltip?: string,\n  error?: string,\n  height?: string\n}\n\nconst noop = (...args: any[]) => { };\n\nexport default function DiInput(props: IProps) {\n  const {\n    title, value, onChange = noop, editorDidMount, block, required = true, extraStyle = {},\n    interactiveCb, interactiveLabel = '', interactiveBtnLoading = false,\n    error, height,\n  } = props;\n  const style = { display: 'inline-block' };\n  if (block) style.display = 'block';\n\n  const uiRequired = <pre style={stPre}>{required ? '* ' : '  '}</pre>;\n\n  const {\n    item: itemSt = {},\n    title: titleSt = {},\n    input: inputSt = {},\n  } = extraStyle;\n  const mergedInputSt = { ...d.inputJsonStyle, ...inputSt };\n  const mergedItemSt = { ...style, ...itemSt };\n\n  let uiInteractiveBtn = '' as React.ReactNode;\n  if (interactiveCb) {\n    if (interactiveLabel) {\n      uiInteractiveBtn = (\n        <Button onClick={interactiveCb} type=\"default\"\n          loading={interactiveBtnLoading} style={stIBtnLabel} >\n          {interactiveLabel}\n        </Button>\n      );\n    } else {\n      uiInteractiveBtn = (\n        <Button type=\"primary\" icon={<ReloadOutlined />} onClick={interactiveCb}\n          loading={interactiveBtnLoading} shape=\"circle\" style={stIBtn} />\n      );\n    }\n  }\n\n\n  let uiError = '' as React.ReactNode;\n  if (error) {\n    uiError = (\n      <div className={styles.diItemError}>\n        <span className={styles.diItemTitle} style={titleSt}></span>\n        <div style={{ display: 'inline-block', wordWrap: 'break-word', ...inputSt }}>{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.diItemWrap} style={mergedItemSt}>\n      <span className={styles.diItemTitle} style={titleSt}>\n        {uiRequired}{title}\n      </span>\n      <div style={mergedInputSt}>\n        <MonacoEditor\n          width=\"100%\"\n          height={height || '600px'}\n          language=\"json\"\n          theme=\"vs-dark\"\n          value={value}\n          options={{ selectOnLineNumbers: true }}\n          onChange={onChange}\n          editorDidMount={editorDidMount}\n        />\n      </div>\n      {uiInteractiveBtn}\n      {uiError}\n    </div>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Select } from 'antd';\nimport { SizeType } from 'antd/lib/config-provider/SizeContext';\nimport styles from './styles.module.css';\nimport { IDiCompPropsBase } from './types';\nimport { defaultSettings as d } from './common';\n\nconst { Option } = Select;\nconst stPre = { color: 'red', display: 'inline-block', verticalAlign: 'top' };\n\ninterface IProps extends IDiCompPropsBase {\n  value: any[] | any,\n  inputSize?: SizeType,\n  title?: string,\n  onChange?: (value: string | string[]) => void,\n  onSearch?: (value: string) => void,\n  interactiveLabel?: string,\n  interactiveBtnLoading?: boolean,\n  tooltip?: string,\n  error?: string,\n  data: { value: any, label: string }[],\n  /** 是否包含空选项 */\n  hasEmpty?: boolean,\n  /** 配合hasEmpty为true时使用，是否匹配上空值时才显示空选项 */\n  smartEmpty?: boolean,\n  emptyLabel?: string,\n  emptyValue?: any,\n  mode?: 'multiple' | 'tags',\n  showSearch?: boolean,\n}\n\nfunction DiSelect(props: IProps) {\n  const {\n    required = true, block, title, value, onChange, onSearch, data = [],\n    hasEmpty, emptyLabel = '不限', emptyValue = '', smartEmpty = false,\n    extraStyle = {}, placeholder = '', mode, error = '', disabled = false,\n    showSearch = false,\n  } = props;\n  const _showSearch = onSearch ? true : showSearch;\n  const style = { display: 'inline-block' };\n  if (block) style.display = 'block';\n  const uiRequired = <pre style={stPre}>{required ? '* ' : '  '}</pre>;\n\n  const {\n    title: titleSt = {},\n    item: itemSt = {},\n    input: inputSt = d.inputStyle,\n    inputSize = d.inputSize,\n  } = extraStyle;\n  const mergedItemSt = { ...style, ...itemSt }\n\n  let uiEmpty = '' as React.ReactNode;\n  if (hasEmpty) {\n    const tmpEmptyUI = <Option key=\"__hasEmpty__\" value={emptyValue}>{emptyLabel}</Option>;\n    if (smartEmpty) {\n      // 仅当传入value等于emptyValue时，显示空选项，否则就不显示\n      if (value === emptyValue) uiEmpty = tmpEmptyUI;\n    } else {\n      uiEmpty = tmpEmptyUI;\n    }\n  }\n\n  let uiError = '' as React.ReactNode;\n  if (error) {\n    uiError = (\n      <div className={styles.diItemError}>\n        <span className={styles.diItemTitle} style={titleSt}></span>\n        <div style={{ display: 'inline-block', wordWrap: 'break-word', ...inputSt }}>{error}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className={styles.diItemWrap} style={mergedItemSt}>\n      <span className={styles.diItemTitle} style={titleSt}>\n        {uiRequired}{title}\n      </span>\n      <Select mode={mode} value={value} size={inputSize} style={inputSt} onChange={onChange}\n        placeholder={placeholder} onSearch={onSearch} showArrow disabled={disabled} showSearch={_showSearch}\n      >\n        {uiEmpty}\n        {data.map((v: any, i: number) => <Option key={i} value={v.value}>{v.label}</Option>)}\n      </Select>\n      {uiError}\n    </div>\n  );\n}\n\nexport const DiSelectMemo = DiSelect.Memo = React.memo(function (props: IProps) {\n  return <DiSelect {...props} />\n});\n\nexport default DiSelect;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { IDiCompPropsBase } from './types';\nimport { defaultSettings as d } from './common';\nimport styles from './styles.module.css';\n\nfunction DiLabel(props: React.PropsWithChildren<{}>) {\n  return (\n    <div className={styles.diItemWrap} style={{ display: 'inline-block', height: '32px', lineHeight: '32px' }}>\n      {props.children}\n    </div>\n  );\n}\n\nconst stPre = { color: 'red', display: 'inline-block', verticalAlign: 'top' };\ninterface IBoxedProps extends IDiCompPropsBase {\n  value: string | number | boolean,\n  genBoolText?: boolean,\n  title?: string,\n  tooltip?: string,\n  error?: string,\n  required?: boolean,\n}\n\nDiLabel.Boxed = function Boxed(props: IBoxedProps) {\n  const {\n    title, value, block, required = true, extraStyle = {}, genBoolText = true,\n  } = props;\n  const style = { display: 'inline-block' };\n  if (block) style.display = 'block';\n  let label = value;\n  if (typeof value === 'boolean' && genBoolText) {\n    label = value ? '是' : '否';\n  }\n\n  const uiRequired = <pre style={stPre}>{required ? '* ' : '  '}</pre>;\n\n  const {\n    item: itemSt = {},\n    title: titleSt = {},\n    input: inputSt = d.boxedLabelStyle,\n  } = extraStyle;\n  const mergedItemSt = { ...style, ...itemSt };\n\n\n  return (\n    <div className={styles.diItemWrap} style={mergedItemSt}>\n      <span className={styles.diItemTitle} style={titleSt}>\n        {uiRequired}{title}\n      </span>\n      <span style={inputSt}>{label}</span>\n    </div>\n  );\n};\n\nexport default DiLabel;\n","import React from 'react';\nimport { Card, Button, Row, Col } from 'antd';\nimport { DiInput, DiSelect } from 'components/dumb/di';\nimport { EmptyView, VerticalBlank } from 'components/dumb/general';\nimport { CtxPre, useModelWithSetup } from './model/meta';\n\nfunction Title() {\n  const openPasssTab = () => window.open('https://www.baidu.com/s?wd=appid');\n  return (\n    <div >\n      step1:基础信息\n      <Button onClick={openPasssTab} style={{ float: 'right' }} type=\"primary\">\n        获取目标appID\n      </Button>\n    </div>\n  );\n}\n\nfunction setup(ctx: CtxPre) {\n  return {\n    appIdTip: '请输入在 xxx平台 注册过的appID',\n    intro: '请描述功能',\n    displayNamePlaceHolder: '如\"我们\"',\n    displayNameTip: '按照“xx_yy_zz格式',\n    viewNamePlaceHolder: '如\"cool_project\"',\n    viewNameTip: '不以数字结尾',\n  }\n}\n\ninterface IProps {\n  step: number,\n}\n\nfunction BasicInfo(props: IProps) {\n  const { sync, state, settings: se, mr, moduleComputed: mcu } = useModelWithSetup(setup);\n  const { errors } = state;\n  if (state.step !== props.step) return <EmptyView />;\n\n  return (\n    <Card title={<Title />}>\n      <Row>\n        <Col span={8}>\n          <DiInput title=\"appid:\" value={state.appId} onChange={sync('appId')} tooltip={se.appIdTip}\n            interactiveCb={mr.fetchAppIdInfo} interactiveBtnLoading={state.checkAppIdBtnLoading} error={errors.appId}\n          />\n        </Col>\n        <Col span={8}>\n          <DiInput disabled title=\"appDetail:\" value={state.appDetail} onChange={sync('appDetail')} error={errors.appDetail} />\n        </Col>\n      </Row>\n      <VerticalBlank />\n      <Row>\n        <Col span={8}>\n          <DiInput title=\"displayName:\" value={state.displayName} onChange={sync('displayName')} error={errors.displayName}\n            placeholder={se.displayNamePlaceHolder} tooltip={se.displayNameTip}\n          />\n        </Col>\n        <Col span={8}>\n          <DiInput title=\"申请人:\" value={state.creator} onChange={sync('creator')} error={errors.creator} />\n        </Col>\n      </Row>\n      <VerticalBlank />\n      <Row>\n        <Col span={12}>\n          <DiSelect title=\"负责人:\" data={mcu.staffDataList} value={state.monitor} onChange={sync('monitor')}\n            error={errors.monitor} onSearch={mr.searchMonitor} placeholder=\"选择多个负责人\" mode=\"multiple\"\n          />\n        </Col>\n      </Row>\n      <VerticalBlank />\n      <Row>\n        <Col span={12}>\n          <DiInput title=\"简介:\" value={state.comment} onChange={sync('comment')} placeholder={se.intro} error={errors.comment} />\n        </Col>\n      </Row>\n    </Card>\n  );\n}\n\nexport default React.memo(BasicInfo);\n","import React from 'react';\nimport { Card, Row, Col } from 'antd';\nimport { DiInput, DiSelect, DiInputNum, DiInputJsonMonaco } from 'components/dumb/di';\nimport { EmptyView, VerticalBlank } from 'components/dumb/general';\nimport { CtxPre, useModelWithSetup } from './model/meta';\n\nconst seEx = { title: { width: '150px' }, input: { width: 'calc(100% - 150px)' } };\n\nfunction setup(ctx: CtxPre) {\n  return {\n    dbTypeOptions: [\n      { value: 'kafka', label: 'kafka' },\n      { value: 'mysql', label: 'mysql' },\n    ],\n    formatter: (value: string) => `${value} 万`,\n    openJsonEditor: () => {\n      window.open('http://jsoneditoronline.org/');\n    }\n  }\n}\n\ninterface IProps {\n  step: number,\n}\n\nfunction DataSync(props: IProps) {\n  const { state, syncer, settings: se } = useModelWithSetup(setup);\n  const { errors } = state;\n  if (state.step !== props.step) return <EmptyView />;\n  return (\n    <Card title=\"数据源\">\n      <Row>\n        <Col span={8}>\n          <DiSelect title=\"数据库类型:\" value={state.dbType} onChange={syncer.dbType} error={errors.dbType}\n            data={se.dbTypeOptions} extraStyle={seEx}\n          />\n        </Col>\n        <Col span={8}>\n          <DiInput title=\"数据库别名:\" value={state.dbAlias} onChange={syncer.dbAlias} error={errors.dbAlias}\n            extraStyle={seEx}\n          />\n        </Col>\n      </Row>\n      <VerticalBlank />\n      <Row>\n        <Col span={8}>\n          <DiInputNum title=\"预估总数1:\" value={state.count1} onChange={syncer.count1}\n            error={errors.count1} extraStyle={seEx} formatter={se.formatter}\n          />\n        </Col>\n        <Col span={8}>\n          <DiInputNum title=\"预估总数2:\" value={state.count2} onChange={syncer.count2}\n            error={errors.count2} extraStyle={seEx} formatter={se.formatter}\n          />\n        </Col>\n        <Col span={8}>\n          <DiInputNum title=\"预估总数3:\" value={state.count3} onChange={syncer.count3}\n            error={errors.count3} extraStyle={seEx} formatter={se.formatter}\n          />\n        </Col>\n      </Row>\n      <VerticalBlank />\n      <Row>\n        <Col span={16}>\n          <DiInputJsonMonaco title=\"示例数据:\" value={state.dataExample} onChange={syncer.dataExample}\n            extraStyle={seEx} error={errors.dataExample} interactiveCb={se.openJsonEditor}\n            interactiveLabel=\"Open JsonEditor\"\n          />\n        </Col>\n      </Row>\n    </Card>\n  );\n}\n\nexport default React.memo<IProps>(DataSync);\n","import * as bizCst from '../constant/biz';\n\nexport const fieldTypeOptions = bizCst.FIELD_TYPE_LIST.map(item => ({ value: item, label: item }));\n","import React from 'react';\nimport { Card, Button, Row, Col, Empty } from 'antd';\nimport styled from 'styled-components';\nimport { PlusCircleOutlined, MinusCircleOutlined } from '@ant-design/icons';\nimport { EmptyView, VerticalBlank } from 'components/dumb/general';\nimport { DiInput, DiSelect, DiInputNum } from 'components/dumb/di';\nimport { fieldTypeOptions } from 'configs/derived/biz';\nimport { CtxPre, useModelWithSetup } from './model/meta';\nimport { FieldGroupItem } from './model/state';\n\nconst seEx = { title: { width: '150px' }, input: { width: 'calc(100% - 150px)' } };\nconst seGroupFieldsEx = { title: { width: '150px' }, input: { width: '50%' } };\nconst stAddFieldBtn = { width: '100%' };\nconst stMinusBtnWrap = { margin: '6px 32px', float: 'right', color: 'var(--theme-color)' } as React.CSSProperties;\nconst stMinusBtnWrap2 = { marginTop: '6px', float: 'right', color: 'var(--theme-color)' } as React.CSSProperties;\nconst stMinusBtnWrap3 = { margin: '6px 32px', float: 'right', color: 'var(--theme-color)' } as React.CSSProperties;\nconst stMinusBtn = { fontSize: '18px', marginRight: '5px', verticalAlign: 'middle' } as React.CSSProperties;\nconst stMinusBtnLabel = { verticalAlign: 'middle' } as React.CSSProperties;\nconst MyCard = styled(Card)`\n  .ant-card-head-wrapper{\n    height:46px;\n    font-size: 14px;\n  }\n`;\nconst stExtra = { item: { width: '300px' }, title: { width: '70px' } };\n\nfunction setup(ctx: CtxPre) {\n  const { mr, sync } = ctx;\n  return {\n    stInnerCard: { backgroundColor: '#E8F1FF', height: '46px', fontWeight: 400 },\n    tureOrFalseOptions: [\n      { value: true, label: '是' },\n      { value: false, label: '否' },\n    ],\n    uiGroupTitle(field: FieldGroupItem, index: number) {\n      return (\n        <div style={{ marginTop: '12px' }}>\n          <DiInput title=\"分组名: \" value={field.groupFieldName} onChange={sync(`groupFields.${index}.groupFieldName`)}\n            extraStyle={stExtra} placeholder={`请输入分组${index + 1}的名称`}\n          />\n          <span className=\"gHover\" style={stMinusBtnWrap3} onClick={() => mr.addGroup(index)}>\n            <PlusCircleOutlined style={stMinusBtn} />\n            <span style={stMinusBtnLabel}>添加分组</span>\n          </span>\n          {index !== 0\n            && <span className=\"gHover\" style={stMinusBtnWrap2} onClick={() => mr.removeGroup(index)}>\n              <MinusCircleOutlined style={stMinusBtn} />\n              <span style={stMinusBtnLabel}>删除分组</span>\n            </span>\n          }\n        </div>\n      );\n    },\n  }\n}\n\ninterface IProps {\n  step: number,\n}\n\nfunction Step3(props: IProps) {\n  const { state, sync, settings: se, mr, moduleComputed: mcu } = useModelWithSetup(setup);\n  if (state.step !== props.step) return <EmptyView />;\n  const lastIdx = state.fields.length - 1;\n\n  return (\n    <Card title=\"Step3\">\n      <Row>\n        <Col span={8}>\n          <DiInput title=\"表名:\" value={state.tableDb} onChange={sync('tableDb')} extraStyle={seEx}\n            placeholder=\"请输入表名\"\n          />\n        </Col>\n      </Row>\n      <VerticalBlank />\n      <Button type=\"link\">字段控制</Button>\n      <VerticalBlank height=\"8px\" />\n      <MyCard title=\"字段类型输入\" headStyle={se.stInnerCard}>\n        {lastIdx === -1 && <Empty />}\n        {state.fields.map((f, i) => (\n          <div key={i} style={{ borderBottom: `1px solid ${lastIdx === i ? 'transparent' : 'lightgrey'}`, marginBottom: '13px' }}>\n            <Row>\n              <Col span={8}>\n                <DiSelect title=\"数据字段:\" value={f.fieldName} onChange={sync(`fields.${i}.fieldName`)} extraStyle={seEx}\n                  data={state.fieldOptionsList[i]} />\n              </Col>\n              <Col span={8}>\n                <DiSelect title=\"数据转换类型:\" value={f.fieldType} onChange={sync(`fields.${i}.fieldType`)} extraStyle={seEx}\n                  data={fieldTypeOptions} />\n              </Col>\n              <Col span={8} style={{ float: 'right' }} onClick={() => mr.removeField(i)}>\n                <span className=\"gHover\" style={stMinusBtnWrap}>\n                  <MinusCircleOutlined style={stMinusBtn} />\n                  <span style={stMinusBtnLabel}>删除</span>\n                </span>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={8}>\n                <DiSelect title=\"是否多个存在:\" value={f.isMulti} onChange={sync(`fields.${i}.isMulti`)} extraStyle={seEx}\n                  data={se.tureOrFalseOptions} />\n              </Col>\n              {f.isMulti\n                ? <Col span={8}>\n                  <DiInputNum title=\"值数量:\" value={f.count} onChange={sync(`fields.${i}.count`)} extraStyle={seEx}\n                  />\n                </Col>\n                : ''\n              }\n            </Row>\n          </div>\n        ))}\n        <Button type=\"dashed\" style={stAddFieldBtn} onClick={mr.addField}><PlusCircleOutlined />新增数据字段</Button>\n      </MyCard>\n      <VerticalBlank />\n      <Button type=\"link\">分组字段设置</Button>\n      <VerticalBlank height=\"8px\" />\n      {state.groupFields.map((f, i) => (\n        <MyCard key={i} title={se.uiGroupTitle(f, i)} headStyle={se.stInnerCard} style={{ marginBottom: '12px' }}>\n          <DiSelect title=\"数据字段:\" value={f.fields} onChange={sync(`groupFields.${i}.fields`)}\n            mode=\"multiple\" data={mcu.exampleData.options} extraStyle={seGroupFieldsEx}\n          />\n        </MyCard>\n      ))}\n    </Card>\n  );\n}\n\nexport default React.memo<IProps>(Step3);\n","import React from 'react';\nimport { Button, Row, Col } from 'antd';\nimport { EmptyView, VerticalBlank, Blank } from 'components/dumb/general';\nimport { useModel } from './model/meta';\n\nfunction ButtonRow() {\n  const { state, mr } = useModel();\n  const { step, finishStep } = state;\n\n  let uiPrevBtn = <EmptyView />;\n  let uiNextBtn = <EmptyView />;\n  if (step === 1 || step <= finishStep) {\n    uiNextBtn = <Button type=\"primary\" onClick={mr.nextStep} loading={state.nextBtnLoading}>下一步</Button>\n  }\n  if (step > 1) {\n    uiPrevBtn = <Button type=\"primary\" onClick={mr.pervStep}>上一步</Button>\n  }\n\n  return (\n    <Row style={{ textAlign: 'center' }}>\n      <VerticalBlank />\n      <Col span={24}>{uiPrevBtn}<Blank />{uiNextBtn}</Col>\n    </Row>\n  );\n}\n\nexport default React.memo(ButtonRow);","import './model';\nimport React from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport Steps from './Steps';\nimport Step1 from './Step1';\nimport Step2 from './Step2';\nimport Step3 from './Step3';\nimport NextOrPrev from './NextOrPrev';\n\nfunction Home(props: RouteComponentProps) {\n  return (\n    <div style={{ paddingTop: '180px' }}>\n      <Steps />\n      <Step1 step={1} />\n      <Step2 step={2} />\n      <Step3 step={3} />\n      <NextOrPrev />\n    </div>\n  );\n}\n\nexport default React.memo(Home);\n"],"sourceRoot":""}